/*! For license information please see All.min.js.LICENSE.txt */
!function(){var e,t,i={307:function(e){var t;t=()=>(()=>{"use strict";var e={935:function(e,t,i){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Arcs=void 0;var n=i(426),o=i(941),a=function(){function e(e){this._options=null!=e?e:{}}return e.prototype.draw=function(e,t){var i=t.canvas,a=i.height,r=i.width,l=new n.Shapes(t),d=new o.AudioData(e),c=a/2,h=r/2;this._options=s({count:30,diameter:a/3,lineWidth:3,frequencyBand:"mids",rounded:!0},this._options),this._options.frequencyBand&&d.setFrequencyBand(this._options.frequencyBand),d.scaleData(Math.min(r,a));for(var u=0;u<=this._options.count/2;u++){var p=Math.floor(d.data.length/this._options.count)*u,m=d.data[p],g=(r-this._options.diameter)/this._options.count*u,v=180-45/(255/m/2),y=180+45/(255/m/2),f=2*m;l.arc(g+f/2,c,f,v,y,this._options)}var b=Math.floor(d.data.length/2),w=d.data[b];for(l.circle(h,c,this._options.diameter*(w/255),this._options),u=this._options.count/2;u<=this._options.count;u++){var S=Math.floor(d.data.length/this._options.count)*u,E=d.data[S];g=(r-this._options.diameter)/this._options.count*u+this._options.diameter,v=180-45/(255/E/2),y=180+45/(255/E/2),f=2*E,l.arc(g-f/2,c,f,v+180,y+180,this._options)}},e}();t.Arcs=a},519:function(e,t,i){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Circles=void 0;var n=i(426),o=i(941),a=function(){function e(e){this._options=null!=e?e:{}}return e.prototype.draw=function(e,t){var i=t.canvas,a=i.height,r=i.width,l=new n.Shapes(t),d=new o.AudioData(e),c=r/2,h=a/2;this._options=s({count:40,diameter:0,fillColor:"rgba(0,0,0,0)",frequencyBand:"mids"},this._options),this._options.frequencyBand&&d.setFrequencyBand(this._options.frequencyBand),d.scaleData(Math.min(r,a));for(var u=0;u<this._options.count;u++){var p=Math.floor(d.data.length/this._options.count)*u,m=d.data[p];l.circle(c,h,this._options.diameter+m,this._options)}},e}();t.Circles=a},938:function(e,t,i){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Cubes=void 0;var n=i(426),o=i(941),a=function(){function e(e){this._options=null!=e?e:{}}return e.prototype.draw=function(e,t){var i,a,r,l,d,c,h,u,p,m,g,v,y=t.canvas,f=y.height,b=y.width,w=new n.Shapes(t),S=new o.AudioData(e);this._options=s({count:20,frequencyBand:"mids",gap:5},this._options);var E=Math.floor((b-this._options.gap*this._options.count)/this._options.count);if((null===(i=this._options)||void 0===i?void 0:i.cubeHeight)||(this._options.cubeHeight=E),this._options.frequencyBand&&S.setFrequencyBand(this._options.frequencyBand),S.scaleData(Math.min(b,f)),null===(a=this._options)||void 0===a?void 0:a.mirroredX)for(var A=1,L=Math.ceil(S.data.length/2);L<S.data.length;L++)S.data[L]=S.data[Math.ceil(S.data.length/2)-A],A++;if(null===(r=this._options)||void 0===r?void 0:r.top)for(L=0;L<this._options.count;L++)for(var C=Math.floor(S.data.length/this._options.count)*L,P=S.data[C],_=(this._options.gap+E)*L,x=Math.ceil(P/E),k=0;k<x;k++){var T=k*(this._options.cubeHeight+this._options.gap);w.rectangle(_,T,E,this._options.cubeHeight,this._options)}if(null===(l=this._options)||void 0===l?void 0:l.right)for(L=0;L<this._options.count;L++)for(C=Math.floor(S.data.length/this._options.count)*L,P=S.data[C],T=L*(this._options.cubeHeight+this._options.gap),x=Math.ceil(P/E),k=0;k<x;k++)_=b-(this._options.gap+E)*k,w.rectangle(_,T,E,this._options.cubeHeight,this._options);if((null===(d=this._options)||void 0===d?void 0:d.bottom)||!(null===(c=this._options)||void 0===c?void 0:c.top)&&!(null===(h=this._options)||void 0===h?void 0:h.right)&&!(null===(u=this._options)||void 0===u?void 0:u.left)&&!(null===(p=this._options)||void 0===p?void 0:p.center))for(L=0;L<this._options.count;L++)for(C=Math.floor(S.data.length/this._options.count)*L,P=S.data[C],_=(this._options.gap+E)*L,x=Math.ceil(P/E),k=0;k<x;k++)T=f-k*(this._options.cubeHeight+this._options.gap),w.rectangle(_,T,E,this._options.cubeHeight,this._options);if(null===(m=this._options)||void 0===m?void 0:m.left)for(L=0;L<this._options.count;L++)for(C=Math.floor(S.data.length/this._options.count)*L,P=S.data[C],T=L*(this._options.cubeHeight+this._options.gap),x=Math.ceil(P/E),k=0;k<x;k++)_=(this._options.gap+E)*k,w.rectangle(_,T,E,this._options.cubeHeight,this._options);if(null===(g=this._options)||void 0===g?void 0:g.center){for(L=0;L<this._options.count;L++)for(C=Math.floor(S.data.length/this._options.count)*L,P=S.data[C],_=(this._options.gap+E)*L,x=Math.ceil(P/E),k=0;k<x;k++)T=f/2-k*(this._options.cubeHeight+this._options.gap),w.rectangle(_,T,E,this._options.cubeHeight,this._options);if(null===(v=this._options)||void 0===v?void 0:v.mirroredY)for(L=0;L<this._options.count;L++)for(C=Math.floor(S.data.length/this._options.count)*L,P=S.data[C],_=(this._options.gap+E)*L,x=Math.ceil(P/E),k=0;k<x;k++)T=f/2+k*(this._options.cubeHeight+this._options.gap),w.rectangle(_,T,E,this._options.cubeHeight,this._options)}},e}();t.Cubes=a},540:function(e,t,i){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Flower=void 0;var n=i(426),o=i(941),a=function(){function e(e){this._options=null!=e?e:{}}return e.prototype.draw=function(e,t){var i=t.canvas,a=i.height,r=i.width,l=new n.Shapes(t),d=new o.AudioData(e);this._options=s({count:20,diameter:a/3,frequencyBand:"mids",rotate:0},this._options);var c=r/2,h=a/2,u=360/this._options.count;this._options.frequencyBand&&d.setFrequencyBand(this._options.frequencyBand),d.scaleData(Math.min(r,a));for(var p=0;p<this._options.count;p++){var m=Math.floor(d.data.length/this._options.count)*p,g=d.data[m],v=l.toRadians(u*p+this._options.rotate),y=l.toRadians(u*(p+1)+this._options.rotate),f=this._options.diameter/2*Math.cos(v)+c,b=this._options.diameter/2*Math.sin(v)+h,w=this._options.diameter/2*Math.cos(y)+c,S=this._options.diameter/2*Math.sin(y)+h,E=this._options.diameter+g,A=E/2*Math.cos(v)+c,L=E/2*Math.sin(v)+h,C=E/2*Math.cos(y)+c,P=E/2*Math.sin(y)+h;l.polygon([{x:f,y:b},{x:A,y:L},{x:C,y:P},{x:w,y:S}],this._options)}},e}();t.Flower=a},522:function(e,t,i){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Glob=void 0;var n=i(426),o=i(941),a=function(){function e(e){this._options=null!=e?e:{}}return e.prototype.draw=function(e,t){var i,a=t.canvas,r=a.height,l=a.width,d=new n.Shapes(t),c=new o.AudioData(e),h=l/2,u=r/2;if(this._options=s({count:100,diameter:r/3,frequencyBand:"mids",rounded:!0},this._options),this._options.frequencyBand&&c.setFrequencyBand(this._options.frequencyBand),c.scaleData(Math.min(l,r)),null===(i=this._options)||void 0===i?void 0:i.mirroredX)for(var p=1,m=Math.ceil(c.data.length/2);m<c.data.length;m++)c.data[m]=c.data[Math.ceil(c.data.length/2)-p],p++;var g=[];for(m=0;m<this._options.count;m++){var v=Math.floor(c.data.length/this._options.count)*m,y=c.data[v],f=360/this._options.count,b=this._options.diameter+y,w=h+b/2*Math.cos(d.toRadians(f*m)),S=u+b/2*Math.sin(d.toRadians(f*m));g.push({x:w,y:S})}g.push(g[0]),d.polygon(g,this._options)},e}();t.Glob=a},658:function(e,t,i){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Lines=void 0;var n=i(426),o=i(941),a=function(){function e(e){this._options=null!=e?e:{}}return e.prototype.draw=function(e,t){var i,a,r,l,d,c,h,u,p,m,g,v=t.canvas,y=v.height,f=v.width,b=new n.Shapes(t),w=new o.AudioData(e);if(this._options=s({count:64,frequencyBand:"mids"},this._options),this._options.frequencyBand&&w.setFrequencyBand(this._options.frequencyBand),w.scaleData(Math.min(f,y)),null===(i=this._options)||void 0===i?void 0:i.mirroredX)for(var S=1,E=Math.ceil(w.data.length/2);E<w.data.length;E++)w.data[E]=w.data[Math.ceil(w.data.length/2)-S],S++;if(null===(a=this._options)||void 0===a?void 0:a.top)for(E=1;E<=this._options.count;E++){var A=Math.floor(w.data.length/this._options.count)*E,L=w.data[A],C=0,P=x=f/this._options.count*E,_=L;b.line(x,C,P,_,this._options)}if(null===(r=this._options)||void 0===r?void 0:r.right)for(E=1;E<=this._options.count;E++){A=Math.floor(w.data.length/this._options.count)*E;var x=f;P=f-(L=w.data[A]),_=C=y/this._options.count*E,b.line(x,C,P,_,this._options)}if((null===(l=this._options)||void 0===l?void 0:l.bottom)||!(null===(d=this._options)||void 0===d?void 0:d.top)&&!(null===(c=this._options)||void 0===c?void 0:c.right)&&!(null===(h=this._options)||void 0===h?void 0:h.left)&&!(null===(u=this._options)||void 0===u?void 0:u.center))for(E=1;E<=this._options.count;E++)A=Math.floor(w.data.length/this._options.count)*E,L=w.data[A],P=x=f/this._options.count*E,_=(C=y)-L,b.line(x,C,P,_,this._options);if(null===(p=this._options)||void 0===p?void 0:p.left)for(E=1;E<=this._options.count;E++)A=Math.floor(w.data.length/this._options.count)*E,x=0,P=L=w.data[A],_=C=y/this._options.count*E,b.line(x,C,P,_,this._options);if(null===(m=this._options)||void 0===m?void 0:m.center)for(E=1;E<=this._options.count;E++)A=Math.floor(w.data.length/this._options.count)*E,L=w.data[A],P=x=f/this._options.count*E,_=(C=y/2)-L,b.line(x,C,P,_,this._options),(null===(g=this._options)||void 0===g?void 0:g.mirroredY)&&(P=x=f/this._options.count*E,_=(C=y/2)+L,b.line(x,C,P,_,this._options))},e}();t.Lines=a},817:function(e,t,i){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Shine=void 0;var n=i(426),o=i(941),a=function(){function e(e){this._options=null!=e?e:{}}return e.prototype.draw=function(e,t){var i,a=t.canvas,r=a.height,l=a.width,d=new n.Shapes(t),c=new o.AudioData(e);this._options=s({count:30,rotate:0,diameter:r/3,frequencyBand:"mids"},this._options);var h=l/2,u=r/2,p=360/this._options.count;this._options.frequencyBand&&c.setFrequencyBand(this._options.frequencyBand),c.scaleData(Math.min(l,r));for(var m=0;m<this._options.count;m++){var g=Math.floor(c.data.length/this._options.count)*m,v=c.data[g],y=d.toRadians(p*m+this._options.rotate),f=(null===(i=this._options)||void 0===i?void 0:i.offset)?this._options.diameter-v/2:this._options.diameter,b=this._options.diameter+v,w=f/2*Math.cos(y)+h,S=f/2*Math.sin(y)+u,E=b/2*Math.cos(y)+h,A=b/2*Math.sin(y)+u;d.line(w,S,E,A,this._options)}},e}();t.Shine=a},123:function(e,t,i){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Square=void 0;var n=i(426),o=i(941),a=function(){function e(e){this._options=null!=e?e:{}}return e.prototype.draw=function(e,t){var i=t.canvas,a=i.height,r=i.width,l=new n.Shapes(t),d=new o.AudioData(e);this._options=s({count:40,diameter:a/3,frequencyBand:"mids"},this._options);var c=this._options.count/4,h=r/2,u=a/2;this._options.frequencyBand&&d.setFrequencyBand(this._options.frequencyBand),d.scaleData(Math.min(r,a));for(var p=0;p<c;p++){var m=Math.floor(d.data.length/this._options.count)*p,g=d.data[m],v=this._options.diameter/c,y=h-this._options.diameter/2+v*p,f=u-this._options.diameter/2;l.line(y,f,y,f-g,this._options)}for(p=0;p<c;p++){m=Math.floor(d.data.length/this._options.count)*(2*p),g=d.data[m];var b=this._options.diameter/c;y=h+this._options.diameter/2,f=u-this._options.diameter/2+b*p,l.line(y,f,y+g,f,this._options)}for(p=0;p<c;p++)m=Math.floor(d.data.length/this._options.count)*(3*p),g=d.data[m],v=this._options.diameter/c,y=h-this._options.diameter/2+v*p,f=u+this._options.diameter/2,l.line(y,f,y,f+g,this._options);for(p=0;p<c;p++)m=Math.floor(d.data.length/this._options.count)*(4*p),g=d.data[m],b=this._options.diameter/c,y=h-this._options.diameter/2,f=u-this._options.diameter/2+b*p,l.line(y,f,y-g,f,this._options)},e}();t.Square=a},270:function(e,t,i){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Turntable=void 0;var n=i(426),o=i(941),a=function(){function e(e){this._options=null!=e?e:{}}return e.prototype.draw=function(e,t){var i=t.canvas,a=i.height,r=i.width,l=new n.Shapes(t),d=new o.AudioData(e);this._options=s({count:20,rotate:0,diameter:a/3,cubeHeight:20,frequencyBand:"mids",gap:5},this._options);var c=r/2,h=a/2,u=360/this._options.count;this._options.frequencyBand&&d.setFrequencyBand(this._options.frequencyBand),d.scaleData(Math.min(r,a));for(var p=0;p<this._options.count;p++)for(var m=Math.floor(d.data.length/this._options.count)*p,g=d.data[m],v=0;v<g/this._options.cubeHeight;v++){var y=this._options.diameter+this._options.cubeHeight*v+this._options.gap,f=this._options.diameter+this._options.cubeHeight*(v+1),b=l.toRadians(u*p+this._options.rotate+this._options.gap/4),w=l.toRadians(u*(p+1)+this._options.rotate),S=y/2*Math.cos(b)+c,E=y/2*Math.sin(b)+h,A=y/2*Math.cos(w)+c,L=y/2*Math.sin(w)+h,C=f/2*Math.cos(b)+c,P=f/2*Math.sin(b)+h,_=f/2*Math.cos(w)+c,x=f/2*Math.sin(w)+h;l.polygon([{x:S,y:E},{x:C,y:P},{x:_,y:x},{x:A,y:L}],this._options)}},e}();t.Turntable=a},857:function(e,t,i){var s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Wave=void 0;var n=i(426),o=i(941),a=function(){function e(e){this._options=null!=e?e:{}}return e.prototype.draw=function(e,t){var i=t.canvas,a=i.height,r=i.width,l=new o.AudioData(e),d=new n.Shapes(t);if(this._options=s({count:64,frequencyBand:"mids"},this._options),this._options.frequencyBand&&l.setFrequencyBand(this._options.frequencyBand),l.scaleData(Math.min(r,a)),this._options.mirroredX)for(var c=1,h=Math.ceil(l.data.length/2);h<l.data.length;h++)l.data[h]=l.data[Math.ceil(l.data.length/2)-c],c++;if(this._options.top){var u=[{x:0,y:0}];for(h=0;h<=this._options.count;h++){var p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p];u.push({x:Math.floor(r/this._options.count)*h,y:m})}u.push({x:r,y:0}),d.polygon(u,this._options)}if(this._options.right){for(u=[{x:r,y:0}],h=0;h<=this._options.count;h++)p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p],u.push({x:r-m,y:Math.floor(r/this._options.count)*h});u.push({x:r,y:a}),d.polygon(u,this._options)}if(this._options.bottom||!this._options.top&&!this._options.right&&!this._options.left&&!this._options.center){for(u=[{x:0,y:a}],h=0;h<=this._options.count;h++)p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p],u.push({x:Math.floor(r/this._options.count)*h,y:a-m});u.push({x:r,y:a}),d.polygon(u,this._options)}if(this._options.left){for(u=[{x:0,y:0}],h=0;h<=this._options.count;h++)p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p],u.push({x:m,y:Math.floor(r/this._options.count)*h});u.push({x:0,y:a}),d.polygon(u,this._options)}if(this._options.center){for(u=[{x:0,y:a/2}],h=0;h<=this._options.count;h++)p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p],u.push({x:Math.floor(r/this._options.count)*h,y:a/2-m});if(u.push({x:r,y:a/2}),d.polygon(u,this._options),this._options.mirroredY){for(u=[{x:0,y:a/2}],h=0;h<=this._options.count;h++)p=Math.floor(l.data.length/this._options.count)*h,m=l.data[p],u.push({x:Math.floor(r/this._options.count)*h,y:a/2+m});u.push({x:r,y:a/2}),d.polygon(u,this._options)}}},e}();t.Wave=a},941:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioData=void 0;var i=function(){function e(e){this.data=e}return e.prototype.setFrequencyBand=function(e){var t=Math.floor(.0625*this.data.length),i=Math.floor(.0625*this.data.length),s=Math.floor(.375*this.data.length),n={base:this.data.slice(0,t),lows:this.data.slice(t+1,t+i),mids:this.data.slice(t+i+1,t+i+s),highs:this.data.slice(t+i+s+1)};this.data=n[e]},e.prototype.scaleData=function(e){e<255&&(this.data=this.data.map((function(t){var i=Math.round(t/255*100)/100;return e*i})))},e}();t.AudioData=i},426:function(e,t){var i=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,o){function a(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,r)}l((s=s.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,s,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Shapes=void 0;var n=function(){function e(e){this._canvasContext=e}return e.prototype.toRadians=function(e){return e*Math.PI/180},e.prototype.toDegrees=function(e){return 180*e/Math.PI},e.prototype._rotatePoint=function(e,t,i,s,n){var o=this.toRadians(n);return{x:Math.cos(o)*(i-e)-Math.sin(o)*(s-t)+e,y:Math.sin(o)*(i-e)+Math.cos(o)*(s-t)+t}},e.prototype._makeGradient=function(e,t){var i=0,s=this._canvasContext.canvas.height/2,n=this._canvasContext.canvas.width,o=this._canvasContext.canvas.height/2;if(t){var a=this._canvasContext.canvas.width/2,r=this._canvasContext.canvas.height/2,l=this._rotatePoint(a,r,i,s,t);i=l.x,s=l.y;var d=this._rotatePoint(a,r,n,o,t);n=d.x,o=d.y}var c=this._canvasContext.createLinearGradient(i,s,n,o);return e.forEach((function(t,i){c.addColorStop(1/e.length*i,t)})),c},e.prototype._makeImage=function(e){return i(this,void 0,void 0,(function(){var t,i=this;return s(this,(function(s){return(t=new Image).src=e,[2,new Promise((function(e,s){t.onload=function(){var s=i._canvasContext.createPattern(t,"repeat");e(s)}}))]}))}))},e.prototype._implementOptions=function(e,t){var i,s,n,o,a,r,l,d,c,h,u,p,m=this;void 0===t&&(t=!0),"string"==typeof(null==e?void 0:e.lineColor)?this._canvasContext.strokeStyle=e.lineColor:(null===(i=null==e?void 0:e.lineColor)||void 0===i?void 0:i.gradient)?this._canvasContext.strokeStyle=this._makeGradient(e.lineColor.gradient,e.lineColor.rotate):(null===(s=null==e?void 0:e.lineColor)||void 0===s?void 0:s.image)?this._makeImage(null===(n=null==e?void 0:e.lineColor)||void 0===n?void 0:n.image).then((function(e){return m._canvasContext.strokeStyle=e})):this._canvasContext.strokeStyle="#000","string"==typeof(null==e?void 0:e.fillColor)?this._canvasContext.fillStyle=e.fillColor:(null===(o=null==e?void 0:e.fillColor)||void 0===o?void 0:o.gradient)?this._canvasContext.fillStyle=this._makeGradient(e.fillColor.gradient,e.fillColor.rotate):(null===(a=null==e?void 0:e.fillColor)||void 0===a?void 0:a.image)?this._makeImage(null===(r=null==e?void 0:e.fillColor)||void 0===r?void 0:r.image).then((function(e){return m._canvasContext.fillStyle=e})):this._canvasContext.fillStyle="#000",this._canvasContext.lineCap=null!==(l=(null==e?void 0:e.rounded)?"round":"butt")&&void 0!==l?l:"butt",this._canvasContext.lineWidth=null!==(d=null==e?void 0:e.lineWidth)&&void 0!==d?d:1,this._canvasContext.shadowColor=null!==(h=null===(c=null==e?void 0:e.glow)||void 0===c?void 0:c.color)&&void 0!==h?h:"rgba(0,0,0,0)",this._canvasContext.shadowBlur=null!==(p=null===(u=null==e?void 0:e.glow)||void 0===u?void 0:u.strength)&&void 0!==p?p:0,this._canvasContext.shadowOffsetX=0,this._canvasContext.shadowOffsetY=0,t&&this._canvasContext.closePath(),this._canvasContext.stroke(),t&&this._canvasContext.fill()},e.prototype.arc=function(e,t,i,s,n,o){return this._canvasContext.beginPath(),this._canvasContext.arc(e,t,i/2,this.toRadians(s),this.toRadians(n)),this._implementOptions(o,!1),this},e.prototype.circle=function(e,t,i,s){return this._canvasContext.beginPath(),this._canvasContext.arc(e,t,i/2,0,2*Math.PI),this._implementOptions(s),this},e.prototype.line=function(e,t,i,s,n){return this._canvasContext.beginPath(),this._canvasContext.moveTo(e,t),this._canvasContext.lineTo(i,s),this._implementOptions(n),this},e.prototype.polygon=function(e,t){var i;this._canvasContext.beginPath(),this._canvasContext.moveTo(e[0].x,e[0].y);for(var s=0;s<e.length;s++){var n=e[s],o=null!==(i=e[s+1])&&void 0!==i?i:n,a=(n.x+o.x)/2,r=(n.y+o.y)/2;(null==t?void 0:t.rounded)?this._canvasContext.quadraticCurveTo(e[s].x,e[s].y,a,r):this._canvasContext.lineTo(e[s].x,e[s].y)}return this._implementOptions(t),this},e.prototype.rectangle=function(e,t,i,s,n){var o,a=null!==(o=null==n?void 0:n.radius)&&void 0!==o?o:0;return i<2*a&&(a=i/2),s<2*a&&(a=s/2),this._canvasContext.beginPath(),this._canvasContext.moveTo(e+a,t),this._canvasContext.arcTo(e+i,t,e+i,t+s,a),this._canvasContext.arcTo(e+i,t+s,e,t+s,a),this._canvasContext.arcTo(e,t+s,e,t,a),this._canvasContext.arcTo(e,t,e+i,t,a),this._implementOptions(n),this},e}();t.Shapes=n}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,i),o.exports}var s={};return(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.Wave=void 0;var t=i(935),n=i(519),o=i(938),a=i(540),r=i(522),l=i(658),d=i(817),c=i(123),h=i(270),u=i(857),p=function(){function e(e,i,s){void 0===s&&(s=!1);var p=this;this.animations={Arcs:t.Arcs,Circles:n.Circles,Cubes:o.Cubes,Flower:a.Flower,Glob:r.Glob,Lines:l.Lines,Shine:d.Shine,Square:c.Square,Turntable:h.Turntable,Wave:u.Wave},this._activeAnimations=[],this._canvasElement=i,this._canvasContext=this._canvasElement.getContext("2d"),this._muteAudio=s,e instanceof HTMLAudioElement?(this._audioElement=e,this._audioElement.addEventListener("play",(function(){p._audioContext=new AudioContext,p._audioSource=p._audioContext.createMediaElementSource(p._audioElement),p._audioAnalyser=p._audioContext.createAnalyser(),p._play()}),{once:!0})):(this._audioContext=e.context,this._audioSource=e.source,this._audioAnalyser=this._audioContext.createAnalyser(),this._play())}return e.prototype._play=function(){var e=this;this._audioSource.connect(this._audioAnalyser),this._muteAudio||this._audioSource.connect(this._audioContext.destination),this._audioAnalyser.smoothingTimeConstant=.85,this._audioAnalyser.fftSize=1024;var t=new Uint8Array(this._audioAnalyser.frequencyBinCount),i=function(){e._audioAnalyser.getByteFrequencyData(t),e._canvasContext.clearRect(0,0,e._canvasContext.canvas.width,e._canvasContext.canvas.height),e._activeAnimations.forEach((function(i){i.draw(t,e._canvasContext)})),window.requestAnimationFrame(i)};i()},e.prototype.addAnimation=function(e){this._activeAnimations.push(e)},e.prototype.clearAnimations=function(){this._activeAnimations=[]},e}();e.Wave=p})(),s})(),e.exports=t()},741:function(e,t,i){var s,n;!function(o,a){"use strict";void 0===(n="function"==typeof(s=a)?s.call(t,i,t,e):s)||(e.exports=n)}(window,(function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var s=t[i]+"MatchesSelector";if(e[s])return s}}();return function(t,i){return t[e](i)}}))},158:function(e,t,i){var s,n;"undefined"!=typeof window&&window,void 0===(n="function"==typeof(s=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},s=i[e]=i[e]||[];return-1==s.indexOf(t)&&s.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var s=i.indexOf(t);return-1!=s&&i.splice(s,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var s=this._onceEvents&&this._onceEvents[e],n=0;n<i.length;n++){var o=i[n];s&&s[o]&&(this.off(e,o),delete s[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?s.call(t,i,t,e):s)||(e.exports=n)},47:function(e,t,i){var s,n;!function(o,a){s=[i(741)],n=function(e){return function(e,t){"use strict";var i={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},s=Array.prototype.slice;i.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?s.call(e):[e]},i.removeFrom=function(e,t){var i=e.indexOf(t);-1!=i&&e.splice(i,1)},i.getParent=function(e,i){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,i))return e},i.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.filterFindElements=function(e,s){e=i.makeArray(e);var n=[];return e.forEach((function(e){if(e instanceof HTMLElement)if(s){t(e,s)&&n.push(e);for(var i=e.querySelectorAll(s),o=0;o<i.length;o++)n.push(i[o])}else n.push(e)})),n},i.debounceMethod=function(e,t,i){i=i||100;var s=e.prototype[t],n=t+"Timeout";e.prototype[t]=function(){var e=this[n];clearTimeout(e);var t=arguments,o=this;this[n]=setTimeout((function(){s.apply(o,t),delete o[n]}),i)}},i.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},i.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,i){return t+"-"+i})).toLowerCase()};var n=e.console;return i.htmlInit=function(t,s){i.docReady((function(){var o=i.toDashed(s),a="data-"+o,r=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+o),d=i.makeArray(r).concat(i.makeArray(l)),c=a+"-options",h=e.jQuery;d.forEach((function(e){var i,o=e.getAttribute(a)||e.getAttribute(c);try{i=o&&JSON.parse(o)}catch(t){return void(n&&n.error("Error parsing "+a+" on "+e.className+": "+t))}var r=new t(e,i);h&&h.data(e,s,r)}))}))},i}(o,e)}.apply(t,s),void 0===n||(e.exports=n)}(window)},597:function(e,t,i){var s,n;window,s=[i(217),i(47)],void 0===(n=function(e,t){return function(e,t,i){"use strict";var s=t.prototype;return s.insert=function(e,t){var i=this._makeCells(e);if(i&&i.length){var s=this.cells.length;t=void 0===t?s:t;var n=function(e){var t=document.createDocumentFragment();return e.forEach((function(e){t.appendChild(e.element)})),t}(i),o=t==s;if(o)this.slider.appendChild(n);else{var a=this.cells[t].element;this.slider.insertBefore(n,a)}if(0===t)this.cells=i.concat(this.cells);else if(o)this.cells=this.cells.concat(i);else{var r=this.cells.splice(t,s-t);this.cells=this.cells.concat(i).concat(r)}this._sizeCells(i),this.cellChange(t,!0)}},s.append=function(e){this.insert(e,this.cells.length)},s.prepend=function(e){this.insert(e,0)},s.remove=function(e){var t=this.getCells(e);if(t&&t.length){var s=this.cells.length-1;t.forEach((function(e){e.remove();var t=this.cells.indexOf(e);s=Math.min(t,s),i.removeFrom(this.cells,e)}),this),this.cellChange(s,!0)}},s.cellSizeChange=function(e){var t=this.getCell(e);if(t){t.getSize();var i=this.cells.indexOf(t);this.cellChange(i)}},s.cellChange=function(e,t){var i=this.selectedElement;this._positionCells(e),this._getWrapShiftCells(),this.setGallerySize();var s=this.getCell(i);s&&(this.selectedIndex=this.getCellSlideIndex(s)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[e]),this.select(this.selectedIndex),t&&this.positionSliderAtSelected()},t}(0,e,t)}.apply(t,s))||(e.exports=n)},880:function(e,t,i){var s,n;window,s=[i(47)],void 0===(n=function(e){return function(e,t){"use strict";return{startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var e=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating){var t=this;requestAnimationFrame((function(){t.animate()}))}},positionSlider:function(){var e=this.x;this.options.wrapAround&&this.cells.length>1&&(e=t.modulo(e,this.slideableWidth),e-=this.slideableWidth,this.shiftWrapCells(e)),this.setTranslateX(e,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(e,t){e+=this.cursorPosition,e=this.options.rightToLeft?-e:e;var i=this.getPositionValue(e);this.slider.style.transform=t?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var e=this.slides[0];if(e){var t=-this.x-e.target,i=t/this.slidesWidth;this.dispatchEvent("scroll",null,[i,t])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(e){return this.options.percentPosition?.01*Math.round(e/this.size.innerWidth*1e4)+"%":Math.round(e)+"px"},settle:function(e){!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*e)&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(e){var t=this.cursorPosition+e;this._shiftCells(this.beforeShiftCells,t,-1);var i=this.size.innerWidth-(e+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(e,t,i){for(var s=0;s<e.length;s++){var n=e[s],o=t>0?i:0;n.wrapShift(o),t-=n.size.outerWidth}},_unshiftCells:function(e){if(e&&e.length)for(var t=0;t<e.length;t++)e[t].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(e){this.velocity+=e},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var e=this.dragX-this.x-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var e=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(e)}}}}(0,e)}.apply(t,s))||(e.exports=n)},229:function(e,t,i){var s,n;window,s=[i(131)],void 0===(n=function(e){return function(e,t){"use strict";function i(e,t){this.element=e,this.parent=t,this.create()}var s=i.prototype;return s.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0},s.destroy=function(){this.unselect(),this.element.style.position="";var e=this.parent.originSide;this.element.style[e]="",this.element.removeAttribute("aria-hidden")},s.getSize=function(){this.size=t(this.element)},s.setPosition=function(e){this.x=e,this.updateTarget(),this.renderPosition(e)},s.updateTarget=s.setDefaultTarget=function(){var e="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[e]+this.size.width*this.parent.cellAlign},s.renderPosition=function(e){var t=this.parent.originSide;this.element.style[t]=this.parent.getPositionValue(e)},s.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},s.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},s.wrapShift=function(e){this.shift=e,this.renderPosition(this.x+this.parent.slideableWidth*e)},s.remove=function(){this.element.parentNode.removeChild(this.element)},i}(0,e)}.apply(t,s))||(e.exports=n)},690:function(e,t,i){var s,n;!function(o,a){s=[i(217),i(842),i(47)],n=function(e,t,i){return function(e,t,i,s){"use strict";s.extend(t.defaults,{draggable:">1",dragThreshold:3}),t.createMethods.push("_createDrag");var n=t.prototype;s.extend(n,i.prototype),n._touchActionValue="pan-y";var o="createTouch"in document,a=!1;n._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),o&&!a&&(e.addEventListener("touchmove",(function(){})),a=!0)},n.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},n.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},n.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},n.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},n.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},n._uiChangeDrag=function(){delete this.isFreeScrolling},n.pointerDown=function(t,i){this.isDraggable?this.okayPointerDown(t)&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),e.addEventListener("scroll",this),this._pointerDownDefault(t,i)):this._pointerDownDefault(t,i)},n._pointerDownDefault=function(e,t){this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},this._bindPostStartEvents(e),this.dispatchEvent("pointerDown",e,[t])};var r={INPUT:!0,TEXTAREA:!0,SELECT:!0};function l(){return{x:e.pageXOffset,y:e.pageYOffset}}return n.pointerDownFocus=function(e){r[e.target.nodeName]||this.focus()},n._pointerDownPreventDefault=function(e){var t="touchstart"==e.type,i="touch"==e.pointerType,s=r[e.target.nodeName];t||i||s||e.preventDefault()},n.hasDragStarted=function(e){return Math.abs(e.x)>this.options.dragThreshold},n.pointerUp=function(e,t){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},n.pointerDone=function(){e.removeEventListener("scroll",this),delete this.pointerDownScroll},n.dragStart=function(t,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),e.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[i]))},n.pointerMove=function(e,t){var i=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,i]),this._dragMove(e,t,i)},n.dragMove=function(e,t,i){if(this.isDraggable){e.preventDefault(),this.previousDragX=this.dragX;var s=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var n=this.dragStartPosition+i.x*s;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);n=n>o?.5*(n+o):n;var a=Math.min(-this.getLastSlide().target,this.dragStartPosition);n=n<a?.5*(n+a):n}this.dragX=n,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",e,[t,i])}},n.dragEnd=function(e,t){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var s=this.getRestingPosition();this.isFreeScrolling=-s>this.slides[0].target&&-s<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",e,[t])}},n.dragEndRestingSelect=function(){var e=this.getRestingPosition(),t=Math.abs(this.getSlideDistance(-e,this.selectedIndex)),i=this._getClosestResting(e,t,1),s=this._getClosestResting(e,t,-1);return i.distance<s.distance?i.index:s.index},n._getClosestResting=function(e,t,i){for(var s=this.selectedIndex,n=1/0,o=this.options.contain&&!this.options.wrapAround?function(e,t){return e<=t}:function(e,t){return e<t};o(t,n)&&(s+=i,n=t,null!==(t=this.getSlideDistance(-e,s)));)t=Math.abs(t);return{distance:n,index:s-i}},n.getSlideDistance=function(e,t){var i=this.slides.length,n=this.options.wrapAround&&i>1,o=n?s.modulo(t,i):t,a=this.slides[o];if(!a)return null;var r=n?this.slideableWidth*Math.floor(t/i):0;return e-(a.target+r)},n.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var e=this.getSlideDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX;return e>0&&t>0?1:e<0&&t<0?-1:0},n.staticClick=function(e,t){var i=this.getParentCell(e.target),s=i&&i.element,n=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",e,[t,s,n])},n.onscroll=function(){var e=l(),t=this.pointerDownScroll.x-e.x,i=this.pointerDownScroll.y-e.y;(Math.abs(t)>3||Math.abs(i)>3)&&this._pointerDone()},t}(o,e,t,i)}.apply(t,s),void 0===n||(e.exports=n)}(window)},217:function(e,t,i){var s,n;!function(o,a){s=[i(158),i(131),i(47),i(229),i(714),i(880)],n=function(e,t,i,s,n,a){return function(e,t,i,s,n,o,a){"use strict";var r=e.jQuery,l=e.getComputedStyle,d=e.console;function c(e,t){for(e=s.makeArray(e);e.length;)t.appendChild(e.shift())}var h=0,u={};function p(e,t){var i=s.getQueryElement(e);if(i){if(this.element=i,this.element.flickityGUID){var n=u[this.element.flickityGUID];return n&&n.option(t),n}r&&(this.$element=r(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(t),this._create()}else d&&d.error("Bad element for Flickity: "+(i||e))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var m=p.prototype;s.extend(m,t.prototype),m._create=function(){var t=this.guid=++h;for(var i in this.element.flickityGUID=t,u[t]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&e.addEventListener("resize",this),this.options.on){var s=this.options.on[i];this.on(i,s)}p.createMethods.forEach((function(e){this[e]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},m.option=function(e){s.extend(this.options,e)},m.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),c(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},m._createSlider=function(){var e=document.createElement("div");e.className="flickity-slider",e.style[this.originSide]=0,this.slider=e},m._filterFindCellElements=function(e){return s.filterFindElements(e,this.options.cellSelector)},m.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},m._makeCells=function(e){return this._filterFindCellElements(e).map((function(e){return new n(e,this)}),this)},m.getLastCell=function(){return this.cells[this.cells.length-1]},m.getLastSlide=function(){return this.slides[this.slides.length-1]},m.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},m._positionCells=function(e){e=e||0,this.maxCellHeight=e&&this.maxCellHeight||0;var t=0;if(e>0){var i=this.cells[e-1];t=i.x+i.size.outerWidth}for(var s=this.cells.length,n=e;n<s;n++){var o=this.cells[n];o.setPosition(t),t+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=t,this.updateSlides(),this._containSlides(),this.slidesWidth=s?this.getLastSlide().target-this.slides[0].target:0},m._sizeCells=function(e){e.forEach((function(e){e.getSize()}))},m.updateSlides=function(){if(this.slides=[],this.cells.length){var e=new o(this);this.slides.push(e);var t="left"==this.originSide?"marginRight":"marginLeft",i=this._getCanCellFit();this.cells.forEach((function(s,n){if(e.cells.length){var a=e.outerWidth-e.firstMargin+(s.size.outerWidth-s.size[t]);i.call(this,n,a)||(e.updateTarget(),e=new o(this),this.slides.push(e)),e.addCell(s)}else e.addCell(s)}),this),e.updateTarget(),this.updateSelectedSlide()}},m._getCanCellFit=function(){var e=this.options.groupCells;if(!e)return function(){return!1};if("number"==typeof e){var t=parseInt(e,10);return function(e){return e%t!=0}}var i="string"==typeof e&&e.match(/^(\d+)%$/),s=i?parseInt(i[1],10)/100:1;return function(e,t){return t<=(this.size.innerWidth+1)*s}},m._init=m.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},m.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var g={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return m.setCellAlign=function(){var e=g[this.options.cellAlign];this.cellAlign=e?e[this.originSide]:this.options.cellAlign},m.setGallerySize=function(){if(this.options.setGallerySize){var e=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=e+"px"}},m._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var e=this.cursorPosition,t=this.cells.length-1;this.beforeShiftCells=this._getGapCells(e,t,-1),e=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(e,0,1)}},m._getGapCells=function(e,t,i){for(var s=[];e>0;){var n=this.cells[t];if(!n)break;s.push(n),t+=i,e-=n.size.outerWidth}return s},m._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var e=this.options.rightToLeft,t=e?"marginRight":"marginLeft",i=e?"marginLeft":"marginRight",s=this.slideableWidth-this.getLastCell().size[i],n=s<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[t],a=s-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(e){n?e.target=s*this.cellAlign:(e.target=Math.max(e.target,o),e.target=Math.min(e.target,a))}),this)}},m.dispatchEvent=function(e,t,i){var s=t?[t].concat(i):i;if(this.emitEvent(e,s),r&&this.$element){var n=e+=this.options.namespaceJQueryEvents?".flickity":"";if(t){var o=new r.Event(t);o.type=e,n=o}this.$element.trigger(n,i)}},m.select=function(e,t,i){if(this.isActive&&(e=parseInt(e,10),this._wrapSelect(e),(this.options.wrapAround||t)&&(e=s.modulo(e,this.slides.length)),this.slides[e])){var n=this.selectedIndex;this.selectedIndex=e,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[e]),e!=n&&this.dispatchEvent("change",null,[e]),this.dispatchEvent("cellSelect")}},m._wrapSelect=function(e){var t=this.slides.length;if(!(this.options.wrapAround&&t>1))return e;var i=s.modulo(e,t),n=Math.abs(i-this.selectedIndex),o=Math.abs(i+t-this.selectedIndex),a=Math.abs(i-t-this.selectedIndex);!this.isDragSelect&&o<n?e+=t:!this.isDragSelect&&a<n&&(e-=t),e<0?this.x-=this.slideableWidth:e>=t&&(this.x+=this.slideableWidth)},m.previous=function(e,t){this.select(this.selectedIndex-1,e,t)},m.next=function(e,t){this.select(this.selectedIndex+1,e,t)},m.updateSelectedSlide=function(){var e=this.slides[this.selectedIndex];e&&(this.unselectSelectedSlide(),this.selectedSlide=e,e.select(),this.selectedCells=e.cells,this.selectedElements=e.getCellElements(),this.selectedCell=e.cells[0],this.selectedElement=this.selectedElements[0])},m.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},m.selectInitialIndex=function(){var e=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(e&&"string"==typeof e&&this.queryCell(e))return void this.selectCell(e,!1,!0);var t=0;e&&this.slides[e]&&(t=e),this.select(t,!1,!0)}},m.selectCell=function(e,t,i){var s=this.queryCell(e);if(s){var n=this.getCellSlideIndex(s);this.select(n,t,i)}},m.getCellSlideIndex=function(e){for(var t=0;t<this.slides.length;t++)if(-1!=this.slides[t].cells.indexOf(e))return t},m.getCell=function(e){for(var t=0;t<this.cells.length;t++){var i=this.cells[t];if(i.element==e)return i}},m.getCells=function(e){e=s.makeArray(e);var t=[];return e.forEach((function(e){var i=this.getCell(e);i&&t.push(i)}),this),t},m.getCellElements=function(){return this.cells.map((function(e){return e.element}))},m.getParentCell=function(e){return this.getCell(e)||(e=s.getParent(e,".flickity-slider > *"),this.getCell(e))},m.getAdjacentCellElements=function(e,t){if(!e)return this.selectedSlide.getCellElements();t=void 0===t?this.selectedIndex:t;var i=this.slides.length;if(1+2*e>=i)return this.getCellElements();for(var n=[],o=t-e;o<=t+e;o++){var a=this.options.wrapAround?s.modulo(o,i):o,r=this.slides[a];r&&(n=n.concat(r.getCellElements()))}return n},m.queryCell=function(e){if("number"==typeof e)return this.cells[e];if("string"==typeof e){if(e.match(/^[#.]?[\d/]/))return;e=this.element.querySelector(e)}return this.getCell(e)},m.uiChange=function(){this.emitEvent("uiChange")},m.childUIPointerDown=function(e){"touchstart"!=e.type&&e.preventDefault(),this.focus()},m.onresize=function(){this.watchCSS(),this.resize()},s.debounceMethod(p,"onresize",150),m.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=s.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var e=this.selectedElements&&this.selectedElements[0];this.selectCell(e,!1,!0)}},m.watchCSS=function(){this.options.watchCSS&&(-1!=l(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},m.onkeydown=function(e){var t=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!t){var i=p.keyboardHandlers[e.keyCode];i&&i.call(this)}},p.keyboardHandlers={37:function(){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()},39:function(){var e=this.options.rightToLeft?"previous":"next";this.uiChange(),this[e]()}},m.focus=function(){var t=e.pageYOffset;this.element.focus({preventScroll:!0}),e.pageYOffset!=t&&e.scrollTo(e.pageXOffset,t)},m.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(e){e.destroy()})),this.element.removeChild(this.viewport),c(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},m.destroy=function(){this.deactivate(),e.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete u[this.guid]},s.extend(m,a),p.data=function(e){var t=(e=s.getQueryElement(e))&&e.flickityGUID;return t&&u[t]},s.htmlInit(p,"flickity"),r&&r.bridget&&r.bridget("flickity",p),p.setJQuery=function(e){r=e},p.Cell=n,p.Slide=o,p}(o,e,t,i,s,n,a)}.apply(t,s),void 0===n||(e.exports=n)}(window)},442:function(e,t,i){var s,n,o;window,n=[i(217),i(690),i(410),i(573),i(516),i(597),i(227)],void 0===(o="function"==typeof(s=function(e){return e})?s.apply(t,n):s)||(e.exports=o)},227:function(e,t,i){var s,n;window,s=[i(217),i(47)],void 0===(n=function(e,t){return function(e,t,i){"use strict";t.createMethods.push("_createLazyload");var s=t.prototype;function n(e,t){this.img=e,this.flickity=t,this.load()}return s._createLazyload=function(){this.on("select",this.lazyLoad)},s.lazyLoad=function(){var e=this.options.lazyLoad;if(e){var t="number"==typeof e?e:0,s=this.getAdjacentCellElements(t),o=[];s.forEach((function(e){var t=function(e){if("IMG"==e.nodeName){var t=e.getAttribute("data-flickity-lazyload"),s=e.getAttribute("data-flickity-lazyload-src"),n=e.getAttribute("data-flickity-lazyload-srcset");if(t||s||n)return[e]}var o=e.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset], source[data-flickity-lazyload-srcset]");return i.makeArray(o)}(e);o=o.concat(t)})),o.forEach((function(e){new n(e,this)}),this)}},n.prototype.handleEvent=i.handleEvent,n.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var e=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),t=this.img.getAttribute("data-flickity-lazyload-srcset");"img"===this.img.tagName.toLowerCase()&&e&&(this.img.src=e),t&&this.img.setAttribute("srcset",t),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},n.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},n.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},n.prototype.complete=function(e,t){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),s=i&&i.element;this.flickity.cellSizeChange(s),this.img.classList.add(t),this.flickity.dispatchEvent("lazyLoad",e,s)},t.LazyLoader=n,t}(0,e,t)}.apply(t,s))||(e.exports=n)},573:function(e,t,i){var s,n;window,s=[i(217),i(704),i(47)],void 0===(n=function(e,t,i){return function(e,t,i,s){"use strict";function n(e){this.parent=e,this._create()}n.prototype=Object.create(i.prototype),n.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},n.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},n.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},n.prototype.setDots=function(){var e=this.parent.slides.length-this.dots.length;e>0?this.addDots(e):e<0&&this.removeDots(-e)},n.prototype.addDots=function(e){for(var t=document.createDocumentFragment(),i=[],s=this.dots.length,n=s+e,o=s;o<n;o++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(o+1)),t.appendChild(a),i.push(a)}this.holder.appendChild(t),this.dots=this.dots.concat(i)},n.prototype.removeDots=function(e){this.dots.splice(this.dots.length-e,e).forEach((function(e){this.holder.removeChild(e)}),this)},n.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},n.prototype.onTap=n.prototype.onClick=function(e){var t=e.target;if("LI"==t.nodeName){this.parent.uiChange();var i=this.dots.indexOf(t);this.parent.select(i)}},n.prototype.destroy=function(){this.deactivate(),this.allOff()},t.PageDots=n,s.extend(t.defaults,{pageDots:!0}),t.createMethods.push("_createPageDots");var o=t.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new n(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},t.PageDots=n,t}(0,e,t,i)}.apply(t,s))||(e.exports=n)},516:function(e,t,i){var s,n;window,s=[i(158),i(47),i(217)],void 0===(n=function(e,t,i){return function(e,t,i){"use strict";function s(e){this.parent=e,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}s.prototype=Object.create(e.prototype),s.prototype.play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},s.prototype.tick=function(){if("playing"==this.state){var e=this.parent.options.autoPlay;e="number"==typeof e?e:3e3;var t=this;this.clear(),this.timeout=setTimeout((function(){t.parent.next(!0),t.tick()}),e)}},s.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},s.prototype.clear=function(){clearTimeout(this.timeout)},s.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},s.prototype.unpause=function(){"paused"==this.state&&this.play()},s.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},s.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},t.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var n=i.prototype;return n._createPlayer=function(){this.player=new s(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},n.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},n.playPlayer=function(){this.player.play()},n.stopPlayer=function(){this.player.stop()},n.pausePlayer=function(){this.player.pause()},n.unpausePlayer=function(){this.player.unpause()},n.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},n.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},n.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=s,i}(e,t,i)}.apply(t,s))||(e.exports=n)},410:function(e,t,i){var s,n;window,s=[i(217),i(704),i(47)],void 0===(n=function(e,t,i){return function(e,t,i,s){"use strict";var n="http://www.w3.org/2000/svg";function o(e,t){this.direction=e,this.parent=t,this._create()}o.prototype=Object.create(i.prototype),o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var e=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==e;var t=this.element=document.createElement("button");t.className="flickity-button flickity-prev-next-button",t.className+=this.isPrevious?" previous":" next",t.setAttribute("type","button"),this.disable(),t.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();t.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var e=document.createElementNS(n,"svg");e.setAttribute("class","flickity-button-icon"),e.setAttribute("viewBox","0 0 100 100");var t,i=document.createElementNS(n,"path"),s="string"==typeof(t=this.parent.options.arrowShape)?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z";return i.setAttribute("d",s),i.setAttribute("class","arrow"),this.isLeft||i.setAttribute("transform","translate(100, 100) rotate(180) "),e.appendChild(i),e},o.prototype.handleEvent=s.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var e=this.isPrevious?"previous":"next";this.parent[e]()}},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var e=this.parent.slides;if(this.parent.options.wrapAround&&e.length>1)this.enable();else{var t=e.length?e.length-1:0,i=this.isPrevious?0:t;this[this.parent.selectedIndex==i?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},s.extend(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.createMethods.push("_createPrevNextButtons");var a=t.prototype;return a._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},a.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},a.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=o,t}(0,e,t,i)}.apply(t,s))||(e.exports=n)},714:function(e,t,i){var s,n;window,void 0===(n="function"==typeof(s=function(){"use strict";function e(e){this.parent=e,this.isOriginLeft="left"==e.originSide,this.cells=[],this.outerWidth=0,this.height=0}var t=e.prototype;return t.addCell=function(e){if(this.cells.push(e),this.outerWidth+=e.size.outerWidth,this.height=Math.max(e.size.outerHeight,this.height),1==this.cells.length){this.x=e.x;var t=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=e.size[t]}},t.updateTarget=function(){var e=this.isOriginLeft?"marginRight":"marginLeft",t=this.getLastCell(),i=t?t.size[e]:0,s=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+s*this.parent.cellAlign},t.getLastCell=function(){return this.cells[this.cells.length-1]},t.select=function(){this.cells.forEach((function(e){e.select()}))},t.unselect=function(){this.cells.forEach((function(e){e.unselect()}))},t.getCellElements=function(){return this.cells.map((function(e){return e.element}))},e})?s.call(t,i,t,e):s)||(e.exports=n)},131:function(e,t,i){var s,n;window,void 0===(n="function"==typeof(s=function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],s=i.length;function n(e){var i=getComputedStyle(e);return i||t("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),i}var o,a=!1;function r(t){if(function(){if(!a){a=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(t);var s=n(t);o=200==Math.round(e(s.width)),r.isBoxSizeOuter=o,i.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=n(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<s;t++)e[i[t]]=0;return e}();var d={};d.width=t.offsetWidth,d.height=t.offsetHeight;for(var c=d.isBorderBox="border-box"==l.boxSizing,h=0;h<s;h++){var u=i[h],p=l[u],m=parseFloat(p);d[u]=isNaN(m)?0:m}var g=d.paddingLeft+d.paddingRight,v=d.paddingTop+d.paddingBottom,y=d.marginLeft+d.marginRight,f=d.marginTop+d.marginBottom,b=d.borderLeftWidth+d.borderRightWidth,w=d.borderTopWidth+d.borderBottomWidth,S=c&&o,E=e(l.width);!1!==E&&(d.width=E+(S?0:g+b));var A=e(l.height);return!1!==A&&(d.height=A+(S?0:v+w)),d.innerWidth=d.width-(g+b),d.innerHeight=d.height-(v+w),d.outerWidth=d.width+y,d.outerHeight=d.height+f,d}}return r})?s.call(t,i,t,e):s)||(e.exports=n)},876:function(e,t,i){!function(t){"use strict";var s=i(529),n=function(e,t,i){var n,o,a,r,l={},d=0,c=0,h={sensitivity:7,interval:100,timeout:0};function u(t,i,s){var l=function(e){n=e.clientX,o=e.clientY};return c&&(c=clearTimeout(c)),s?(a=t.clientX,r=t.clientY,e.addEventListener("mousemove",l,!1),1!==d&&(c=setTimeout((function(){p(e,i,t)}),h.interval))):(e.removeEventListener("mousemove",l,!1),1===d&&(c=setTimeout((function(){!function(e,t,i){c&&(c=clearTimeout(c)),d=0,t.call(e,i)}(e,i,t)}),h.timeout))),this}function p(e,t,i){if(c&&(c=clearTimeout(c)),Math.abs(a-n)+Math.abs(r-o)<h.sensitivity)return d=1,t.call(e,i);a=n,r=o,c=setTimeout((function(){p(e,t,i)}),h.interval)}function m(e){u(e,t,!0)}function g(e){u(e,i)}return l.options=function(e){h=s({},h,e)},l.remove=function(){e&&(e.removeEventListener("mouseover",m,!1),e.removeEventListener("mouseout",g,!1))},e&&(e.addEventListener("mouseover",m,!1),e.addEventListener("mouseout",g,!1)),l};t.hoverintent=n,e.exports&&(e.exports=n)}(this)},842:function(e,t,i){var s,n;!function(o,a){s=[i(704)],n=function(e){return function(e,t){"use strict";function i(){}var s=i.prototype=Object.create(t.prototype);s.bindHandles=function(){this._bindHandles(!0)},s.unbindHandles=function(){this._bindHandles(!1)},s._bindHandles=function(t){for(var i=(t=void 0===t||t)?"addEventListener":"removeEventListener",s=t?this._touchActionValue:"",n=0;n<this.handles.length;n++){var o=this.handles[n];this._bindStartEvent(o,t),o[i]("click",this),e.PointerEvent&&(o.style.touchAction=s)}},s._touchActionValue="none",s.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))};var n={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return s.okayPointerDown=function(e){var t=n[e.target.nodeName],i=o[e.target.type],s=!t||i;return s||this._pointerReset(),s},s.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},s.pointerMove=function(e,t){var i=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,i]),this._dragMove(e,t,i)},s._dragPointerMove=function(e,t){var i={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(e,t),i},s.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},s.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},s._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},s._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},s.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},s._dragMove=function(e,t,i){this.isDragging&&this.dragMove(e,t,i)},s.dragMove=function(e,t,i){e.preventDefault(),this.emitEvent("dragMove",[e,t,i])},s._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},s.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},s.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},s._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},s.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},i.getPointerPoint=t.getPointerPoint,i}(o,e)}.apply(t,s),void 0===n||(e.exports=n)}(window)},704:function(e,t,i){var s,n;!function(o,a){s=[i(158)],n=function(e){return function(e,t){"use strict";function i(){}var s=i.prototype=Object.create(t.prototype);s.bindStartEvent=function(e){this._bindStartEvent(e,!0)},s.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},s._bindStartEvent=function(t,i){var s=(i=void 0===i||i)?"addEventListener":"removeEventListener",n="mousedown";"ontouchstart"in e?n="touchstart":e.PointerEvent&&(n="pointerdown"),t[s](n,this)},s.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.getTouch=function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.identifier==this.pointerIdentifier)return i}},s.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},s.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},s.onpointerdown=function(e){this._pointerDown(e,e)},s._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},s.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return s._bindPostStartEvents=function(t){if(t){var i=n[t.type];i.forEach((function(t){e.addEventListener(t,this)}),this),this._boundPointerEvents=i}},s._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(t){e.removeEventListener(t,this)}),this),delete this._boundPointerEvents)},s.onmousemove=function(e){this._pointerMove(e,e)},s.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},s.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},s._pointerMove=function(e,t){this.pointerMove(e,t)},s.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},s.onmouseup=function(e){this._pointerUp(e,e)},s.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},s.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},s._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},s.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},s._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},s._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},s.pointerDone=function(){},s.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},s.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},s._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},s.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},i.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},i}(o,e)}.apply(t,s),void 0===n||(e.exports=n)}(window)},529:function(e){e.exports=function(){for(var e={},i=0;i<arguments.length;i++){var s=arguments[i];for(var n in s)t.call(s,n)&&(e[n]=s[n])}return e};var t=Object.prototype.hasOwnProperty}},s={};function n(e){var t=s[e];if(void 0!==t)return t.exports;var o=s[e]={exports:{}};return i[e].call(o.exports,o,o.exports,n),o.exports}n.m=i,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))},n.u=function(e){return e+".ffedc718d34e5bacbc39.js"},n.miniCssF=function(e){},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="bundle-default:",n.l=function(i,s,o,a){if(e[i])e[i].push(s);else{var r,l;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var h=d[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+o){r=h;break}}r||(l=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+o),r.src=i),e[i]=[s];var u=function(t,s){r.onerror=r.onload=null,clearTimeout(p);var n=e[i];if(delete e[i],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(e){return e(s)})),t)return t(s)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),l&&document.head.appendChild(r)}},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={330:0};n.f.j=function(t,i){var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var o=new Promise((function(i,n){s=e[t]=[i,n]}));i.push(s[2]=o);var a=n.p+n.u(t),r=new Error;n.l(a,(function(i){if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",r.name="ChunkLoadError",r.type=o,r.request=a,s[1](r)}}),"chunk-"+t,t)}};var t=function(t,i){var s,o,a=i[0],r=i[1],l=i[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);l&&l(n)}for(t&&t(i);d<a.length;d++)o=a[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},i=self.webpackChunkbundle_default=self.webpackChunkbundle_default||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}(),function(){"use strict";class e extends HTMLElement{static get observedAttributes(){return["data-expanded"]}get headerElement(){return this.querySelector("[data-accordion-header]")}get bodyElement(){return this.querySelector("[data-accordion-body]")}get expanded(){return this.hasAttribute("data-expanded")}set expanded(e){e?this.setAttribute("data-expanded",""):this.removeAttribute("data-expanded")}attributeChangedCallback(e){"data-expanded"===e&&this.toggle()}connectedCallback(){this.headerElement.addEventListener("click",(e=>{e.preventDefault(),this.expanded=!this.expanded})),this.expanded&&(this.bodyElement.style.height="auto")}transition(e,t,i){this.bodyElement.style.height=`${e}px`,window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{this.bodyElement.style.height=`${t}px`,this.bodyElement.style.visibility=i}))}))}toggle(){const e=this.bodyElement.scrollHeight;this.expanded?this.transition(0,e,"visible"):this.transition(e,0,"hidden")}}const t="AudioPlayer:play";class i extends window.HTMLElement{set playing(e){e?this.setAttribute("playing",""):this.removeAttribute("playing")}get playing(){return this.getAttribute("playing")}connectedCallback(){this.audioElement=this.querySelector("audio"),this.progress=this.querySelector("progress"),this.durationElement=this.querySelector("[data-duration]"),this.buttonElement=this.querySelector("[data-click]"),this.minutesAbbreviation=this.getAttribute("data-minutes-abbreviation"),this.hoursAbbreviation=this.getAttribute("data-hours-abbreviation"),this.registerListeners(),this.render()}registerListeners(){this.addEventListener("click",this),this.audioElement.addEventListener("play",this),this.audioElement.addEventListener("pause",this),this.audioElement.addEventListener("loadedmetadata",this),this.audioElement.addEventListener("timeupdate",this),document.addEventListener(t,this)}emit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new window.CustomEvent(e,{bubbles:!0,detail:t});this.dispatchEvent(i)}handleClick(e){(e.target.matches('[data-click="playPause"]')||e.target.closest('[data-click="playPause"]'))&&this.playPause(),(e.target.matches("progress")||e.target.closest("progress"))&&this.handleProgressbarClick(e)}handleProgressbarClick(e){const t=e.offsetX/this.progress.offsetWidth;this.audioElement.currentTime=t*this.audioElement.duration,this.progress.value=Math.floor(100*t),this.render()}updateProgress(){const e=this.audioElement.currentTime/this.audioElement.duration;this.progress.value=Math.floor(100*e),this.render()}handleEvent(e){"click"!==e.type?"loadedmetadata"!==e.type?"timeupdate"!==e.type?e.type!==t||e.target===this?["play","pause"].includes(e.type)&&(this.playing=!e.target.paused):this.pause():this.updateProgress():this.render():this.handleClick(e)}playPause(){this.audioElement.paused?this.play():this.pause()}play(){this.pauseVideoPlayer(),this.emit(t),this.buttonElement.classList.remove("pause"),this.buttonElement.classList.add("play"),this.audioElement.play()}pause(){this.emit("AudioPlayer:pause"),this.buttonElement.classList.remove("play"),this.buttonElement.classList.add("pause"),this.audioElement.pause()}render(){this.durationElement&&(this.durationElement.innerText=this.getFormatedDuration())}getFormatedDuration(){if(this.audioElement.readyState<1)return;const e=[],t=Math.floor(this.audioElement.currentTime/60),i=Math.floor(this.audioElement.currentTime-60*t);null!=t&&e.push(t),null!=i&&e.push(("0"+i).slice(-2));const s=[],n=Math.floor(this.audioElement.duration/60),o=Math.floor(this.audioElement.duration-60*n);return n&&s.push(n),o&&s.push(("0"+o).slice(-2)),`${e.join(":")} / ${s.join(":")}`}pauseVideoPlayer(){document.querySelectorAll("bsp-jw-player").forEach((function(e){e.pause&&e.pause()})),document.querySelectorAll("iframe").forEach((function(e){e.contentWindow.postMessage('{"method":"pause"}',"*"),e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}}function s(e,t,i){let s=e.target;(t=s.matches(t)?s:s.closest(t))&&(e.delegateTarget=t,i(e))}var o=n(307);function a(e){!e.target.closest("[data-playpause]")&&document.parentPlayer.playing&&(document.parentPlayer.playing=!1,this.playing=!0),document.documentElement.removeEventListener("click",a.bind(this))}class r extends window.HTMLElement{connectedCallback(){this.elAudio=this.querySelector("audio"),this.elCanvas=this.querySelector("canvas"),this.elAudio.onplaying=function(){this.playing=!0},this.elAudio.onpause=function(){this.playing=!1},this.setupWaveForm(),document.parentPlayer&&document.documentElement.addEventListener("click",a.bind(this)),this.addEventListener("click",(e=>{s.call(this,e,"[data-playpause]",(()=>{this.pauseVideoPlayer(),this.playing=!this.playing})),s.call(this,e,"[data-makepopup]",(()=>{r.elPopup?(r.elPopup.close(),delete r.elPopup):(this.createPopup(),this.openSyncPlayer())}))}))}createPopup(){r.elPopup||(r.elPopup=window.open("about:blank","hello","width=599,height=100, resizeable=no"))}openSyncPlayer(){let e=this.outerHTML;e=e.replace('data-isplaying="true"',""),r.elPopup.document.write(`\n      <!DOCTYPE html>\n        <html lang="en" class="AudioSyncPlayerPopUp">\n          <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <meta http-equiv="X-UA-Compatible" content="ie=edge">\n            <title>HTML 5 Boilerplate</title>\n            <link rel="stylesheet" href="${document.querySelector("[data-bsp-main-css]").href}">\n            <script src="${document.querySelector("[data-bsp-main-js]").src}"><\/script>\n          </head>\n          <body>\n            <svg xmlns="http://www.w3.org/2000/svg" style="display:none" id="iconsMap">\n              <symbol id="play-icon" viewBox="0 0 50 50"  xmlns="http://www.w3.org/2000/svg" >\n                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                      <g transform="translate(-341.000000, -11574.000000)" fill-rule="nonzero">\n                          <g transform="translate(320.000000, 11422.000000)">\n                              <g transform="translate(21.000000, 152.000000)">\n                                  <circle id="Oval" fill="#FFFFFF" cx="25" cy="25" r="24"/>\n                                  <path d="M25,0 C11.2,0 0,11.2 0,25 C0,38.8 11.2,50 25,50 C38.8,50 50,38.8 50,25 C50,11.2 38.8,0 25,0 Z" fill="#EE0120"/>\n                                  <polygon fill="#FFFFFF" points="18 36.25 18 13.75 33 25"/>\n                              </g>\n                          </g>\n                      </g>\n                  </g>\n              </symbol>\n          \n              <symbol id="play-pause" viewBox="0 0 40 40"  xmlns="http://www.w3.org/2000/svg" >\n                  <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                      <g id="Radio/elements/pause-small" transform="translate(-52.000000, 0.000000)">\n                          <g id="Group-51" transform="translate(18.000000, 0.000000)">\n                              <g id="button/play/small-red" transform="translate(34.000000, 0.000000)">\n                                  <circle id="Oval" fill="#FF322E" cx="20" cy="20" r="20"></circle>\n                                  <g id="Group" transform="translate(13.750000, 12.500000)" fill="#FFFFFF">\n                                      <rect id="Rectangle" x="8.75" y="0" width="3.75" height="15" rx="1"></rect>\n                                      <rect id="Rectangle" x="0" y="0" width="3.75" height="15" rx="1"></rect>\n                                  </g>\n                              </g>\n                          </g>\n                      </g>\n                  </g>\n              </symbol>\n            </svg>\n            ${e}\n          </body>\n        </html>\n      `),r.elPopup.document.close(),r.elPopup.document.parentPlayer=this,r.elPopup.addEventListener("unload",(()=>{delete r.elPopup}))}pause(){this.playing=!1}pauseVideoPlayer(){document.querySelectorAll("bsp-jw-player").forEach((function(e){e.pause&&e.pause()})),document.querySelectorAll("iframe").forEach((function(e){e.contentWindow.postMessage('{"method":"pause"}',"*"),e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}setupWaveForm(){let e=new o.Wave(this.elAudio,this.elCanvas);e.addAnimation(new e.animations.Square({count:60,diamater:5e-6}))}set playing(e){this._playing!==e&&(this._playing=e,this.setAttribute("data-isplaying",e),e?this.elAudio.play():this.elAudio.pause(),e&&(document.parentPlayer?document.parentPlayer.playing=!1:r.elPopup&&(r.elPopup.document.querySelector("bsp-audio-wsync").playing&&(r.elPopup.document.querySelector("bsp-audio-wsync").playing=!1),r.elPopup.close())))}get playing(){return this._playing}}class l extends window.HTMLElement{connectedCallback(){const e=this.querySelector(".Banner-close");null==window.sessionStorage.getItem("banner")&&this.init(),e.addEventListener("click",this,!1)}handleEvent(e){"click"===e.type&&this.closeBanner()}init(){this.setAttribute("data-banner","show"),document.documentElement.style.setProperty("--bannerHeight",this.offsetHeight+"px")}closeBanner(){this.removeAttribute("data-banner"),this.remove(),window.sessionStorage.setItem("banner","hidden"),document.documentElement.style.setProperty("--bannerHeight","0px")}}const d={currentMediaId:"",ready:"VideoPlayer:ready",timeUpdate:"VideoPlayer:timeUpdate",play:"VideoPlayer:play",playing:"VideoPlayer:playing",pause:"VideoPlayer:paused",volumeChange:"VideoPlayer:volumeChange",enterFullscreen:"VideoPlayer:enterFullscreen",exitFullscreen:"VideoPlayer:exitFullscreen",ended:"VideoPlayer:ended",error:"VideoPlayer:error",quartileCompleted:"VideoPlayer:quartileCompleted",youTubePlayer:null},c={playingInterval:5,playbackPosition:0,quartilePosition:-1};class h extends window.HTMLElement{connectedCallback(){this.intervals={...c}}get videoId(){return this.getAttribute("video-id")}get videoTitle(){return this.getAttribute("video-title")}get playerId(){return this.getAttribute("player-id")}get autoplay(){return this.hasAttribute("autoplay")}get disableClickToPlay(){return this.hasAttribute("disable-click-to-play")}get muted(){return this.hasAttribute("muted")}get loop(){return this.hasAttribute("loop")}get poster(){return this.getAttribute("poster")}get video(){return{id:this.videoId,videoPlatform:this.platform,seekSeconds:this.seekSeconds,title:this.videoTitle,inPlaylist:document.querySelector("ps-playlist"),playListTagsosition:[...document.querySelectorAll("ps-playlist-item")].findIndex((e=>e.isCurrent)),duration:this.duration,playerWidth:this.getPlayerWidth(),playerHeight:this.getPlayerHeight(),playerResolution:this.getPlayerResolution(),isAutoPlay:this.getIsAutoPlay(),startVolume:this.getStartVolume(),volume:this.getVolume(),isFullscreen:this.onVideoFullscreen(),videoUuid:this.getVideoUuid(),videoFileType:this.getVideoFileType(),videoInitiation:this.getAttribute("data-playback-started")||!1,credit:this.getCredit(),ownerSite:this.getOwnerSite(),videoClassification:this.getCategory(),source:this.getSource(),location:this.getDateline(),videoStatus:this.getVideoStatus(),quartile:this.getDisplayQuartile(this.intervals.quartilePosition)}}init(){this.platform=this.getPlatformName()}onReady(){this.emit(d.ready)}onPlay(e){this.pauseAudioPlayer(e),this.emit(d.playing)}onTimeUpdate(){this.sendVideoPlaybackIntervalEvents(),this.emit(d.timeUpdate)}onMute(e){this.pauseAudioPlayer(e),this.emit(d.volumeChange)}onPause(){this.emit(d.pause)}onEnded(){this.intervals={...c},this.emit(d.ended)}onError(){this.emit(d.error)}onVolumneChange(){this.emit(d.volumeChange)}play(){}pause(){}playPause(){this.getAttribute("data-playback-paused")?this.play():this.pause()}sendVideoPlaybackIntervalEvents(){if(!this.duration||0===this.duration)return;const e=this.currentTime/this.duration*100;for(;this.currentTime>this.intervals&&this.intervals.playbackPosition+2*this.intervals.playingInterval;)this.intervals.playbackPosition+=this.intervals.playingInterval;if(this.currentTime>=this.intervals&&this.intervals.playbackPosition+this.intervals.playingInterval){this.intervals.playbackPosition+=this.intervals.playingInterval;const e=new window.CustomEvent("Video:onVideoTimeIntervalUpdate",{bubbles:!0,detail:{playerId:this.playerId,videoPlatform:this.platform,video:this.video,secondsElapsed:this.currentTime}});this.dispatchEvent(e)}let t=null;if(e>=this.intervals&&this.intervals.quartilePosition)if(-1===this.intervals.quartilePosition){if(e>=this.intervals.quartilePosition+25)for(this.intervals.quartilePosition=0;e>=this.intervals.quartilePosition;)this.intervals.quartilePosition+=25}else t=this.intervals.quartilePosition,this.intervals.quartilePosition+=25,100===this.intervals.quartilePosition&&(this.intervals.quartilePosition=95);null!==t&&(95===t&&(t=100),this.emit(d.quartileCompleted,{quartile:t}))}getDisplayQuartile(e){return-1===e?0:50===e?25:75===e?50:95===e?75:100}getCategory(){}getCredit(){}getDateline(){}getIsAutoPlay(){}getOwnerSite(){}getPlatformName(){}getPlayerHeight(){}getPlayerWidth(){}getPlayerResolution(){return this.getPlayerWidth()+" x "+this.getPlayerHeight()}getPlayListTagsosition(e){const t=document.querySelector("[data-playlist]"),i=t.querySelectorAll(".PlaylistItem"),s=t.querySelector(`[data-video-id='${e}']`);for(let e=0;e<i.length;e++)if(s===i[e])return e}getSource(){}getVideoFileType(){}getVideoStatus(){return this.getAttribute("data-playback-playing")?"Playing":this.getAttribute("data-playback-paused")?"Paused":this.getAttribute("data-playback-ended")?"Ended":null}getVideoUuid(){}getVolume(){}getStartVolume(){}onVideoFullscreen(){}onEnterFullScreen(){this.emit(d.enterFullscreen)}onExitFullscreen(){this.emit(d.exitFullscreen)}emit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new window.CustomEvent(e,{bubbles:!0,detail:t});this.dispatchEvent(i)}pauseAudioPlayer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{d.youTubePlayer&&"Youtube"!==e.currentPlayer&&(this.onPause(),d.youTubePlayer.pauseVideo(),d.youTubePlayer=null),document.querySelectorAll("bsp-jw-player").forEach((function(t){if(!e.currentMediaId)return;const i=e.currentMediaId.split("-")[0],s="playing"===e.newstate&&"buffering"===e.oldstate&&"repeat"===e.playReason;t.pause&&t.children.length&&i!=t.children[0].id.split("-")[0]&&!s&&t.pause()})),document.querySelectorAll("bsp-audio-wsync").forEach((function(e){e.pause&&e.pause()})),document.querySelectorAll("bsp-audio-player").forEach((function(e){e.pause&&e.pause()}))}catch(e){console.error("player, Got an error pauseAudioPlayer function",e)}}}class u extends h{constructor(){super(),this.playing=!1,this.player=null}connectedCallback(){if(super.init(),this.player=this,this.accountVId=this.player.getAttribute("data-account")||!1,this.playerVId=this.player.getAttribute("data-player")||!1,this.videoVId=this.player.getAttribute("data-video-id")||!1,!(this.accountVId&&this.playerVId&&this.videoVId))return console.info("Brightcove Video Player: Cannot play video, no account, player or video ID found"),!1;this.init()}disconnectedCallback(){window.videojs.getPlayers()["BrightcoveVideoPlayer-"+this.videoVId]&&delete window.videojs.getPlayers()["BrightcoveVideoPlayer-"+this.videoVId]}init(){this.loadBrightcoveApi(this.accountVId,this.playerVId)}loadBrightcoveApi(e,t){const i=document.createElement("script");i.src="https://players.brightcove.net/"+e+"/"+t+"_default/index.min.js",i.addEventListener("load",this.onBrightcoveAPIReady.bind(this));const s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(i,s)}onBrightcoveAPIReady(){this.videoPlayer=this.querySelector("video"),this.thePlayer=window.videojs(this.videoPlayer.id),void 0!==this.thePlayer&&(this.startVolume=this.thePlayer.volume(),this.playerEvents())}playerEvents(){this.onReady(),this.thePlayer.on("playing",(e=>{this.playing=!0,this.onPlay(e)})),this.thePlayer.on("pause",(e=>{this.onPause(e)})),this.thePlayer.on("timeUpdate",(e=>{this.currentTime=this.thePlayer.currentTime(),this.duration=this.thePlayer.duration(),this.onTimeUpdate(e)})),this.thePlayer.on("ended",(e=>{this.playing=!1,this.onEnded(e)}))}play(){this.thePlayer.play()}pause(){this.thePlayer.pause()}}function p(e,t){if(e<=0)return t;let i,s,n=0;return function(){if(s=arguments,i)return;const o=this,a=+Date.now(),r=e-a+n;r<=0?(n=a,t.apply(o,s)):i=setTimeout((function(){n=a,i=null,t.apply(o,s)}),r)}}const m="background: orange;color: white; padding: 4px;";function g(e,t){if(e)if(document.documentElement.hasAttribute("data-is-bsp-appview"))if(window.AnalyticsWebInterface)window.AnalyticsWebInterface.logEvent(e,JSON.stringify(t));else if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.firebase){var i={command:"logEvent",name:e,parameters:t};window.webkit.messageHandlers.firebase.postMessage(i)}else console.log("No native APIs found.");else console.log(`%cGTAG-${e}`,m,t),window.dataLayer&&window.dataLayer.push({event:e,eventModel:t})}function v(){var e=this;this.lastPointerX,this.cancelClick;const t=this.querySelector("[data-bsp-carousel-overlay-template]"),i=[...document.querySelectorAll("[data-module], bsp-lead-superlead-ui")].indexOf(this);t&&(this.elWrapperClassName=t.getAttribute("data-bsp-carousel-overlay-template"),this.addEventListener("pointerdown",(e=>{this.lastPointerX=e.pageX})),this.addEventListener("pointerup",(e=>{const t=Math.abs(this.lastPointerX-e.pageX);this.lastPointerX=e.pageX,this.cancelClick=t>30})),this.addEventListener("click",(e=>{this.cancelClick||s.call(this,e,"[data-openoverlay]",(async()=>{const t=e.delegateTarget.getAttribute("data-openoverlay-slide-number");await this.createOverlay(t),await this.overlayOpen(t),this.prepareTrapFocus(),n()}))}))),this.createOverlay=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const o=`CarouselOverlay_${i}`;document.getElementById(o)||(e.elOverlay=document.createElement("div"),e.elOverlay.className=`CarouselOverlay ${e.elWrapperClassName}`,e.elOverlay.id=o,t.content.querySelector("[data-bsp-overlay-carousel]").setAttribute("data-initial-slide",n),e.elOverlay.innerHTML=t.innerHTML,document.body.appendChild(e.elOverlay),e.elOverlay.addEventListener("click",(t=>{s.call(e,t,"[data-bsp-carousel-overlayclose]",(async()=>{e.overlayClose()}))})))},this.overlayOpen=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const i=e.elOverlay.querySelector("[data-bsp-overlay-carousel]").flickity;e.elOverlay.setAttribute("data-state","open"),document.documentElement.setAttribute("data-carousel-overlay","open");const s=new window.CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(s),i&&(i.select(t),i.resize())},this.overlayClose=()=>{this.elOverlay.setAttribute("data-state","false"),document.documentElement.removeAttribute("data-carousel-overlay"),this.querySelector("[tabindex], button, a").focus(),this.elOverlay.parentElement.removeChild(this.elOverlay),delete this.elOverlay},this.prepareTrapFocus=()=>{this.focusableSlide=this.elOverlay.querySelector(".VideoCarouselOverlay-slides.flickity-enabled"),this.focusableContent=this.elOverlay.querySelectorAll("button:not([data-openoverlay])"),this.focusableContent=Array.from(this.focusableContent),this.focusableContent=this.focusableContent.filter((e=>!e.classList.contains("ReadMore-more-button")&&!e.hasAttribute("disabled"))),this.firstFocusableElement=this.focusableContent[0],this.focusableSlide&&this.focusableSlide.focus(),this.lastFocusableElement=this.focusableContent[this.focusableContent.length-1],this.elOverlay.querySelectorAll(".CarouselOverlay-slides").forEach((e=>e.setAttribute("tabindex","-1"))),this.elOverlay.addEventListener("keydown",(e=>{let t="Tab"===e.key||9===e.keyCode;"Escape"!==e.key&&27!==e.keyCode?t&&(e.shiftKey?document.activeElement==this.firstFocusableElement&&(this.lastFocusableElement.focus(),e.preventDefault()):document.activeElement==this.lastFocusableElement&&(this.firstFocusableElement.focus(),e.preventDefault())):this.overlayClose()}))};const n=()=>{const e=this.elOverlay.querySelectorAll(".flickity-button"),t={attributes:!0,childList:!1,subtree:!1},i=new MutationObserver(o);e.forEach((e=>{i.observe(e,t)}))},o=e=>{for(const t of e)if("attributes"===t.type){if("disabled"!==t.attributeName)return;this.prepareTrapFocus()}}}var y=n(442),f=n.n(y);class b extends window.HTMLElement{async connectedCallback(){if(this.carouselSlides=this.querySelector('[class$="-slides"]')||this,v.call(this),this.carouselOptions={autoPlay:!1,adaptiveHeight:!1,imagesLoaded:!0,pageDots:!1,lazyLoad:3,dragThreshold:70,cellAlign:"left",arrowShape:"M45.92,75c.89,0,1.77-.38,2.37-1.13,1.07-1.31,.87-3.24-.44-4.31L6.43,35.79,47.73,5.53c1.36-1,1.66-2.92,.66-4.28-1-1.36-2.91-1.66-4.28-.66L2.28,31.24C.88,32.27,.05,33.87,0,35.62c-.05,1.76,.7,3.4,2.05,4.5l41.93,34.19c.57,.46,1.25,.69,1.93,.69ZM5.9,36.18h0Z",on:{ready:()=>{this.repositionArrows(),setTimeout(this.setImageDimensionsCssVars.bind(this),0)},change:e=>{const t=this.flickity.selectedCell.element;t&&t.querySelectorAll("bsp-carousel-read-more").forEach((e=>{e.checkIfToEnableButton()})),this.setImageDimensionsCssVars(),setTimeout((()=>{this.pauseLastVideos(e+1),this.pauseLastVideos(e-1)}),1500)},dragStart:e=>{this.startX=e.x,!this.startX&&e.changedTouches&&(this.startX=e.changedTouches[0].clientX)},dragEnd:e=>{let t=e.x;!t&&e.changedTouches&&(t=e.changedTouches[0].clientX),this.startX<t?this.onLeftRightToggleEvent("Right",!0):this.startX>t&&this.onLeftRightToggleEvent("Left",!0)}}},this.hasAttribute("data-flickity-notdraggable")&&(this.carouselOptions.draggable=!1),this.hasAttribute("data-native-dimensions")&&(this.carouselOptions.adaptiveHeight=!0),this.hasAttribute("data-autoscroll")){this.carouselOptions.wrapAround=!0;const e=parseFloat(this.getAttribute("data-autoscroll"));this.carouselOptions.autoPlay=!e||1e3*e}this.hasAttribute("data-blended")&&(this.isBlendGallery=!0),this.flickity=new(f())(this.carouselSlides,this.carouselOptions),this.flickity.select(this.getAttribute("data-initial-slide")||0),window.addEventListener("resize",p(50,(()=>{this.repositionArrows(),this.setImageDimensionsCssVars()}))),this.flickity.resize(),this.onExtendPhotoEvent(),this.buttonsEvent(),this.renderOverrideTitle(),window.addEventListener("scroll",p(50,(()=>{this.handleScroll(this)})))}getPhotoTitle(e){return this.querySelector(e)?this.querySelector(e).textContent.trim():null}isInViewport(e){const t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,s=window.innerWidth||document.documentElement.clientWidth,n=.1*t.height,o=.1*t.width,a=Math.max(0,-t.top),r=Math.max(0,t.bottom-i),l=Math.max(0,-t.left),d=Math.max(0,t.right-s);return a+r<=n&&l+d<=o}handleScroll(e){if(this.isBlendGallery){const t=this.flickity.selectedIndex,i=document.getElementsByClassName("flickity-slider");this.isInViewport(e)?this.flickity.selectCell(t):i[0].style.transform="none"}}onLeftRightToggleEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const i=t?"swiped":"toggle",s={state:"Extend Full Screen"};s[i]=e;let n=this.getPhotoTitle(".CarouselOverlay-slide.is-selected .CarouselOverlay-info-description");n||(s.state="Normal Screen",n=this.getPhotoTitle(".Carousel-slide.is-selected .CarouselSlide-infoDescription")),s.mediaTitle=n,this.isBlendGallery?g(`blendgallery_${i}`,s):s.mediaTitle&&g(`photogallery_${i}`,s)}catch(e){console.error("Got an eror on onLeftRightToggleEvent ",e)}}onExtendPhotoEvent(){try{const e=this.querySelector(".Carousel-slides");e&&e.addEventListener("click",(e=>{if(e.target.closest('[aria-label="Full screen button"]')){const e=this.getPhotoTitle(".Carousel-slide.is-selected .CarouselSlide-infoDescription");this.isBlendGallery?g("blendgallery_expand",{mediaTitle:e}):e&&g("photogallery_expand",{mediaTitle:e}),this.hasAttribute("data-autoscroll")&&setTimeout((()=>{this.flickity.playPlayer()}),1e3)}}))}catch(e){console.error("Got an error on onExtendPhotoEvent ",e)}}buttonsEvent(){const e=this.querySelector(".previous"),t=this.querySelector(".next");e.addEventListener("click",(()=>{this.onLeftRightToggleEvent("Left")})),t.addEventListener("click",(()=>{this.onLeftRightToggleEvent("Right")})),this.querySelectorAll("button[data-openoverlay]").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-openoverlay-slide-number");this.pauseLastVideos(t)}))}))}pauseLastVideos(e){document.querySelectorAll(`div[data-slidenumber='${e}'] video`).forEach((e=>{!e.closest(".jwplayer")&&e.pause&&e.pause()})),this.isBlendGallery&&document.querySelectorAll("bsp-youtube-player iframe").forEach((function(e){e.contentWindow.postMessage('{"method":"pause"}',"*"),e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}setImageDimensionsCssVars(){const e=this.flickity.selectedCell.element;if(e){const t=e.querySelector("img");if(t)this?.style.setProperty("--aspectRatioWidth",`${t.clientWidth}px`),this?.style.setProperty("--aspectRatioHeight",`${t.clientHeight}px`);else if(this.flickity.size){const e=this.flickity.size?.innerWidth,t=this.flickity.size?.innerHeight;this?.style.setProperty("--aspectRatioWidth",`${e}px`),this?.style.setProperty("--aspectRatioHeight",`${t}px`)}}}repositionArrows(){const e=this.querySelector(".CarouselSlide-media")||this.querySelector(".GallerySlide-media");if(e){const t=e.offsetHeight;this.querySelectorAll(".flickity-prev-next-button").forEach((e=>{e.style.top=t/2+"px"}))}const t=this.querySelector(".flickity-prev-next-button.previous");t&&(t.style.zIndex=1);const i=this.querySelector(".flickity-prev-next-button.previous > svg");i&&(i.style.top="3px",i.style.left="3px"),t&&t.parentNode.insertBefore(t,t.previousSibling);const s=this.carouselSlides.getAttribute("data-slidescount"),n=this.getAttribute("data-native-dimensions"),o=this.querySelector(".CarouselSlide-slideCount"),a=document.querySelector('[aria-label="Full screen button"]');(n||s<2)&&(this.querySelectorAll(".flickity-prev-next-button").forEach((e=>{e.style.display="none"})),a&&(a.style.display="none"),o&&(o.style.display="none"))}renderOverrideTitle(){const e=document.querySelector("[data-named-page-type]");if(!e)return;const t=this.querySelector("[data-override-title]"),i=t?.getAttribute("data-override-title");if(!t||!i)return;const s=e.getAttribute("data-named-page-type");if("Article"===s){const e=this.closest("[data-carousel-enhancement]"),i=e?.getAttribute("data-override-title"),s=e?.getAttribute("data-hide-title");"true"==i&&"false"==s&&t.classList.remove("displayNone")}else-1!==["Hub","Section","Home page"].indexOf(s)&&t.classList.remove("displayNone")}disconnectedCallback(){this.flickity.destroy()}}class w extends window.HTMLElement{async connectedCallback(){this.status="unstarted",this.readMoreId=this.getAttribute("data-more-id"),this.readLessId=this.getAttribute("data-less-id"),this.flickityInstance=f().data(this.closest(".Carousel-slides")),this.getTextLength(),this.registerReadMore(),this.registerReadLess(),this.checkIfToEnableButton()}registerReadMore(){this.readMoreBtn=this.querySelector("["+this.readMoreId+"]"),this.readMoreBtn&&(this.readMoreBtn.className=this.getAttribute("data-main-class")+"-more-button",this.readMoreBtn.onclick=()=>{this.classList.add(this.getAttribute("data-expand")),this.status="isexpanded",this.flickityInstance&&this.flickityInstance.resize()})}registerReadLess(){this.readLessBtn=this.querySelector("["+this.readLessId+"]"),this.readLessBtn&&(this.readLessBtn.className=this.getAttribute("data-main-class")+"-less-button",this.readLessBtn.addEventListener("click",(()=>{this.classList.remove(this.getAttribute("data-expand")),this.status="unexpanded",this.flickityInstance&&this.flickityInstance.resize()})))}checkIfToEnableButton(){setTimeout((()=>{this.scrollHeight<=this.clientHeight||this.length<=110?this.status="nonexpandable":this.status="unexpanded"}),100)}getTextLength(){const e=this.getElementsByTagName("p");if(this.length=0,e&&e.length){const t=e[0].textContent;this.length=t.length}if(!e?.length){const e=this.querySelector('[class$="-description"]');if(e){const t=e.textContent;this.length=t.length}}}set status(e){e!==this._status&&(this._status,this.setAttribute("data-carousel-readmore-status",e))}get status(){return this._status}}const S="data-collapse-toggle",E={collapsed:!0,selGroup:!1};class A{constructor(e,t){this.settings=Object.assign({},E,JSON.parse(e.getAttribute(S)),t),this.el=e,this.el.collapseApi=this,this.toggle=this.toggle.bind(this),this.build()}resetSelectorSettings(){this.selectorSettings=Object.assign({},this.settings)}toggle(){this.collapsed=!this.collapsed}build(){this.resetSelectorSettings(),this.selectorSettings.active=!0,this.collapsed=this.settings.collapsed,this.el.addEventListener("click",this.toggle)}get collapsed(){return this._collapsed}set collapsed(e){e!==this._collapsed&&(this._collapsed=e,this.selectorSettings.state=e?"collapsed":"expanded",this.el.setAttribute(S,JSON.stringify(this.selectorSettings)),this.elGroup&&!e&&this.elGroup.collapseAll(this.el))}get elGroup(){return this.settings.selGroup&&(this._elGroup||(this._elGroup=[...document.querySelectorAll(this.settings.selGroup)],this._elGroup.collapseAll=e=>{this._elGroup.forEach((t=>{t.getAttribute(S)&&e!==t&&(t.collapseApi.collapsed=!0)}))})),this._elGroup}init(){this.build()}}class L extends window.HTMLElement{connectedCallback(){this.CollapseObj=new A(this)}}class C extends window.HTMLElement{connectedCallback(){this.addEvents()}addEvents(){this.addEventListener("click",(()=>{this.copyLink()})),this.addEventListener("keydown",(e=>{"Space"!==e.code&&"Enter"!==e.code||(e.preventDefault(),this.copyLink())}))}copyLink(){const e=this.getAttribute("data-link");navigator.clipboard.writeText(e).then((()=>{this.setAttribute("data-success",!0),setTimeout((()=>{this.removeAttribute("data-success")}),2e3)}),(()=>{console.error("Unable to write to clipboard")}))}}class P extends HTMLElement{static get observedAttributes(){return["data-expanded"]}get headerEl(){return this.querySelector(".FaqQuestion-header")}get answerEl(){return this.querySelector(".FaqQuestion-answer")}get expanded(){return this.hasAttribute("data-expanded")}set expanded(e){e?this.setAttribute("data-expanded",""):this.removeAttribute("data-expanded")}attributeChangedCallback(e){"data-expanded"===e&&this.toggle()}connectedCallback(){this.headerEl.addEventListener("click",(e=>{e.preventDefault(),this.expanded=!this.expanded})),this.expanded&&(this.answerEl.style.height="auto")}transition(e,t){this.answerEl.style.height=`${e}px`,window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{this.answerEl.style.height=`${t}px`}))}))}toggle(){const e=this.answerEl.scrollHeight+20;this.expanded?this.transition(0,e):this.transition(e,0)}}class _ extends window.HTMLElement{connectedCallback(){this.cacheElements(),this.init()}cacheElements(){this.form=this.querySelector("form"),this.formSubmit=this.querySelector("button[type=submit]"),this.inputs=this.querySelector("form").elements}init(){let e=null;this.form.addEventListener("keyup",(t=>{clearTimeout(e),this.setAttribute("invalid-form","false"),e=setTimeout((()=>{this.validateField(t.target)}),1e3)}),!0),this.formSubmit.addEventListener("click",(e=>{e.preventDefault(),this.setAttribute("invalid-form","false"),Array.from(this.querySelector("form").elements).forEach((e=>{this.validateField(e)})),"false"===this.getAttribute("invalid-form")&&this.form.submit()}),!0)}validateField(e){e.parentElement.parentElement.removeAttribute("data-invalid"),e.validity.valid||(e.reportValidity(),this.setAttribute("invalid-form","true"),e.parentElement.parentElement.setAttribute("data-invalid","true"))}disconnectedCallback(){return!1}}class x extends h{connectedCallback(){super.connectedCallback(),this.playButton=this.querySelector(".HTML5VideoPlayer-playIcon"),this.videoPlayer=this.querySelector(".HTML5VideoPlayer-video"),this.videoElement.addEventListener("play",(()=>{this.onPlay()})),this.videoElement.addEventListener("canplay",(()=>{this.onReady()})),this.videoElement.addEventListener("timeupdate",(()=>{this.onTimeUpdate()})),this.videoElement.addEventListener("volumechange",(()=>{this.onVolumneChange()})),this.videoElement.addEventListener("error",(()=>{this.onError()})),this.videoElement.addEventListener("ended",(()=>{this.onEnded()})),this.videoElement.addEventListener("pause",(()=>{this.onPause()})),this.handleClicks()}get videoElement(){return this.querySelector("video")}get ready(){return this.videoElement.readyState>=2}handleClicks(){this.playButton&&this.playButton.addEventListener("click",(()=>{this.hidePlayButton(),this.videoPlayer.setAttribute("controls",""),this.play()})),this.videoPlayer.addEventListener("click",(()=>{this.hidePlayButton(),this.videoPlayer.setAttribute("controls",""),this.playPause()}))}hidePlayButton(){this.playButton&&this.playButton.setAttribute("style","display:none;")}play(){this.videoElement.play()}}function k(e){e.el=e.el||this,e.callback=e.callback||function(){},e.checkMoreThanOnce=e.checkMoreThanOnce||!1,e.options=e.options||{threshold:.1};const t=new IntersectionObserver((i=>{i.forEach((i=>{const{isIntersecting:s}=i;s&&(e.checkMoreThanOnce||t.unobserve(i.target),e.callback.call(this))}))}),e.options);t.observe(e.el)}class T extends h{constructor(){super(),this.playing=!1,this.player=null}get videoElement(){return this.querySelector("video")}connectedCallback(){super.init(),k.call(this,{el:this,callback:()=>{this.player=this,this.playerVId=this.player.getAttribute("data-player")||!1,this.videoVId=this.player.getAttribute("data-video-uuid")||!1,this.mediaVId=this.player.getAttribute("data-media-id")||!1,this.pauseads=this.player.getAttribute("data-video-pauseads")||!1,this.posterImage=this.player.getAttribute("poster"),this.autostart=this.player.hasAttribute("autoplay"),this.isMuted=this.player.hasAttribute("muted"),this.adless=this.player.hasAttribute("data-adless"),this.dataLayer=this.player.getAttribute("data-video-datalayer")||null,this.adScheduleId=this.player.getAttribute("data-video-adScheduleId")||null,this.offset=this.player.getAttribute("data-video-offset")||null,this.tag=this.player.getAttribute("data-video-tag")||null,this.bidData=this.player.getAttribute("data-video-bid")||null;try{this.bids=JSON.parse(this.bidData)}catch(e){throw this.bids=null,e}try{this.parsedDatalayer=JSON.parse(this.dataLayer)}catch(e){throw this.parsedDatalayer=null,e}if(this.showAds=this.player.getAttribute("data-video-showAds"),!(this.playerVId&&this.mediaVId&&this.videoVId))return console.error("JW Video Player: Cannot play video, no media, player or video ID found"),!1;this.init()},options:{threshold:.1}})}disconnectedCallback(){window.jwplayer&&window.jwplayer(this.videoElement)&&window.jwplayer(this.videoElement).remove()}init(){this.loadJwApi(this.playerVId)}loadJwApi(e){if(window.jwplayer&&document.getElementById(e))this.onJwApiReady();else{const t=document.createElement("script");t.src="https://cdn.jwplayer.com/libraries/"+e+".js",t.id=e,t.addEventListener("load",this.onJwApiReady.bind(this));const i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}}onJwApiReady(){this.videoPlayer=this.player.querySelector("video"),this.thePlayer=window.jwplayer(this.videoElement);const e=window.jwDefaults;let t,i=this.tag;const s=this.getAttribute("data-video-datalayer");if(s&&(t=`&environment=${JSON.parse(s).dfp_kv.environment}`),i&&!i.includes("cust_params")&&(i+="&cust_params="),void 0!==this.thePlayer){if(i){const e=encodeURIComponent("&permutive="+encodeURIComponent(JSON.parse(localStorage._pdfps||"[]").slice(0,250).join(","))+"&vnd_prx_segments="+encodeURIComponent((this.parsedDatalayer?.proximic_video_segments||[]).join(",")));i=i.replace(/(cust_params[^&]+)/,"$1"+e),i+=t}const s={playlist:`https://cdn.jwplayer.com/v2/media/${this.mediaVId}`,image:this.posterImage,poster:this.posterImage,width:"100%",responsive:"true",aspectratio:"16:9",title:this.videoTitle,autostart:this.autostart||e.autostart,mute:this.isMuted||e.mute,autoPause:{viewability:!0,pauseAds:!1}};this.adless?s.advertising={}:(s.advertising={client:"googima"},this.adScheduleId&&i&&this.offset&&this.parsedDatalayer?.tags&&this.parsedDatalayer?.dfp_kv.environment&&this.parsedDatalayer?.dfp_kv.page_type&&window.permutive&&(s.advertising={...s.advertising,client:"googima",adscheduleid:this.adScheduleId,schedule:[{tag:i,offset:this.offset,custParams:{member:"no",category:this.parsedDatalayer.category||"None",tags:[...this.parsedDatalayer.tags]||[],environment:this.parsedDatalayer.dfp_kv.environment||null,page_type:this.parsedDatalayer.dfp_kv.page_type||null,vnd_prx_segments:this.parsedDatalayer?.proximic_video_segments||[],puid:window.localStorage.getItem("permutive-id")||null,ptime:Date.now().toString(),prmtvvid:window.permutive.config.viewId||null,prmtvwid:window.permutive.config.workspaceId||null}}]}),s.advertising={...s.advertising,autoplayadsmuted:!1,outstream:!1},"true"===this.showAds?(s.advertising.endstate="suspended",s.advertising.vpaidcontrols=!1,s.intl={en:{advertising:{admessage:"",cuetext:"",skipmessage:""},sharing:{heading:"Share Video"}}}):s.intl={en:{sharing:{heading:"Share Video"}}},s.autoPause.pauseAds="true"===this.pauseads,this.bids&&(s.advertising.bids=this.bids)),this.thePlayer.setup(s),this.playerEvents()}}playerEvents(){this.thePlayer.on("ready",(e=>{this.onReady(e);const t=this.querySelector(".jw-preview");this.posterImage&&t&&setTimeout((()=>{t.style.setProperty("background-image",`url('${this.posterImage}')`,"important")}),150)})),this.thePlayer.on("play",(e=>{this.playing=!0,e.currentMediaId=this.thePlayer.id,this.onPlay(e)})),this.thePlayer.on("pause",(e=>{this.onPause(e)})),this.thePlayer.on("mute",(e=>{this.muteUnmutePlaylist(e.mute),window.jwDefaults.mute=e.mute,e.currentMediaId=this.thePlayer.id,this.onMute(e)})),this.thePlayer.on("time",(e=>{this.currentTime=this.thePlayer.getPosition(),this.duration=this.thePlayer.getDuration(),this.onTimeUpdate(e)})),this.thePlayer.on("complete",(e=>{this.playing=!1,this.onEnded(e)}))}muteUnmutePlaylist(e){const t=`.VideoCarouselOverlay-player bsp-jw-player[data-player='${this.playerVId}'] video`;document.querySelectorAll(t).forEach((function(t){t.muted=e}))}play(){this.thePlayer.play()}pause(){try{this.thePlayer&&this.thePlayer.pause()}catch(e){console.error("player, Got an error pause function",e)}}}class M extends window.HTMLElement{connectedCallback(){this.tag=this.getAttribute("data-video-tag")||null,this.offset=this.getAttribute("data-video-offset")||null,this.playerDiv=this.querySelector(".placement-jw-player"),this.videoDataLayer=JSON.parse(this.getAttribute("data-video-datalayer"))||null,this.posterImage=this.playerDiv.getAttribute("poster")||"";let e=this.tag;if(e&&!e.includes("cust_params")&&(e+="&cust_params="),e){const t=encodeURIComponent("permutive="+encodeURIComponent(JSON.parse(localStorage._pdfps||"[]").slice(0,250).join(","))+"&vnd_prx_segments="+encodeURIComponent((this.videoDataLayer?.proximic_video_segments||[]).join(","))+"&member=no");e=e.replace(/(cust_params[^&]+)/,"$1"+t)}this.videoDataLayer&&(e+=encodeURIComponent(`&tags=${this.videoDataLayer.tags}&page_type=${this.videoDataLayer.page_type}\n        &category=${this.videoDataLayer.category}&environment=${this.videoDataLayer.dfp_kv.environment}`)),this.playerDiv.setAttribute("data-jw-ad_tag",e),new MutationObserver(((e,t)=>{e.forEach((e=>{e.addedNodes.forEach((e=>{1===e.nodeType&&e.matches(".jwplayer .jw-preview")&&(this.updateThumbnail(e),t.disconnect())}))}))})).observe(document.body,{childList:!0,subtree:!0})}updateThumbnail(e){e.style.setProperty("background-image",`url('${this.posterImage}')`,"important"),e.style.opacity=1}}class I extends window.HTMLElement{connectedCallback(){this.navDropdown(),this.switchLanguage()}navDropdown(){this.querySelector(".LanguagesMenu").addEventListener("click",(()=>{const e=this.querySelector(".LanguagesMenu-items");e.classList.contains("is-active")?e.classList.remove("is-active"):e.classList.add("is-active")}))}switchLanguage(){const e=this.querySelector(".LanguagesMenu-text-link");this.querySelectorAll(".LanguagesMenuItem-items-item-link").forEach((t=>{t.addEventListener("click",(()=>{const i=t.getAttribute("language-code");e.innerHTML=i}))}))}}function q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class B extends window.HTMLElement{constructor(e,t,i){super(e,i),q(this,"handleIntersect",((e,t)=>{e.forEach((e=>{e.isIntersecting&&(t.unobserve(e.target),this.remove())}))})),this.post=e,this.linkText=t,this.onDisconnectedCallback=i}updatePost(e){this.observer.unobserve(this.post),this.post=e,this.observer.observe(this.post)}connectedCallback(){this.classList.add("LiveBlogNewPostLink"),this.postLink=document.createElement("a"),this.postLink.insertAdjacentHTML("beforeend",'<svg class="icon-arrow-down"><use xlink:href="#icon-arrow-down"></use></svg>'),this.postLink.insertAdjacentText("beforeend",this.linkText),this.postLink.href=`#${this.post.id}`,this.postLink.classList.add("LiveBlogNewPostLink-link"),this.appendChild(this.postLink),this.dismissLink=document.createElement("a"),this.dismissLink.insertAdjacentHTML("beforeend",'<svg><use xlink:href="#close-x"></use></svg>'),this.dismissLink.href="#",this.dismissLink.classList.add("LiveBlogNewPostLink-dismissLink"),this.appendChild(this.dismissLink),this.postLink.addEventListener("click",(e=>{e.preventDefault(),window.history.pushState(null,null,`#${this.post.id}`),this.post.scrollIntoView()})),this.dismissLink.addEventListener("click",(e=>{e.preventDefault(),this.remove()})),this.observer=new window.IntersectionObserver(this.handleIntersect),this.observer.observe(this.post)}disconnectedCallback(){this.onDisconnectedCallback()}}const D=6e4,O=3e5;let H=D;const F="LiveBlog:newPosts";class N extends window.HTMLElement{connectedCallback(){this.screenWidth=Math.min(screen.width,window.innerWidth),this.postsEndpoint=this.getAttribute("data-posts-endpoint"),this.live=this.hasAttribute("data-live-event"),this.skipMainPost=this.hasAttribute("data-skip-main-post"),this.currentPostsEl=document.querySelector(".LiveBlogPage-currentPosts"),this.blogBodyEl=document.querySelector("#blogBody"),this.pageUpdateTime=document.querySelector("#blogUpdatedTimestamp")?.value,this.newBlogCount=0,this.isBodyUpdate=!1,this.docTitle=document.title;const e=document.querySelector(".LiveBlogPage-headline-sticky"),t=window.navigator.vendor;t&&t.toLowerCase().includes("apple")&&e.setAttribute("data-safari",!0),this.setBinds(),this.live&&this.createInterval()}async getNewPosts(){let e,t=200;const i=new URL(window.location.href),s=new URLSearchParams(i.search),n=new window.URLSearchParams,o=[...document.querySelectorAll(".LiveBlogPost")].reduce(((e,t)=>{const i=+t.getAttribute("data-posted-date-timestamp");return i>e?i:e}),null);s.has("tab")&&n.append("tab",s.get("tab")),o&&(n.append("since",o),n.append("version",Date.now()));const a=`${this.postsEndpoint}?${n}`;try{const i=await window.fetch(a);e=await i.text(),t=i.status}catch(e){return H=O,this.resetInterval(),console.error("Error getting new posts",e)}if(200!==t)return H=O,this.resetInterval(),console.error("Error getting new posts",t);H!==D&&(H=D,this.resetInterval());const r=(new window.DOMParser).parseFromString(e,"text/html"),l=r.querySelector(".LiveBlogPage-currentPosts").innerHTML.trim(),d=r.querySelectorAll("bsp-liveblog-post");if(d&&d.length){const e=parseInt(d.length);this.newBlogCount+=e,this.updateNewPostCount()}if(l){this.currentPostsEl.insertAdjacentHTML("afterbegin",l),this.emit("Ajax:Rendered");const e=this.currentPostsEl.querySelector("bsp-liveblog-post");this.createOrUpdateNewPostLink(e)}}async getPageUpdate(){let e,t=200;const i=new window.URLSearchParams;this.pageUpdateTime&&(i.append("since",this.pageUpdateTime),i.append("bodyVersion",Date.now()));const s=`${this.postsEndpoint}?${i}`;try{const i=await window.fetch(s);e=await i.text(),t=i.status}catch(e){return H=O,this.resetInterval(),console.error("Error getting page update",e)}if(200!==t)return H=O,this.resetInterval(),console.error("Error getting page update",t);H!==D&&(H=D,this.resetInterval());const n=(new window.DOMParser).parseFromString(e,"text/html");if(n.querySelector("#updatedBlogBody")){const e=document.createElement("div");e.classList.add("RichTextBody"),e.id="blogBody",e.innerHTML=n.querySelector("#updatedBlogBody")?.innerHTML.trim(),this.pageUpdateTime=parseInt(n.querySelector(".Page-blogUpdatedTimestamp")?.getAttribute("data-timestamp")||0),e&&(this.blogBodyEl.parentNode.replaceChild(e,this.blogBodyEl),this.emit("Ajax:Rendered"),this.isBodyUpdate=!0,setTimeout((()=>{this.blogBodyEl=document.querySelector("#blogBody")}),1e3))}}handleClick(e){e.preventDefault(e),this.emit(F);const t=document.getElementById("reloadLiveBlog");let i=document.querySelector(".LiveBlogPage-currentPosts").offsetTop;if(this.isBodyUpdate){const e=new window.URLSearchParams;return e.append("version",Date.now()),window.location.href=`${this.postsEndpoint}?${e}`,!1}window.scrollTo(0,i-70),this.newBlogCount=0,this.updateNewPostCount(),t.classList.remove("show")}showReloadButton(){document.getElementById("reloadLiveBlog").classList.add("show")}updateNewPostCount(){const e=document.getElementById("reloadLiveBlog"),t=this.newBlogCount>1?"new updates":"new update",i=this.newBlogCount>10?"10+":this.newBlogCount;e.innerHTML=i+" "+t,document.title=`(${i}) ${this.docTitle}`,this.newBlogCount>0?this.showReloadButton():document.title=this.docTitle}createInterval(){this.interval=setInterval((()=>{this.getNewPosts(),this.getPageUpdate()}),H)}clearInterval(){clearInterval(this.interval)}resetInterval(){this.clearInterval(),this.createInterval()}emit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new window.CustomEvent(e,{bubbles:!0,detail:t});this.dispatchEvent(i)}createOrUpdateNewPostLink(e){this.newPostLink?this.newPostLink.updatePost(e):(this.newPostLink=new B(e,this.getAttribute("data-latest-update-text"),(()=>{this.newPostLink=null})),document.body.appendChild(this.newPostLink))}setBinds(){this.activeTab(),this.showHideTabs();const e=document.querySelectorAll(".tab-button"),t=document.getElementById("reloadLiveBlog");e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const i=e.getAttribute("data-tab");let s=new URL(window.location.href);s.searchParams.delete("tab"),s.hash="","all"!==i&&s.searchParams.set("tab",i),window.location.href=s.toString()}))})),t.addEventListener("click",this.handleClick.bind(this))}activeTab(){const e=new URL(window.location.href),t=new URLSearchParams(e.search),i=document.querySelector(".LiveBlogPage-tabs"),s=document.querySelector("[data-tab='all']");if(t.has("tab")){const e=t.get("tab"),n=document.querySelector(`[data-tab='${e}']`),o=document.getElementById(`tabBody-${e}`),a=document.getElementById(`tabAnchor-${e}`);if(n){n.classList.add("active");const e=i.getBoundingClientRect(),t=n.getBoundingClientRect();i.scrollLeft+=t.left-(e.left+70),o&&(o.style.display="block"),this.skipMainPost&&setTimeout((()=>{let e=a||document.querySelector("bsp-liveblog-post .LiveBlogPost-anchor");e&&e.scrollIntoView({behavior:"smooth"})}),1500)}else s.classList.add("active")}else s&&s.classList.add("active")}showHideTabs(){const e=document.querySelector(".LiveBlogPage-headline-sticky");if(!e||this.screenWidth>1023)return!1;let t=window.scrollY;const i=window.navigator.vendor;i&&i.toLowerCase().includes("apple")?window.addEventListener("scroll",(i=>{const s=window.scrollY;s>200&&"down"==(s>t?"down":"up")?e.setAttribute("data-hidden",!0):e.removeAttribute("data-hidden"),setTimeout((()=>{t=s}),500),i.stopPropagation()}),{passive:!0}):window.addEventListener("scrollend",(i=>{const s=window.scrollY;s>200&&"down"==(s>t?"down":"up")?e.setAttribute("data-hidden",!0):e.removeAttribute("data-hidden"),setTimeout((()=>{t=s}),500),i.stopPropagation()}),{passive:!0})}}class R extends window.HTMLElement{constructor(e){super(e),this.post=e}connectedCallback(){this.classList.add("LiveBlogFeed-post");const e=this.post.getdPostedTimeFormatted(),t=e.isWithinHour?" relative":"";let i=this.post.headline;(i||(i=this.post.altHeadline,i))&&(this.innerHTML=`<div class="LiveBlogFeed-post-time${t}">${e.formatted}</div>\n        <a href="#${this.post.id}" class="LiveBlogFeed-post-headline">${i}</a>`.trim(),this.addEventListener("click",(e=>{e.preventDefault(),window.history.pushState(null,null,`#${this.post.id}`),this.post.scrollIntoView()})))}}window.customElements.define("bsp-liveblog-feed-post",R);class $ extends window.HTMLElement{connectedCallback(){this.feed=this.querySelector(".LiveBlogFeed-feed"),this.createOrUpdate(),document.addEventListener(F,(()=>this.createOrUpdate()))}async createOrUpdate(){await window.customElements.whenDefined("bsp-liveblog-post"),this.posts=[...document.querySelectorAll("bsp-liveblog-post")],this.render()}render(){const e=this.posts.reduce(((e,t)=>(e[t.getdPostedDateFormatted()]||(e[t.getdPostedDateFormatted()]=[]),e[t.getdPostedDateFormatted()].push(t),e)),{}),t=Object.keys(e).map((t=>({date:t,posts:e[t]})));this.feed.innerHTML="",t.forEach((e=>{const t=document.createElement("div");t.classList.add("LiveBlogFeed-date"),t.innerText=e.date,this.feed.appendChild(t),e.posts.forEach((e=>{this.feed.appendChild(new R(e))}))}))}}const W=window.navigator.language||window.navigator.userLanguage||"en-US";class V extends window.HTMLElement{get postedDateTimestamp(){return+this.getAttribute("data-posted-date-timestamp")}get postedDate(){return new Date(this.postedDateTimestamp)}get isCurrentDay(){return this.getAttribute("data-is-current-day")}set isCurrentDay(e){e?this.setAttribute("data-is-current-day",""):this.removeAttribute("data-is-current-day")}get headline(){return this.querySelector(".LiveBlogPost-headline")?this.querySelector(".LiveBlogPost-headline").innerText:null}get altHeadline(){return this.getAttribute("data-alt-headline")}get id(){return this.getAttribute("data-post-id")}get timeZone(){let e="";try{e=/.*\s(.+)/.exec((new Date).toLocaleDateString(navigator.language,{timeZoneName:"short"}))[1]}catch(t){e=(new Date).toTimeString().match(new RegExp("[A-Z](?!.*[(])","g")).join("")}return e}connectedCallback(){this.timeElement=this.querySelector(".LiveBlogPost-time"),this.dateElement=this.querySelector(".LiveBlogPost-date"),this.render(),document.addEventListener("LiveBlog:fetched",(()=>this.render()))}getdPostedTimeFormatted(){const e=new Date-this.postedDate;if(e<6e4)return{isWithinHour:!0,formatted:`${(e/1e3).toFixed(0)} ${this.getAttribute("data-seconds-delta-text")}`};if(e<36e5)return{isWithinHour:!0,formatted:`${(e/6e4).toFixed(0)} ${this.getAttribute("data-minutes-delta-text")}`};const t=this.timeZone.toUpperCase(),i="en-GB"===W?"en-US":W;return{isWithinHour:!1,formatted:`${this.postedDate.toLocaleString(i,{hour:"numeric",minute:"numeric",hour12:!0})} ${t}`}}getdPostedDateFormatted(){return this.postedDate.toLocaleString(W,{year:"numeric",month:"long",day:"numeric"})}render(){const e=this.getdPostedTimeFormatted(),t=e.isWithinHour?"relative":"";t&&this.timeElement.classList.add(t),this.timeElement.innerText=e.formatted,this.dateElement&&(this.dateElement.innerText=this.getdPostedDateFormatted());const i=new Date;i.setHours(0,0,0),this.isCurrentDay=this.postedDate>i}scrollIntoView(){const e={behavior:"smooth",...arguments};this.querySelector(".LiveBlogPost-anchor").scrollIntoView(e)}}class j extends window.HTMLElement{constructor(){super(),this.page=2,this.pages=parseInt(document.querySelector("bsp-liveblog")?.getAttribute("data-total-pages")||0),this.loadButton=document.querySelector(".LiveBlogFeed-Button"),this.loadingDiv=document.querySelector(".LoadMore-loading"),this.loading=!1,this.urlHash=window.location.hash||null,this.getLastPost(),this.observer=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&this.loadData()}))}))}connectedCallback(){if(!this.urlHash&&this.pages>1)this.observer.observe(this.lastPost);else if(this.urlHash){const e=document.getElementById(this.urlHash.replace("#",""));e?setTimeout((()=>{e.scrollIntoView()}),3e3):(this.page=-1,this.loadData())}this.loadButton&&this.loadButton.addEventListener("click",(()=>{this.loadData()}))}async loadData(){if(this.loading)return;this.observer.unobserve(this.lastPost),this.loading=!0,this.loadingDiv&&(this.loadingDiv.style.display="block"),this.loadButton&&(this.loadButton.style.display="none");let e=new URL(window.location.href);e.searchParams.set("page",this.page),e.searchParams.set("version",Date.now()),this.getNewPage(e.toString()).then((e=>{const t=document.createElement("div");t.innerHTML=e;const i=t.querySelector(".LiveBlogPage-currentPosts").innerHTML.trim();if(i&&this.page<=1)this.innerHTML=i;else if(i){const e=t.querySelector(".LiveBlogPage-currentPosts").childNodes;for(let t=0;t<e.length;t++)this.appendChild(e[t].cloneNode(!0))}this.page++,this.loading=!1;const s=document.querySelector("bsp-liveblog-feed");s&&(s.createOrUpdate(),this.loadingDiv&&(this.loadingDiv.style.display="none")),this.getLastPost(),!this.urlHash&&this.page<=this.pages?(this.observer.observe(this.lastPost),this.loadButton&&(this.loadButton.style.display="block"),setTimeout((()=>{this.loadButton.scrollIntoView()}),3e3)):this.urlHash&&setTimeout((()=>{document.getElementById(`${this.urlHash.replace("#","")}`).scrollIntoView(),this.page=this.pages}),3e3),setTimeout((()=>{window.properBuildSlots&&window.properBuildSlots()}),3e3)}))}getNewPage(e){return new Promise(((t,i)=>{window.fetch(e,{credentials:"include"}).then((e=>{t(e.text())})).catch((()=>{i(new Error("error"))}))}))}getLastPost(){const e=this.querySelectorAll("bsp-liveblog-post");e&&e.length&&(this.lastPost=e[e.length-1])}}const U=6e4,z=3e5;let G=U;class Y extends window.HTMLElement{connectedCallback(){this.screenWidth=Math.min(screen.width,window.innerWidth),this.postsEndpoint=this.getAttribute("data-live-blog-url"),this.live=this.hasAttribute("data-live-blog-url"),this.maxNumOfPosts=this.getAttribute("data-max-number-of-posts"),this.currentPostsEl=this,this.live&&this.createInterval()}async getNewPosts(){let e,t=200;const i=new window.URLSearchParams,s=this.getMostRecentPostEpoch();s&&(i.append("since",s),i.append("version",Date.now()),i.append("isModule",!0));const n=`${this.postsEndpoint}?${i}`;try{const i=await window.fetch(n);e=await i.text(),t=i.status}catch(e){return G=z,this.resetInterval(),console.error("Error getting new posts",e)}if(200!==t)return G=z,this.resetInterval(),console.error("Error getting new posts",t);G!==U&&(G=U,this.resetInterval());const o=(new window.DOMParser).parseFromString(e,"text/html").querySelector("bsp-liveblog-post-list").innerHTML.trim();o&&(this.currentPostsEl.insertAdjacentHTML("afterbegin",o),this.emit("Ajax:Rendered"),this.currentPostsEl.childElementCount+1>this.maxNumOfPosts&&this.currentPostsEl.removeChild(this.currentPostsEl.lastElementChild))}getMostRecentPostEpoch(){return Array.from(this.currentPostsEl.querySelectorAll(".PagePromo")).reduce(((e,t)=>{const i=+t.getAttribute("data-posted-date-timestamp");return i>e?i:e}),null)}createInterval(){this.interval=setInterval((()=>{this.getNewPosts()}),G)}clearInterval(){clearInterval(this.interval)}resetInterval(){this.clearInterval(),this.createInterval()}emit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new window.CustomEvent(e,{bubbles:!0,detail:t});this.dispatchEvent(i)}}class X extends HTMLElement{get url(){return new URL(this.getAttribute("data-url"),location.origin)}connectedCallback(){this.querySelector("button").addEventListener("click",(e=>{e.preventDefault(),this.loadMore()}))}loadMore(){this.hasAttribute("data-loading")||(this.setAttribute("data-loading",""),window.fetch(this.url,{credentials:"include"}).then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html"),i=new CustomEvent(X.events.loadedContent,{bubbles:!0,detail:t});this.dispatchEvent(i)})).catch(console.log))}}q(X,"events",{loadedContent:"LoadMore:loadedContent"});class J extends window.HTMLElement{async connectedCallback(){this.carouselSlides=this.querySelector('[class$="-slides"]')||this,this.carouselSlide=this.querySelector('[class$="-slides"]')||this,this.closeButtonEl=this.querySelector('[class$="-closeButton"]')||this,window.addEventListener("load",(()=>{this.carouselOptions={adaptiveHeight:!1,wrapAround:!0,prevNextButtons:!0,pageDots:!1,draggable:!0,lazyLoad:3,on:{change:e=>{this.onSlideChange(e)},select:e=>{this.onSlideChange(e)}}}})),this.closeButtonEl.addEventListener("click",(e=>this.onCloseCarousel(e))),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.onCloseCarousel(e)})),document.body.addEventListener("GalleryPageCarousel:Open",(e=>this.onOpenCarousel(e,f())))}onSlideChange(e){this.querySelector('[class$="-slide"][active]')&&this.querySelector('[class$="-slide"][active]').removeAttribute("active"),this.querySelector('[data-slide-id="slide-'+e+'"]').setAttribute("active","")}onCloseCarousel(e){e.preventDefault(),this.removeAttribute("active"),this.flickity.destroy(),document.documentElement.style.removeProperty("overflow")}onOpenCarousel(e,t){this.setAttribute("active",""),document.documentElement.style.setProperty("overflow","hidden"),this.flickity=new t(this.carouselSlides,this.carouselOptions),this.flickity.resize(),this.flickity.select(e.detail.index,!0,!0)}disconnectedCallback(){this.flickity.destroy()}}class Z extends window.HTMLElement{get galleryStyle(){return this.dataset.galleryStyle}get headerHeight(){return document.querySelector(".Page-header").offsetHeight}get slides(){return this.querySelectorAll(".GallerySlideWaterfall img")}get fullScreenButtons(){return this.querySelectorAll('[class$="-fullScreenButton"]')}connectedCallback(){this.handleEventListeners()}handleEventListeners(){window.addEventListener("load",(()=>{"waterfall"===this.galleryStyle&&this.slideClickEvent()}))}slideClickEvent(){this.slides.forEach((t=>{t.addEventListener("click",(i=>{i.preventDefault(),e(t)})),t.addEventListener("keyup",(i=>{i.preventDefault(),"Enter"===i.key&&(e(t),document.querySelector('[class$="-closeButton"]').focus())}))})),this.fullScreenButtons.forEach((t=>{t.addEventListener("click",(i=>{const s=t.nextElementSibling.querySelector(".GallerySlideWaterfall img");i.preventDefault(),e(s)}))}));const e=e=>{const t=e.closest("[data-slide-index]").dataset.slideIndex;document.body.dispatchEvent(new window.CustomEvent("GalleryPageCarousel:Open",{detail:{index:t}}))}}}class Q extends window.HTMLElement{connectedCallback(){const e=this.getAttribute("data-url"),t=this,i=this.parentElement;fetch(e).then((e=>e.text())).then((e=>{const s=(new DOMParser).parseFromString(e,"text/html");Array.from(s.body.children).forEach((e=>{const s=e.querySelector(".Banner-link");if(s){const e=s?.getAttribute("href");if(!e)return;if(new URL(e,window.location.origin).pathname===window.location.pathname)return}i.insertBefore(e,t)})),i.removeChild(t)})).catch((function(e){console.log("Failed to fetch page: ",e)}))}}class K{static createCookie(e,t,i,s){let n="",o="",a="";a=i?new Date(parseInt(i)):new Date(19249236e5),n="; expires="+a.toUTCString(),s&&(o=`;domain=${s}`),document.cookie=e+"="+t+n+o+"; path=/"}static hasCookie(e){return null!=this.getCookie(e)}static getCookie(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));if(t)return t[2]}static eraseCookie(e,t){this.createCookie(e,"",3155508e5,t)}static daysInUTC(e){const t=new Date;return t.setDate(t.getDate()+parseInt(e))}}class ee extends HTMLElement{get cookieName(){return this.getAttribute("cookie-name")}get input(){return this.querySelector("input")}updateValue(){this.input.value=K.getCookie(this.cookieName)}connectedCallback(){this.updateValue()}}class te extends HTMLElement{get input(){return this.querySelector("input")}connectedCallback(){this.input.value=document.referrer}}class ie extends HTMLElement{connectedCallback(){this.elWrap=this.closest("[data-scroll-shade-parent]"),this.addEventListener("scroll",p(50,(()=>{this.updateScrollShades()}))),window.addEventListener("resize",p(50,(()=>{this.updateScrollShades()}))),this.querySelector("img")?.addEventListener("load",(()=>{setTimeout(this.updateScrollShades.bind(this),300)})),window.addEventListener("load",this.updateScrollShades.bind(this))}updateScrollShades(){const e=Math.ceil(this.scrollLeft),t=Math.ceil(this.scrollTop),i=this.scrollWidth-this.clientWidth,s=this.scrollHeight-this.clientHeight;let n="";this.clientWidth<this.scrollWidth&&(n+=0===e?"forward":e===i?"backward":"forward backward"),this.clientHeight<this.scrollHeight&&(0===t?n+="downward":t===s?n+="upward":n="downward upward"),this.elWrap.setAttribute("data-scrollable-direction",n||"none")}}class se{constructor(){document.querySelectorAll(".HtmlModule").forEach((e=>{const t=e.querySelector("iframe");if(t){const e=t.getAttribute("width")||"640",i=t.getAttribute("height")||"360";if(-1!==e.indexOf("%")||-1!==i.indexOf("%"))return;t.classList.add("script-constrained");const s=parseInt(e,10),n=parseInt(i,10),o=s>=n?s/n:n/s;t.style.aspectRatio=o}}))}}class ne{constructor(){const e=document.querySelectorAll("[data-animate-on-scroll]"),t={threshold:.25};e.forEach((e=>{e.setAttribute("data-not-scrolled",!0)})),e.forEach((e=>{new window.IntersectionObserver((function(e){e.forEach((function(e){const t=e.target;e.isIntersecting&&(t.removeAttribute("data-not-scrolled"),t.setAttribute("data-scrolled",!0))}))}),t).observe(e)}))}}class oe extends window.HTMLElement{connectedCallback(){this.pageActionsInited||this.init()}init(){const e=this.querySelectorAll("[data-collapse-element]"),t=this.querySelectorAll("[data-collapse-close]");this.CollapseObj=new A(e[0]),this.addEventListener("click",(e=>{s.call(this,e,"[data-collapse-close]",(()=>{this.CollapseObj.toggle()}))})),t.forEach((e=>{e.addEventListener("keydown",(e=>{"Space"!==e.code&&"Enter"!==e.code||(e.preventDefault(),this.CollapseObj.toggle())}))})),this.pageActionsInited=!0}}class ae extends window.HTMLElement{connectedCallback(){new window.IntersectionObserver((function(e){e.forEach((function(e){const t=e.target.querySelector("video");e.isIntersecting?t.play():t.pause()}))})).observe(this)}}class re extends window.HTMLElement{connectedCallback(){this.elCache(),v.call(this),this.setBinds()}elCache(){this.elTriggerVideos=this.querySelector("[data-lead-superlead-button-videos]"),this.elTriggerImages=this.querySelector("[data-lead-superlead-button-images]"),this.totalImages=this.elTriggerImages?.querySelector(".Page-lead-superleadUI-count")?.textContent.trim(),this.totalVideos=this.elTriggerVideos?.querySelector(".Page-lead-superleadUI-count")?.textContent.trim(),this.tplVideos=this.querySelector("[data-bsp-video-playlist-module-template]"),this.tplImages=this.querySelector("[data-bsp-carousel-overlay-template]"),this.totalImages&&(window.dataLayer.push({phototab_shown:this.totalImages}),g("phototab_shown",{})),this.totalVideos&&(window.dataLayer.push({videotab_shown:this.totalVideos}),g("videotab_shown",{}))}setBinds(){this.elTriggerVideos?.addEventListener("click",(()=>{window.dataLayer.push({video_clicked:this.totalVideos}),g("video_clicked",{}),this.createVideoPlaylistModuleOverlay(),this.elVideoOverlay.setAttribute("data-state","open")})),this.elTriggerImages?.addEventListener("click",(()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({photo_clicked:this.totalImages}),g("photo_clicked",{})}))}createVideoPlaylistModuleOverlay(){const e=`VideoPlaylistModuleOverlay_${[...document.querySelectorAll("[data-module], bsp-lead-superlead-ui")].indexOf(this)}`;document.getElementById(e)||(this.elVideoOverlay=document.createElement("div"),this.elVideoOverlay.className="VideoPlaylistModuleOverlay",this.elVideoOverlay.id=e,this.elVideoOverlay.innerHTML=this.tplVideos.innerHTML,document.body.appendChild(this.elVideoOverlay),this.elVideoOverlay.querySelector("[data-bsp-video-playlist-module-overlayclose]").addEventListener("click",(()=>{this.elVideoOverlay.removeAttribute("data-state")})))}}class le extends window.HTMLElement{async connectedCallback(){this.carouselSlides=this.querySelector('[class$="-items"]')||this,this.observer=new IntersectionObserver(this.handleIntersection,{threshold:.25}),this.carouselSlideItems=this.carouselSlides.querySelectorAll('[class$="-item"]'),this.carouselSlideItems.forEach((e=>{this.observer.observe(e)})),this.initializeFlickity(),setTimeout((()=>{this.onFlickityReady()}),3e3)}initializeFlickity(){this.carouselOptions={adaptiveHeight:!1,cellAlign:"left",imagesLoaded:!0,lazyLoad:3,pageDots:!1,prevNextButtons:!1,watchCSS:!0},(this.classList.contains("PageListCarouselF")||this.classList.contains("ProductListCarousel"))&&(this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!0,cellAlign:"left",groupCells:"100%",imagesLoaded:!0,lazyLoad:2,pageDots:!1,prevNextButtons:!0,watchCSS:!0})),this.classList.contains("PageListCarouselA")&&(this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!1,cellAlign:"left",groupCells:"100%",imagesLoaded:!0,lazyLoad:2,pageDots:!1,prevNextButtons:!0,watchCSS:!0})),this.classList.contains("VideoPlaylistModuleCarousel")&&(v.call(this),this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!1,cellAlign:"left",groupCells:"100%",imagesLoaded:!0,lazyLoad:2,pageDots:!1,prevNextButtons:!0,watchCSS:!0})),this.classList.contains("AuthorListB")&&(this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!1,cellAlign:"left",groupCells:"100%",imagesLoaded:!0,lazyLoad:2,prevNextButtons:!0,pageDots:!1})),this.classList.contains("QuoteListA")&&(this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!1,cellAlign:"left",imagesLoaded:!0,lazyLoad:2,prevNextButtons:!0,pageDots:!1})),this.classList.contains("LogoListA")&&(this.carouselOptions=Object.assign(this.carouselOptions,{adaptiveHeight:!0,cellAlign:"left",imagesLoaded:!0,lazyLoad:2,prevNextButtons:!0,pageDots:!1,wrapAround:!0})),this.carouselOptions.on={ready:()=>{this.repositionArrows(),this.checkBtnStatus()}},this.flickity=new(f())(this.carouselSlides,this.carouselOptions),window.addEventListener("resize",p(50,(()=>{this.repositionArrows(),this.checkBtnStatus()})))}onFlickityReady(){this.repositionArrows(),this.checkBtnStatus()}handleIntersection(e){e.map((e=>{if(!e.isIntersecting)return;const t=e.target;t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden")}))}disconnectedCallback(){this.flickity.destroy(),this.carouselSlideItems.forEach((e=>{this.observer.unobserve(e)}))}repositionArrows(){const e=this.querySelector(".Promo-media");if(e){const t=e.offsetHeight;this.querySelectorAll(".flickity-prev-next-button").forEach((e=>{e.style.top=t/2+"px"}))}}checkBtnStatus(){const e=this.querySelector(".flickity-button.flickity-prev-next-button.previous"),t=this.querySelector(".flickity-button.flickity-prev-next-button.next");if(e&&t){const i={attributes:!0,childList:!1,subtree:!1},s=new MutationObserver(((e,t)=>{for(const t of e)"attributes"===t.type&&this.changeBtnStyle()}));s.observe(e,i),s.observe(t,i),this.changeBtnStyle()}}changeBtnStyle(){const e=window.screen.width,t=this.querySelector(".flickity-button.flickity-prev-next-button.previous"),i=this.querySelector(".flickity-button.flickity-prev-next-button.next");t.hasAttribute("disabled")&&i.hasAttribute("disabled")?(t.style.display="none",i.style.display="none"):e>786&&(t.style.display="block",i.style.display="block")}}function de(e,t){t=Object.assign({itemSelector:'[data-list-loadmore-items] > [class*="-items-item"]'},t);const i=this.querySelector(`[${e}]`);let s=0;if(!i)return;var n=parseInt(i.getAttribute(`${e}-startsat`)||"5");const o=parseInt(i.getAttribute(`${e}-maxinjections`)||"5"),a=parseInt(i.getAttribute(`${e}-repetition`)||"5");this.injectAds=()=>{const e=this.querySelectorAll(t.itemSelector),r=i.innerHTML;for(;n<e.length+1;)if(e[n-1].insertAdjacentHTML("beforeend",r),n+=a,s++,s===o){this.injectAds=()=>{};break}},this.injectAds(),document.body.addEventListener("Ajax:Rendered",(()=>{this.injectAds(),setTimeout((()=>{window.properBuildSlots&&window.properBuildSlots()}),3e3)}))}function ce(e,t){t=Object.assign({itemSelector:'[data-list-loadmore-items] > [class*="-items-item"]'},t);const i=this.querySelector(`[${e}]`);let s=0;if(!i)return;var n=parseInt(i.getAttribute(`${e}-startsat`)||"5");const o=parseInt(i.getAttribute(`${e}-maxinjections`)||"5"),a=parseInt(i.getAttribute(`${e}-repetition`)||"5");this.injectAdsAlt=()=>{const e=this.querySelectorAll(t.itemSelector),r=i.innerHTML;for(;n<e.length+1;)if(e[n-1].insertAdjacentHTML("beforeend",r),n+=a,s++,s===o){this.injectAdsAlt=()=>{};break}},this.injectAdsAlt(),document.body.addEventListener("Ajax:Rendered",(()=>{this.injectAdsAlt()}))}function he(e){de.call(this,"data-injectedmodule",e),ce.call(this,"data-injectedmodule-alt",e)}const ue={selItems:"[data-list-loadmore-items]",selPagination:"[data-list-loadmore-pagination]",pageCacheRegex:/(page|p)=([0-9]*)$/},pe="data-list-loadmore";class me extends window.HTMLElement{connectedCallback(e){this.el=this,this.settings=Object.assign({},ue,e),this.el.setAttribute(pe,""),this.pageHrefCache=[1],he.call(this,{itemSelector:'[data-list-loadmore-items] > [class*="-items-item"]'}),this.init()}init(){this.elItems=this.el.querySelector(this.settings.selItems),this.setBinds()}loadMore(e,t){const i=this,s=this.el.className,n=me.findClassNameMatches(document,s),o=Array.from(n).indexOf(this.el);this.pageHrefCache.push(this.getPageNum(e)),this.el.setAttribute(pe,"loading"),window.fetch(e,{credentials:"include"}).then((e=>(this.el.setAttribute(pe,""),e.text()))).then((e=>{const n=document.createElement("div");n.innerHTML=e;const a=me.findClassNameMatches(n,s),r=a[o].querySelector(i.settings.selItems),l=a[o].querySelector(i.settings.selPagination);"function"==typeof t?t(r,l,a[o]):this.render(r,l,i.elItems,i.elPagination)})).catch((function(e){console.error(e)}))}next(e){if(this.elPagination){const t=this.elPagination.querySelector("a");t&&this.loadMore(t.href,e)}}setBinds(){this.elPagination&&this.elPagination.addEventListener("click",(e=>{const t=e.target;"A"===t.nodeName.toUpperCase()&&(e.preventDefault(),this.loadMore(t.href))}))}getPageNum(e){try{const t=this.settings.pageCacheRegex.exec(e);return parseInt(t[2])}catch(t){return console.info("ListLoadMore",`${e} not a new page number`),0}}updatePaginationDOM(e){[...e.querySelectorAll(":scope > a")].forEach((e=>{this.pageHrefCache.indexOf(this.getPageNum(e.href))>=0&&e.parentNode.removeChild(e)})),this.elPagination.innerHTML=e.innerHTML}static findClassNameMatches(e,t){return e.querySelectorAll(`[class=${t}]`)}get elPagination(){return this.el.querySelector(this.settings.selPagination)}render(e,t){e&&this.elItems.insertAdjacentHTML("beforeend",e.innerHTML),t?this.updatePaginationDOM(t):this.elPagination.parentNode.removeChild(this.elPagination),this.dispatchRendered()}dispatchRendered(){const e=new window.CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(e)}}var ge=n(876),ve=n.n(ge);const ye={elTrackableModules:"[data-module]:not(.Page-main):not(.PageListEnhancementGeneric):not(.Advertisement):not(.TaboolaRecommendationModule):not([data-module-trackunsubscribe]),[data-module-tracksubscribe], .LiveBlogPost",elUntrackableParents:".Page-lead"},fe=document.querySelector("[data-named-page-type]")?.getAttribute("data-named-page-type");localStorage.setItem("pageType",fe);const be=fe?`${fe}_`:"";function we(e){return e.hasAttribute("data-gtm-modulestyle")?e.getAttribute("data-gtm-modulestyle"):e.className}function Se(e,t){const i={eventtype:t};if(e.hasAttribute("data-morebutton"))g("interactedMainNavMore",i);else if(e.classList.contains("HamburgerNavigation-items-item")){const t=e.querySelector(".HamburgerNavigationItem-text"),s=t?.querySelector("a");t?.innerText&&(i.text=t?.innerText),s?.href&&(i.href=s?.href),g("interactedHamburgerNav",i)}else if(e.classList.contains("MainNavigationItem")){const t=e.querySelector(".AnClick-MainNav"),s=t?.querySelector("a");t?.innerText&&(i.text=t?.innerText),s?.href&&(i.href=s?.href),g("interactedSubNav",i)}}function Ee(e){const t={};return t.module_style=we(e),t.data_ad_position=e.getAttribute("data-ad-position"),t.module_number=e.getAttribute("data-module-number"),t.module_name=e.closest("[data-gtm-region]")?.getAttribute("data-gtm-region")||"No Value",t.module_topic=e.closest("[data-gtm-topic]")?.getAttribute("data-gtm-topic")||"No Value",t}function Ae(){const e=new IntersectionObserver((t=>{t.forEach((t=>{const{intersectionRatio:i}=t;i>=.5?t.target._timeout=setTimeout((()=>{const i=t.target;if(Math.min(i.offsetHeight,i.offsetWidth)){e.unobserve(i);let t=Object.assign({},Ee(i));const s=i.getAttribute("data-separate-event"),n=i.getAttribute("data-separate-value"),o=i.getAttribute("data-event-name");s?(n&&(t={audioTitle:n}),g(`${s}Shown`,t)):t.data_ad_position?(t={Viewed:`Ad-${t.data_ad_position}`,Url:window.location.href,style:t.module_style},g("Story_advertisement_shown",t)):g(o?`${o}_shown`:`${be}module_shown`,t)}}),2e3):(clearTimeout(t.target._timeout),t.target._timeout=null)}))}),{threshold:.5}),t=new IntersectionObserver((e=>{e.forEach((e=>{const{isIntersecting:i}=e;if(i){const i=e.target;if(Math.min(i.offsetHeight,i.offsetWidth)){t.unobserve(i);const e=Object.assign({},Ee(i));g(`${be}module_shown`,e)}}}))}),{threshold:.2});this.trackableModules.forEach((i=>{i.querySelector(".PageListStandardD")?t.observe(i):e.observe(i)}));const i=[...this.trackableModules].filter((e=>!e.parentElement.closest(ye.elTrackableModules)));this.storyAds=document.querySelectorAll(".StoryPage .SovrnAd[class*='sovrn-']").forEach(((t,i)=>{t.setAttribute("data-ad-position",i+1),e.observe(t)})),i.forEach((e=>{const t=i.indexOf(e)+1;e.setAttribute("data-module-number",t),e.setAttribute("data-main-module-number",`${t}`);const s=e.querySelectorAll(ye.elTrackableModules);s.forEach((e=>{const i=[...s].indexOf(e)+1;e.setAttribute("data-module-number",`${t}.${i}`),e.setAttribute("data-main-module-number",`${t}`)}))})),window._taboola.push({listenTo:"readmore.render",handler:()=>{const t=document.querySelector(".tbl-read-more-box");t&&(t.setAttribute("data-event-name","read_more_button"),t.setAttribute("data-module",""),t.setAttribute("data-gtm-region","readmore_module"),t.setAttribute("data-gtm-topic","read_more_button"),e.observe(t))}}),window._taboola.push({listenTo:"readmore.click",handler:()=>{g("read_more_clicked",{module_name:"readmore_module",module_style:"tbl-read-more-box",article_link:window.location.href})}})}function Le(){const e=new IntersectionObserver((t=>{t.forEach((t=>{const{intersectionRatio:i}=t;if(i>=.1){const i=t.target;Math.min(i.offsetHeight,i.offsetWidth)&&(e.unobserve(i),g("taboola_homepage_module_shown",{module_type:"Taboola",module_name:i.getAttribute("data-type"),module_style:we(i)}))}}))}),{threshold:.1});setTimeout((()=>{const t=document.querySelector('.TaboolaRecommendationModule[data-feed-main-container-id="taboola-below-homepage-thumbnails"]');t&&(t.setAttribute("data-type","Below Homepage Thumbnails"),e.observe(t),t.addEventListener("click",(e=>{s.call(this,e,"a.item-thumbnail-href, a.item-label-href",(e=>{g("taboola_homepage_module_click",{module_type:"Taboola",module_name:"Below Homepage Thumbnails",module_headline:e.delegateTarget.href,module_style:we(t)})}))})));const i=document.querySelector('.TaboolaRecommendationModule[data-feed-main-container-id="taboola-suggested-for-you"]');i&&(i.setAttribute("data-type","SUGGESTED FOR YOU"),e.observe(i),i.addEventListener("click",(e=>{s.call(this,e,"a.item-thumbnail-href, a.item-label-href",(e=>{g("taboola_homepage_module_click",{module_type:"Taboola",module_name:"SUGGESTED FOR YOU",module_headline:e.delegateTarget.href,module_style:we(i)})}))})))}),3e3)}function Ce(){const e=new IntersectionObserver((t=>{t.forEach((t=>{const{intersectionRatio:i}=t;if(i>=.1){const i=t.target;Math.min(i.offsetHeight,i.offsetWidth)&&(e.unobserve(i),g("taboola_article_module_shown",{module_type:"Taboola",module_name:i.getAttribute("data-type"),module_style:we(i)}))}}))}),{threshold:.1});setTimeout((()=>{const t=document.querySelector('.TaboolaRecommendationModule[data-feed-main-container-id="taboola-below-article-thumbnails"]');t&&(t.setAttribute("data-type","Below Article Thumbnails"),e.observe(t),t.addEventListener("click",(e=>{s.call(this,e,"a.item-thumbnail-href, a.item-label-href",(e=>{g("taboola_article_module_click",{module_type:"Taboola",module_name:"Below Article Thumbnails",module_headline:e.delegateTarget.href,module_style:we(t)})}))})));const i=document.querySelector('.TaboolaRecommendationModule[id="taboola-mid-article-reco-reel-slider"]');i&&(i.setAttribute("data-type","Mid Article Reco Reel Slider"),e.observe(i),i.addEventListener("click",(e=>{s.call(this,e,"a.item-thumbnail-href, a.item-label-href",(e=>{g("taboola_article_module_click",{module_type:"Taboola",module_name:"Mid Article Reco Reel Slider",module_headline:e.delegateTarget.href,module_style:we(i)})}))})));const n=document.querySelector('.TaboolaRecommendationModule[id="taboola-right-rail-thumbnails"]');n&&(n.setAttribute("data-type","Article Right Rail Thumbnails"),e.observe(n),n.addEventListener("click",(e=>{s.call(this,e,"a.item-thumbnail-href, a.item-label-href",(e=>{g("taboola_article_module_click",{module_type:"Taboola",module_name:"Article Right Rail Thumbnails",module_headline:e.delegateTarget.href,module_style:we(n)})}))})));const o=document.querySelector('.trc_related_container[id="tbl-explore-more-container"]');o&&(o.setAttribute("data-type","Article Explore More"),o.setAttribute("data-gtm-modulestyle","TaboolaRecommendationModule Article-Explore-More"),e.observe(o),o.addEventListener("click",(e=>{s.call(this,e,"a.item-thumbnail-href, a.item-label-href",(e=>{g("taboola_article_module_click",{module_type:"Taboola",module_name:"Article Explore More",module_headline:e.delegateTarget.href,module_style:we(o)})}))})))}),4e3)}class Pe{constructor(){this.trackableModules=document.querySelectorAll(ye.elTrackableModules),this.trackableModules=[...this.trackableModules].filter((e=>!e.closest(ye.elUntrackableParents))),this.init()}init(){this.setBinds(),this.pageLoadEvents(),window.gtag&&window.console.log("gtag",gtag)}pageLoadEvents(){try{const e=[];this.storyAds=document.querySelectorAll(".StoryPage .SovrnAd[class*='sovrn-']").forEach(((t,i)=>{e[i]={Placed:`Ad-${i+1}`,Url:window.location.href,style:t.className}})),g("Story_advertisement_placed",e)}catch(e){console.error("Got an error on Story_advertisement_placed event",e)}function e(e,t){document.querySelector(e)&&g(t)}e(".PagePromo-sponsored","loadedPageHasSponsoredPromo"),e(".Page-sponsored","loadedPageSponsored")}setBinds(){document.addEventListener("click",(e=>{s.call(this,e,".Page-header-menu-trigger",(()=>{g("clickBurgerNav")})),s.call(this,e,"[data-action-clicked]",(()=>{const t=e.delegateTarget.getAttribute("data-action-clicked");t&&g(t)})),s.call(this,e,"[data-click]",(()=>{const t=e.delegateTarget,i=t.classList.contains("play")?"play":t.classList.contains("pause")?"pause":null,s=t.getAttribute("data-title");i&&g("audioModuleClicked",{audioTitle:s,audioAction:i})})),s.call(this,e,".ActionLink",(()=>{let t=e.delegateTarget.getAttribute("data-social-service");"copylink"===t?t="copy link":"mailto"===t&&(t="email"),g("clickShareLink",{socialService:t})})),s.call(this,e,".Subheader a",(()=>{const t=e.delegateTarget.href,i=e.delegateTarget.closest("[data-sectionTitle]")?.getAttribute("data-sectionTitle")||"No Value";let s=e.delegateTarget.innerText;const n=e.delegateTarget.querySelector(".Newsletter-Title");n&&(s=n.innerText),g("clickedSubNavLink",{href:t,linkText:s,sectionTitle:i?.toUpperCase()})}))})),setTimeout((()=>{Ae.call(this)}),1e3),setTimeout((()=>{Le.call(this)}),2e3),setTimeout((()=>{Ce.call(this)}),3e3),document.addEventListener("click",(e=>{let t=ye.elTrackableModules.split(",");t=`${t.join(" a,")} a`,s.call(this,e,`${t}`,(e=>{const t=e.delegateTarget,i=t.closest(ye.elTrackableModules);if(!i.closest(ye.elUntrackableParents)){let e;const s=Object.assign({href:t.href},Ee(i));t.hasAttribute("data-gtm-enhancement-style")&&(s.enhancement_style=t.getAttribute("data-gtm-enhancement-style")),t.hasAttribute("data-gtm-region-item")?s.linkText=t.innerText:t.closest("[data-gtm-region-item]")?.querySelector(".PagePromo-title")?.innerText&&(s.linkText=t.closest("[data-gtm-region-item]")?.querySelector(".PagePromo-title")?.innerText);const n=t.getAttribute("aria-label");t.innerText&&t.innerText!==s.itemTitle?s.linkText=t.innerText:n&&(s.linkText=n),e=t.closest(".PageListHubPeek")?`${be}clickHubPeekLink`:t.closest(".PageList-header, .Container-header")?`${be}module_heading_clicked`:t.closest("[data-event-name]")?`${t.closest("[data-event-name]")?.getAttribute("data-event-name")}_clicked`:`${be}module_clicked`,s.moduleNumber=t.closest("[data-module-number]")?.getAttribute("data-module-number"),s.main_module_number=t.closest("[data-main-module-number]")?.getAttribute("data-main-module-number"),g(e,s),"Home page"===fe&&(history.scrollRestoration="auto")}}))}))}}class _e extends window.HTMLElement{connectedCallback(){this.detectChangeInHamburger(),this.changeNavPlace(),this.cacheElements(),this.handleEventListeners(),this.onNavHover(),this.dealWithMenuHover(),this.checkLogin(),this.lastScroll=0;const e=window.navigator.vendor;this.isApple=e&&e.toLowerCase().includes("apple"),this.pageType=document.querySelector("[data-named-page-type]")?.getAttribute("data-named-page-type"),"Home page"===this.pageType?history.scrollRestoration="manual":history.scrollRestoration="auto",this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0,this.screenWidth=this.isTouchDevice?Math.max(screen.width,window.innerWidth):Math.min(screen.width,window.innerWidth),this.isLarge=Math.min(screen.width,window.innerWidth)>=1024,window.addEventListener("load",(()=>{const e=document.querySelector("#Page-trendingZephr-desktop .PageListTrending"),t=document.querySelector("#Page-trendingZephr-mobile .PageListTrending");Array.from(e.attributes).forEach((i=>{i.name.startsWith("data-")&&(this.isLarge?t.removeAttribute(i.name):e.removeAttribute(i.name))}))}))}cacheElements(){this.menuButtons=this.querySelectorAll(".Page-header-menu-trigger"),this.hamburgerMenu=this.querySelector(".Page-header-hamburger-menu"),this.navigationItems=this.querySelectorAll("[data-nav-item]"),this.hamburgerMenunavigationItems=this.querySelectorAll(".HamburgerNavigationItem"),this.mainNavigationItems=this.querySelectorAll("[data-mainnav-item]"),this.navigationItemsItem=this.querySelectorAll('[class$="Navigation-items-item"]'),this.headerBar=document.querySelector(".Page-header-bar"),this.menuWrapper=this.querySelector(".Page-header-hamburger-menu-wrapper"),this.searchOverlay=document.querySelector(".SearchOverlay"),this.htmlPage=document.querySelector("html"),this.hasLB=document.documentElement.hasAttribute("data-header-hasleaderboard")}dealWithMenuHover(){this.navigationItemsItem.forEach((e=>{e.querySelector("[data-nav-moretrigger]")&&(e.querySelector("[data-nav-moretrigger]").hasAttribute("data-noItems")||(this.hoverListener=ve()(e,(()=>{this.openNavItem(e,"hover")}),(()=>{this.closeNavItem(e,"hover")})).options({timeout:200,interval:200,handleFocus:!0})),e.addEventListener("keyup",(t=>{if("Enter"===t.key||32===t.keyCode){if(t.target!==e)return;if("true"===e.getAttribute("data-item-hover"))return void e.removeAttribute("data-item-hover");this.openNavItem(e,"hover"),e.querySelector('[data-nav-moreitems] [data-show="true"] a')?.focus()}})))}))}onNavHover(){this.mainNavigationItems.forEach((e=>{e.querySelector("[data-has-dropdown]")&&(this.hoverListener=ve()(e,(()=>{this.openMainNavItem(e,"hover"),e.querySelector("[data-nav-moretrigger]")||(this.hoverTimer=setTimeout((()=>{Se(e,"hover")}),2500))}),(()=>{this.closeMainNavItem(e,"hover"),clearTimeout(this.hoverTimer)})).options({interval:100,timeout:100,sensitivity:54,handleFocus:!0}),e.addEventListener("keyup",(t=>{if("Enter"===t.key||32===t.keyCode){if(t.target!==e)return;if("true"===e.getAttribute("data-item-hover"))return void e.removeAttribute("data-item-hover");this.openNavItem(e,"hover"),e.querySelector('[data-nav-moreitems] [data-show="true"] a')?.focus()}})))}))}isTablet(){return!!(this.screenWidth>=768&&this.isTouchDevice)}handleEventListeners(){this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0,this.lastScroll=document.documentElement.scrollTop;const e=document.getElementById("Page-header-top"),t=e.getBoundingClientRect().top;let i,s=0,n=0;window.addEventListener("scroll",p(50,(()=>{document.body.scrollTop>0||document.documentElement.scrollTop>0?document.body.setAttribute("data-scrolling",!0):document.body.removeAttribute("data-scrolling",!0);const i=document.querySelector(".Page-header-stickyWrap .Page-trending .PageListTrending");i&&document.documentElement.scrollTop>250?i.classList.add("PageListTrending-mini"):i&&document.documentElement.scrollTop<100&&i.classList.remove("PageListTrending-mini"),i&&i.offsetHeight&&document.documentElement.style.setProperty("--trendingHeight",i.offsetHeight+"px");const o=document.getElementById("Page-trendingZephr-mobile");document.documentElement.scrollTop>150?o.classList.add("Page-trending-mobile-hide"):document.documentElement.scrollTop<100&&(o.classList.remove("Page-trending-mobile-short"),o.classList.remove("Page-trending-mobile-hide")),document.documentElement.scrollTop>130&&o.classList.add("Page-trending-mobile-short"),t>0&&t<=60?(s=150,n=150):t>60&&(s=300,n=300),document.documentElement.scrollTop>s?e.classList.add("Page-header-hide"):document.documentElement.scrollTop<100&&(e.classList.remove("Page-header-short"),e.classList.remove("Page-header-hide")),document.documentElement.scrollTop>n&&e.classList.add("Page-header-short")}))),this.addEventListener("click",(e=>{e.target?.classList.contains("Page-header-hamburger-menu-content")&&this.closeMenu()})),document.addEventListener("mousemove",(e=>{e.target?.classList.contains("Page-header-hamburger-menu-content")?i||(i=setTimeout((()=>{this.closeMenu()}),1200)):(clearTimeout(i),i=null)})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.closeMenu()})),document.addEventListener("keydown",(e=>{e.target.closest('[class$="has-menu"], [data-morebutton]')||this.closeOpenNavItem()})),window.addEventListener("resize",p(50,(()=>{this.changeNavPlaceResize()}))),window.addEventListener("orientationchange",p(50,(()=>{this.changeNavPlaceResize()}))),this.menuButtons&&this.menuButtons.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.isMenuOpen()?this.closeMenu():(this.closeSearch(),this.openMenu())}))})),this.navigationItems&&this.navigationItems.forEach((e=>{e.querySelector("[data-nav-moretrigger]")&&e.querySelector("[data-nav-moretrigger]").addEventListener("click",(t=>{t.preventDefault(),this.openNavItem(e,"click")}))})),this.hamburgerMenunavigationItems&&this.isTablet()&&this.hamburgerMenunavigationItems.forEach((e=>{const t=e.querySelector(".HamburgerNavigationItem-desktop[data-nav-moretrigger]");t&&t.addEventListener("click",(t=>{t.preventDefault(),this.openNavItem(e,"click")}))}))}openNavItem(e,t){if(e)if(e.getAttribute("data-item-"+t))e.removeAttribute("data-item-"+t);else{this.navigationItems.forEach((e=>{e.removeAttribute("data-item-"+t)})),e.setAttribute("data-item-"+t,!0),Se(e,t);const i=e.querySelector("[data-nav-moreitems]");i&&i.getBoundingClientRect().right>window.innerWidth-20&&(i.setAttribute("data-open-direction","left"),i.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))}}closeNavItem(e,t){e.removeAttribute("data-item-"+t)}closeOpenNavItem(){this.querySelector("[data-item-hover]")&&this.querySelector("[data-item-hover]").removeAttribute("data-item-hover")}openMainNavItem(e,t){this.isMenuOpen()&&this.closeMenu();const i=e.querySelector('[class$="MainNavigationItem-more"]');e&&null===i&&(e.getAttribute("data-item-"+t)?e.removeAttribute("data-item-"+t):(this.navigationItems.forEach((e=>{e.removeAttribute("data-item-"+t)})),e.setAttribute("data-item-"+t,!0)))}closeMainNavItem(e,t){e.removeAttribute("data-item-"+t)}closeOpenMainNavItem(){this.querySelector("[data-item-hover]")&&this.querySelector("[data-item-hover]").removeAttribute("data-item-hover")}openMenu(){const e=this.screenWidth<1024;let t=window.scrollY;if(document.body.setAttribute("top-position",`${t}`),this.isFirefox()&&t>300){const e=getComputedStyle(document.body),i=parseInt(e.getPropertyValue("--hatHeight"));t="Home page"===this.pageType?0:270+i}if(e||(document.body.style.top=`-${t}px`),document.body.style.paddingRight=`${this.getScrollbarWidth()}px`,document.body.setAttribute("data-toggle-header","hamburger-menu"),document.body.parentElement.setAttribute("data-toggle-header","hamburger-menu"),this.setAttribute("data-toggle-header","hamburger-menu"),this.setAttribute("data-toggle-zephr-header","hamburger-menu-zephr"),this.menuButtons.forEach((e=>e.setAttribute("aria-expanded","true"))),this.hamburgerMenu.querySelector("a")?.focus(),!e&&!document.body.getAttribute("data-leaderboard-is-fixed")){const e=document.querySelector("[data-named-page-type]")?.getAttribute("data-named-page-type");document.querySelectorAll(".HamburgerNavigation").forEach((i=>{const s=i.querySelectorAll(".HamburgerNavigation-items-item"),n=i.querySelectorAll(".FooterNavigation-items-item");let o="Home page"===e?0:320-t;s?.length&&s.forEach((e=>{o+=e.offsetHeight})),n?.length&&n.forEach((e=>{o+=e.offsetHeight})),i.style.minHeight=`${o}px`}))}}closeMenu(){if(this.isMenuOpen()){const e=document.body.getAttribute("top-position");document.body.removeAttribute("data-toggle-header"),document.body.parentElement.removeAttribute("data-toggle-header"),this.removeAttribute("data-toggle-header"),this.removeAttribute("data-toggle-zephr-header"),this.menuButtons.forEach((e=>{e.setAttribute("aria-expanded","false"),e.focus()})),document.body.style.top="",document.body.style.paddingRight="",window.scrollTo(0,parseInt(e||"0"))}}closeSearch(){document.body.removeAttribute("data-toggle-header"),document.body.parentElement.removeAttribute("data-toggle-header"),this.searchOverlay&&this.searchOverlay.removeAttribute("data-toggle-header")}isMenuOpen(){return"hamburger-menu"===document.body.getAttribute("data-toggle-header")}collapsingNav(e,t){this.hasLB&&this.wonderKindAd(),e>0&&e>t&&this.screenWidth<1024?this.hideMainNav():(e<t||0===e)&&this.screenWidth<1024&&this.showMainNav(),setTimeout((()=>{this.lastScroll=e}),500)}showMainNav(){this.headerBar.classList.contains("Page-header-fadeIn")||this.headerBar.classList.add("Page-header-fadeIn"),this.headerBar.classList.contains("Page-header-fadeOut")&&this.headerBar.classList.remove("Page-header-fadeOut")}hideMainNav(){this.headerBar.classList.contains("Page-header-fadeOut")||this.headerBar.classList.add("Page-header-fadeOut"),this.headerBar.classList.contains("Page-header-fadeIn")&&this.headerBar.classList.remove("Page-header-fadeIn")}wonderKindAd(){const e=document.querySelector(".Page-header-leaderboardAd");"none"===window.getComputedStyle(e).getPropertyValue("display")?this.htmlPage.setAttribute("data-header-wonderKind","true"):this.htmlPage.removeAttribute("data-header-wonderKind")}changeNavPlace(){this.screenWidth=Math.min(screen.width,window.innerWidth),this.moveEntitlements()}moveEntitlements(){const e=document.getElementById("desktop-entitlements"),t=document.getElementById("mobile-entitlements"),i=document.querySelector(".Page-header-right");e&&t&&(this.screenWidth<1024?t.appendChild(e):i.appendChild(e))}changeNavPlaceResize(){this.isTouchDevice?this.screenWidth=Math.max(screen.width,window.innerWidth):this.screenWidth=Math.min(screen.width,window.innerWidth),this.moveEntitlementsResize()}moveEntitlementsResize(){const e=document.getElementById("desktop-entitlements"),t=document.getElementById("mobile-entitlements"),i=document.querySelector(".Page-header-right"),s=this.screenWidth<1024;s&&this.isLarge?(this.isLarge=!1,setTimeout((()=>{window.properSpaNewPageReset()}),1500)):s||this.isLarge||(this.isLarge=!0,setTimeout((()=>{window.properSpaNewPageReset()}),1500)),e&&t&&i&&(s&&e.parentNode!==t?t.appendChild(e):s||e.parentNode===i||i.appendChild(e))}getScrollbarWidth(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const i=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),i}isFirefox(){return"undefined"!=typeof InstallTrigger}detectChangeInHamburger(){const e=document.querySelector(".HamburgerNavigation");if(e){const t=new MutationObserver((i=>{for(const s of i)if("childList"===s.type){const i=e.cloneNode(!0);e.parentNode?.replaceChild(i,e),this.navigationItemsItem=i.querySelectorAll('[class$="Navigation-items-item"]'),this.hamburgerMenunavigationItems=i.querySelectorAll(".HamburgerNavigationItem"),this.navigationItems=i.querySelectorAll("[data-nav-item]"),this.dealWithMenuHover(),this.navigationItems&&this.navigationItems.forEach((e=>{e.querySelector("[data-nav-moretrigger]")&&e.querySelector("[data-nav-moretrigger]").addEventListener("click",(t=>{t.preventDefault(),this.openNavItem(e,"click")}))})),this.hamburgerMenunavigationItems&&this.isTablet()&&this.hamburgerMenunavigationItems.forEach((e=>{const t=e.querySelector(".HamburgerNavigationItem-desktop[data-nav-moretrigger]");t&&t.addEventListener("click",(t=>{t.preventDefault(),this.openNavItem(e,"click")}))})),t.disconnect(),console.log("Observer disconnected.")}})),i={childList:!0,subtree:!0};t.observe(e,i)}}async checkLogin(){try{const e=(await window.fetch("/blaize/account")).status,t=document.querySelectorAll("a.sign-in"),i=document.querySelectorAll("a.signedin");200===e?i.forEach((e=>{e.style.display="block"})):t.forEach((e=>{e.style.display="block"}))}catch(e){return console.log("Error fetching account status:",e),console.error("Error fetching account status:",e),console.error("Error getting profile",e)}}}function xe(){this.oldScrollY<window.scrollY?(document.documentElement.removeAttribute(qe.fixedState),window.removeEventListener("scroll",this.scrollCheck)):this.oldScrollY=window.scrollY}const ke="background: green;color: white; padding: 4px;";let Te,Me,Ie;const qe={fixedState:"data-leaderboard-is-fixed",timeout:"data-timeout",preTimeout:"data-pretimeout"};function Be(){return Math.floor(Date.now()/1e3)}class De extends window.HTMLElement{connectedCallback(){Te=Be(),console.time("%cLeaderboard"),console.timeLog("%cLeaderboard",ke,`Leaderboard logic started  - timeStampStarted: ${Te}`),document.documentElement.removeAttribute(qe.fixedState),this.checkForAdBlock()}checkForAdBlock(){window.addEventListener("load",(()=>{fetch("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",{method:"HEAD",mode:"no-cors",cache:"no-store"}).catch((()=>{Me=Be(),console.timeLog("%cLeaderboard",ke,`Ads appear to be blocked - timeStampAdblocked: ${Me} (${Me} - ${Te}=${Me-Te})`),document.documentElement.classList.add("AdBlockerIn"),document.documentElement.removeAttribute(qe.fixedState)}))}))}setBinds(){let e;const t=this.getAttribute(qe.preTimeout)||5;setTimeout((()=>{e||(console.timeLog("%cLeaderboard",ke,`It has been ${t} minutes, since page loaded, and Ad did not load on time  - timestamp: ${Be()}`),document.documentElement.removeAttribute(qe.fixedState))}),1e3*t);const i=sessionStorage.getItem("leaderboardTimer")||this.getAttribute(qe.timeout);i&&(document.documentElement.setAttribute(qe.fixedState,!0),window.addEventListener("properEvents",(t=>{"proper-ads-fired"==t?.detail?.event&&console.timeLog("%cLeaderboard",ke,`Event listener event named "proper-ads-fired- timestamp: ${Be()}`),"proper-ads-fired"==t?.detail?.event&&"apnews_leaderboard_1"==t?.detail?.slot&&(e=!0,Ie=Be(),console.timeLog("%cLeaderboard",ke,`Event listener fired for slot apnews_leaderboard_1 ${Ie-Te} second after started, and timer for  ${parseInt(i)} seconds started - timestamp: ${Ie}`),setTimeout((()=>{console.timeLog("%cLeaderboard",ke,`Event listener fired for slot apnews_leaderboard_1 ${parseInt(i)} seconds ago - timestamp : ${Be()}`),this.oldScrollY=window.scrollY,this.scrollCheck=xe.bind(this),window.addEventListener("scroll",this.scrollCheck)}),1e3*parseInt(i)))})))}}class Oe extends window.HTMLElement{connectedCallback(){this.cacheElements(),this.setInitialSelected(),this.registerListeners(),he.call(this,{itemSelector:".Results-items > .PollModuleRow"})}disconnectedCallback(){this.weekSelect.removeEventListener("change",this.submitChange),this.pollsterSelect.removeEventListener("change",this.submitChange)}cacheElements(){this.moduleEl=document.querySelector(".PollModule"),this.weekSelect=this.querySelector('[name="Select-week-input"]'),this.pollsterSelect=this.querySelector('[name="Select-pollster-input"]'),this.resultsEl=this.querySelector("#Results-items"),this.othersReceivingVotes=this.querySelector("#Others-Votes"),this.inputContainer=this.querySelector(".Input-container")}registerListeners(){this.weekSelect&&this.weekSelect.addEventListener("change",(()=>{this.submitChange(this.weekSelect)})),this.pollsterSelect&&this.pollsterSelect.addEventListener("change",(()=>{this.submitChange(this.pollsterSelect)}))}setInitialSelected(){const e=new URLSearchParams(document.location.search),t=this.weekSelect.getAttribute("data-most-recent-value"),i=e.get("week");if(i){const e=this.weekSelect.querySelectorAll(`[value="${i}"]`);e&&e.length&&(e[0].selected=!0)}else if(t){const e=this.weekSelect.querySelectorAll(`[value="${t}"]`);e&&e.length&&(e[0].selected=!0)}const s=e.get("voter");if(s){const e=this.pollsterSelect.querySelectorAll(`[value="${s}"]`);if(e&&e.length){e[0].selected=!0,this.weekSelect.parentElement.classList.add("hidden"),this.inputContainer.classList.add("Input-container-single");const t=this.querySelector("#Select-pollster-org.hidden");t&&t.classList.remove("hidden")}}}getNewPoll(e){return new Promise(((t,i)=>{window.fetch(e,{credentials:"include"}).then((e=>{t(e.text())})).catch((()=>{i(new Error("error"))}))}))}submitChange(e){let t=`${window.location.pathname}`;const i=e.getAttribute("data-parameter")||"selected",s=e.getAttribute("data-most-recent-value"),n=e.options[e.selectedIndex].getAttribute("data-poll-date"),o=this.querySelector("#Select-pollster-org"),a=this.querySelector("#Poll-date");if(s===e.value)window.history.replaceState({},document.title,t),e==this.weekSelect?(this.pollsterSelect.parentElement.classList.remove("hidden"),this.inputContainer.classList.remove("Input-container-single"),o&&o.classList.add("hidden"),a&&(a.innerHTML=n)):(this.weekSelect.parentElement.classList.remove("hidden"),this.inputContainer.classList.remove("Input-container-single"),o&&o.classList.add("hidden"),a&&(a.innerHTML=n));else{const s=e.options[e.selectedIndex].getAttribute("data-org-name");t+=`?${i}=${encodeURIComponent(e.value)}`+("voter"===i&&s?`&organization=${encodeURIComponent(s)}`:""),window.history.replaceState({},document.title,t),e==this.weekSelect?(this.pollsterSelect.parentElement.classList.add("hidden"),this.inputContainer.classList.add("Input-container-single"),a&&(a.innerHTML=n)):(this.weekSelect.parentElement.classList.add("hidden"),this.inputContainer.classList.add("Input-container-single"),o&&(o.innerHTML=s,o.classList.remove("hidden")),a&&(a.innerHTML=n))}this.getNewPoll(t).then((e=>{this.renderResults(e)}))}renderResults(e){const t=document.createElement("div");t.innerHTML=e;const i=t.querySelector("#Results-items").innerHTML;this.othersReceivingVotes.innerHTML=t.querySelector("#Others-Votes").innerHTML||"",i&&(this.resultsEl.innerHTML=i),this.dispatchRendered()}dispatchRendered(){const e=new CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(e)}}class He extends window.HTMLElement{connectedCallback(){this.getTextLength(),this.createMoreButton(),this.createLessButton();const e=this.getAttribute("data-limit");this.length<=parseInt(e)?this.classList.add("ReadMore-expand"):this.appendChild(this.readMoreBtn)}createMoreButton(){this.readMoreBtn=document.createElement("button"),this.readMoreBtn.className=this.getAttribute("data-main-class")+"-more-button",this.readMoreBtn.textContent=this.getAttribute("data-more-button-text"),this.readMoreBtn.addEventListener("click",(()=>{this.classList.add(this.getAttribute("data-expand")),this.removeChild(this.readMoreBtn),this.appendChild(this.readLessBtn)}))}createLessButton(){this.readLessBtn=document.createElement("button"),this.readLessBtn.className=this.getAttribute("data-main-class")+"-less-button",this.readLessBtn.textContent=this.getAttribute("data-less-button-text"),this.readLessBtn.addEventListener("click",(()=>{this.classList.remove(this.getAttribute("data-expand")),this.removeChild(this.readLessBtn),this.appendChild(this.readMoreBtn)}))}getTextLength(){const e=this.getElementsByTagName("p");if(this.length=0,e&&e.length){const t=e[0].textContent;this.length=t.length}}}const Fe={mobile:["mq-xs","mq-sm","mq-md"],desktop:["mq-lg","mq-hk","mq-xl"]};class Ne extends window.HTMLElement{connectedCallback(){this.cacheElements(),this.handleSortSelect(),this.filtersApply&&this.handleFiltersApply(),this.handleFiltersSelect(),this.handleSelectedFiltersReset(),this.gatherSelectedFilters()}cacheElements(){this.searchResultsModule=document.querySelector(".SearchResultsModule"),this.searchForm=document.querySelector("[data-bsp-search-results-form]"),this.searchFiltersAsDropdown=this.querySelectorAll(".SearchFilterAsDropdown"),this.filtersOpenButton=this.querySelectorAll(".SearchResultsModule-filters-open"),this.filtersCloseButton=this.querySelector(".SearchResultsModule-filters-close"),this.filtersOverlay=this.querySelector("[data-bsp-search-results-filteroverlay]"),this.filtersApply=this.querySelector("[data-bsp-search-results-filterapply]"),this.filtersApplyButton=this.filtersApply?.querySelector("button"),this.filtersSeeAll=this.querySelectorAll(".SearchFilter-seeAll"),this.filters=this.querySelectorAll(".SearchFilterInput input"),this.selectedFiltersArray=[],this.selectedFilters=this.querySelector(".SearchResultsModule-filters-selected"),this.selectedFiltersReset=this.querySelector(".SearchResultsModule-filters-selected-reset"),this.selectedFiltersContent=this.querySelector(".SearchResultsModule-filters-selected-content")}handleSortSelect(){this.searchFiltersAsDropdown&&this.searchFiltersAsDropdown.forEach((e=>{e.addEventListener("change",(()=>{this.gatherSelectedFilters(),this.searchResultsModule.submitSearch()}))}))}handleFiltersSelect(){this.filters.forEach((e=>{e.addEventListener("click",(()=>{Fe.desktop.includes(function(){const e=window.getComputedStyle(document.querySelector("body"),"::before").getPropertyValue("content")||!1;return!!e&&e.replace(/["']/g,"")}())&&(this.gatherSelectedFilters(),this.searchResultsModule.submitSearch())}))}))}handleFiltersApply(){this.filtersApply.addEventListener("change",(e=>{e.preventDefault(),this.gatherSelectedFilters(),this.closeOverlay(),this.searchResultsModule.submitSearch()})),this.filtersApplyButton.addEventListener("click",(e=>{e.preventDefault(),this.gatherSelectedFilters(),this.closeOverlay(),this.searchResultsModule.submitSearch()}))}handleFiltersOverlay(){this.filtersOpenButton.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.openOverlay()}))})),this.filtersCloseButton?.addEventListener("click",(e=>{e.preventDefault(),this.closeOverlay()}))}removeSelectedFilter(e){const t=e.getAttribute("data-value");this.querySelectorAll(`[value="${t}"]`).forEach((e=>{e.checked&&(e.checked=!1)})),this.gatherSelectedFilters(),this.searchResultsModule.submitSearch()}handleSelectedFiltersReset(){this.selectedFiltersReset&&this.selectedFiltersReset.addEventListener("click",(e=>{e.preventDefault(),this.filters.forEach((e=>{e.checked=!1})),this.gatherSelectedFilters(),this.searchResultsModule.submitSearch()}))}handleSelectedFiltersRemove(){this.querySelectorAll(".SearchResultsModule-filters-selected-filter").forEach((e=>{e.querySelector("a").addEventListener("click",(t=>{t.preventDefault(),this.removeSelectedFilter(e)}))}))}renderSelectedFilters(){this.selectedFiltersArray.length>0?(this.selectedFiltersContent.innerHTML="",this.selectedFiltersArray.forEach((e=>{this.selectedFiltersContent.innerHTML+=`<div class="SearchResultsModule-filters-selected-filter" data-value=${e.value}><span>${e.label}</span><a href="#" title="X"><svg class="close-x"><use xlink:href="#close-x"/></svg></a></div>`})),this.handleSelectedFiltersRemove(),this.selectedFilters.setAttribute("data-showing",!0)):this.selectedFilters.removeAttribute("data-showing")}gatherSelectedFilters(){this.selectedFiltersArray=[],this.filters=this.querySelectorAll(".SearchFilterInput input"),this.filters.forEach((e=>{if(e.checked){const t=e.parentElement.querySelector("span").innerHTML,i=e.getAttribute("value");this.selectedFiltersArray.push({label:t,value:i})}})),this.selectedFiltersContent&&this.renderSelectedFilters()}openOverlay(){this.filtersOverlay.setAttribute("data-filters-open",!0),document.body.setAttribute("data-filters-open",!0)}closeOverlay(){this.filtersOverlay.removeAttribute("data-filters-open"),document.body.removeAttribute("data-filters-open")}}class Re extends window.HTMLElement{connectedCallback(){this.cacheElements(),this.handleFormSubmit(),this.handleSearchInput(),this.checkInputValue(),this.addEventListener(X.events.loadedContent,(()=>this.handleLoadMore(event)))}handleLoadMore(e){const t=[...document.querySelectorAll(`[class="${this.className}"]`)].indexOf(this),i=e.detail.querySelectorAll(`[class="${this.className}"]`)[t],s=i.querySelectorAll(".SearchResultsModule-results-item"),n=this.querySelector("[data-bsp-search-results-results]");s.forEach((e=>n.append(e)));const o=i.querySelector("bsp-load-more");o?e.target.parentNode.replaceChild(o,e.target):e.target.parentNode.removeChild(e.target)}handleFormSubmit(){this.searchForm.addEventListener("submit",(e=>{e.preventDefault(),this.searchInput&&this.searchInput.blur();const t=new URLSearchParams(new FormData(this.searchForm)).toString(),i=window.location.pathname+"?"+t;window.history.replaceState({},document.title,i),this.loadingTimeout=setTimeout((()=>{this.clearSearchForm()}),1e3),g("search_form_submitted",{searchQuery:this.searchInput?.value}),this.getNewSearch(i).then((e=>{clearTimeout(this.loadingTimeout),this.clearSearchForm(),this.renderSearchResults(e),document.body.dispatchEvent(new CustomEvent("Search:onSearchUpdate",{detail:{responseMarkup:e}}))}))}))}submitSearch(){let e;"function"==typeof Event?e=new Event("submit",{cancelable:!0}):(e=document.createEvent("Event"),e.initEvent("submit",!0,!0)),this.searchForm.dispatchEvent(e)}getNewSearch(e){return new Promise(((t,i)=>{window.fetch(e,{credentials:"include"}).then((e=>{t(e.text())})).catch((()=>{i(new Error("error"))}))}))}clearSearchForm(){this.searchResults.innerHTML=""}checkInputValue(){this.searchInput&&(0===this.searchInput.value.length?this.searchForm.setAttribute("data-has-value",!1):this.searchForm.setAttribute("data-has-value",!0))}handleSearchInput(){this.searchInput&&this.searchInput.addEventListener("keyup",p(250,(()=>{this.checkInputValue()}))),this.clearButton&&this.clearButton.addEventListener("click",(()=>{this.searchInput.value="",this.searchInput.focus(),this.checkInputValue()}))}renderSearchResults(e){const t=document.createElement("div");t.innerHTML=e;const i=t.querySelector("[data-bsp-search-results-ajax]").innerHTML;i&&(this.searchResults.innerHTML=i),this.dispatchRendered()}dispatchRendered(){const e=new CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(e)}cacheElements(){this.searchForm=document.querySelector("[data-bsp-search-results-form]"),this.searchInput=this.searchForm.querySelector("[data-bsp-search-results-forminput]"),this.searchResults=this.querySelector("[data-bsp-search-results-ajax]"),this.clearButton=this.searchForm.querySelector(".SearchResultsModule-clearInputButton")}}class $e extends window.HTMLElement{connectedCallback(){this.cacheElements(),this.init()}cacheElements(){this.searchButton=this.querySelector('[class$="-search-button"]'),this.searchInput=this.querySelector('[class$="-search-input"]'),this.searchInputClear=this.querySelector('[class$="-search-form-clear"]'),this.menuButton=document.querySelector(".Page-header-menu-trigger"),this.pageHeader=document.querySelector(".Page-header"),this.searchForm=document.querySelector(".SearchOverlay-search-form"),this.hamburgerMenu=this.querySelector(".Page-header-hamburger-menu")}init(){this.searchButton&&this.searchButton.addEventListener("click",(e=>{e.preventDefault(),this.isSearchOpen()?(this.closeSearch(),g("search_box_closed",{})):(this.closeMenu(),this.openSearch(),g("search_box_open",{}))})),this.searchForm&&this.searchForm.addEventListener("submit",(()=>{g("search_form_submitted",{searchQuery:this.searchForm.querySelector('input[name="q"]').value})})),this.searchInputClear&&this.searchInputClear.addEventListener("click",(e=>{e.preventDefault(),this.searchInput.value=""}))}isMenuOpen(){return"hamburger-menu"===document.body.getAttribute("data-toggle-header")}openSearch(){this.isMenuOpen()&&this.closeMenu(),document.body.setAttribute("data-toggle-header","search-overlay"),document.body.parentElement.setAttribute("data-toggle-header","search-overlay"),this.setAttribute("data-toggle-header","search-overlay"),this.searchInput.focus()}closeSearch(){this.isSearchOpen()&&(document.body.removeAttribute("data-toggle-header"),document.body.parentElement.removeAttribute("data-toggle-header"),this.removeAttribute("data-toggle-header"))}closeMenu(){const e=document.getElementById("Page-header-trending-zephr");document.body.removeAttribute("data-toggle-header"),document.body.parentElement.removeAttribute("data-toggle-header"),this.pageHeader.removeAttribute("data-toggle-header"),this.menuButton.setAttribute("aria-expanded","false"),e.removeAttribute("data-toggle-zephr-header")}isSearchOpen(){return"search-overlay"===document.body.getAttribute("data-toggle-header")}}class We extends window.HTMLElement{constructor(){super(...arguments),q(this,"elNavigationItemsWrap",null),q(this,"elNavigationItemsItem",null),q(this,"elShowMore",null),q(this,"elMoreNavigationItemsItem",null),q(this,"navWidth",null)}connectedCallback(){this.handleEventListeners(),this.elNavigationItemsWrap=this.querySelector(`.${this.className} > .${this.className}-items`),this.elNavigationItemsWrap&&(this.elNavigationItemsItem=this.elNavigationItemsWrap.querySelectorAll(`.${this.className}-items-item`),this.elNavigationItemsItem&&(this.elShowMore=this.elNavigationItemsWrap.querySelector(`.${this.className}-items-item[data-morebutton]`),this.elShowMore&&(this.elMoreNavigationItemsItem=this.elShowMore.querySelectorAll(`.${this.className}Item-items-item, .MainNavigationItem-items-item`),this.elMoreNavigationItemsItem&&(window.addEventListener("resize",p(50,this.resetMoreButtonCalculations.bind(this))),window.addEventListener("resize",p(50,(()=>{this.navWidth=this.elNavigationItemsWrap.clientWidth}))),window.addEventListener("load",(()=>{this.navWidth=this.elNavigationItemsWrap.clientWidth,this.resetMoreButtonCalculations()})),this.resetMoreButtonCalculations()))))}handleEventListeners(){window.addEventListener("scroll",p(50,(()=>{this.resetMoreButtonCalculations()})))}resetMoreButtonCalculations(){setTimeout((()=>{this.elShowMore.style.display="block";const e=screen.width;let t=this.navWidth??this.elNavigationItemsWrap.clientWidth;e<=1217?t-=100:e>1217&&(t-=250);const i=this.elShowMore.clientWidth;let s,n=0;this.elNavigationItemsItem.forEach(((e,o)=>{e.hasAttribute("data-morebutton")||(n+=e.clientWidth,n>=t?(this.hideItem(e,o,!0),n-e.clientWidth+i>=t&&this.hideItem(s,o-1,!0)):this.hideItem(e,o,!1),s=e)})),this.manageMoreButtonDisplay()}),200)}hideItem(e,t,i){if(e){i?e.setAttribute("data-hidden",!0):e.removeAttribute("data-hidden");const t=e.getBoundingClientRect();if(t.left){const i=e.querySelector(".MainNavigationItem-dropdown");i&&(i.style.left=`-${parseInt(t.left)}px`)}}this.elMoreNavigationItemsItem[t]&&this.elMoreNavigationItemsItem[t].setAttribute("data-show",i)}manageMoreButtonDisplay(){if(this.elHiddenNavigationItemsItem=this.querySelectorAll('[data-nav-items-item][data-hidden="true"]'),this.elShowMore)if(this.elHiddenNavigationItemsItem?.length<1)this.elShowMore.style.display="none";else{this.elShowMore.style.display="block";const e=this.elShowMore.getBoundingClientRect(),t=this.elShowMore.querySelector("[data-nav-moreitems]")?.getBoundingClientRect();document.documentElement.style.setProperty("--moveLeftSectionNav",`-${parseInt(t.left)-parseInt(e.width)}px`)}}}class Ve extends window.HTMLElement{connectedCallback(){if(!window.isBspPreview){let e=0;const t=this.getAttribute("data-nativo-class"),i=Ve.temp_Arr.find((e=>e.name===t));i?(i.counter++,e=i.counter):(Ve.temp_Arr.push({name:t,counter:0}),e=0);const s=`${t}-${e<10?`0${e}`:e}`,n=document.createElement("div");n.className=s,this.parentElement.replaceChild(n,this)}}}q(Ve,"nativoAdCounter",0),q(Ve,"temp_Arr",[]);class je extends window.HTMLElement{connectedCallback(){const e=this.querySelectorAll("[data-counter]"),t=new window.IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){const i=e.target,s=()=>{const e=i.getAttribute("data-target"),t=parseInt(i.innerText),n=e/100;t<e?(i.innerText=Math.ceil(t+n),setTimeout(s,20)):i.innerText=e};s(),t.unobserve(i)}}))}));e.forEach((e=>{t.observe(e)}))}}const Ue="data-active",ze="data-visible";class Ge extends HTMLElement{connectedCallback(){this.init(),this.setBinds()}init(){this.elTabs=[...this.querySelectorAll("[data-tab]")],this.elTabPanels=[...this.querySelectorAll("[data-tab-panel]")],this.ids=this.elTabPanels.map((e=>e.id));const e=window.location.hash.substr(1),t=this.ids.some((t=>e===t)),i=this.querySelector(`[href$="${e}"]`);window.addEventListener("load",(()=>{i&&i.parentNode.scrollIntoView({block:"nearest"})})),this.activePanel=window.location.hash.length&&t?window.location.hash.substr(1):this.elTabPanels[0].id}setBinds(){window.addEventListener("hashchange",(()=>{const e=window.location.hash.substr(1);this.ids.some((t=>e===t))&&(this.activePanel=e)})),this.elTabs.forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget.href.split("#").pop();if(!t)return;history.pushState(null,null,e.currentTarget.href);const i=this.ids.some((e=>t===e));i&&i&&(e.preventDefault(),this.activePanel=t)}))}))}set activePanel(e){this._activePanel!==e&&(this._activePanel=e,this.elTabs.forEach((t=>{e===t.getAttribute("href").substr(1)?t.setAttribute(Ue,""):t.removeAttribute(Ue)})),this.transitionPanels(e)),window.dispatchEvent(new Event("resize"))}transitionPanels(e){this.elTabPanels.forEach((t=>{e===t.id?t.setAttribute(ze,""):t.removeAttribute(ze)}))}clearTransitionProperties(e){e.style.removeProperty("height"),e.style.removeProperty("opacity"),e.style.removeProperty("overflow"),e.style.removeProperty("display"),e.style.removeProperty("transition")}get activePanel(){return this._activePanel}}const Ye=new Date;class Xe extends window.HTMLElement{connectedCallback(){if(this.timestamp){const e=new Date(this.timestamp),t=window.i18n.months[e.getMonth()],i=window.i18n.monthsFull[e.getMonth()],s=e.getDate(),n=s.toString().padStart(2,"0"),o=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getFullYear(),r=e.getHours(),l=r%12||12,d=e.getMinutes(),c=r>=12?"pm":"am",h=r>=12?"PM":"AM",u=this.timeZone.toUpperCase(),p=Math.floor(Math.abs(Ye.getTime()-e.getTime())/36e5),m=Math.floor((Ye.getTime()-e.getTime())/1e3/60),g=this.querySelector("[data-date-tpl-now]"),v=this.querySelector("[data-date-tpl-minago]"),y=this.querySelector("[data-date-tpl-recent]"),f=this.querySelector("[data-date-tpl-yesterday]"),b=this.querySelector("[data-date-tpl-sameyear]"),w=this.querySelector("[data-date-tpl-date]"),S=this.querySelector("[data-date-tpl]"),E=function(e,t){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}(Ye,e),A=function(e){const t=new Date;return t.setDate(t.getDate()-1),e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(e);let L=S;if(L=!m||m<1?g||S:Ye.getTime()-this.getMillisecondsInXHours(this.tresholdForRecentTplInHours)<e.getTime()?Ye.getTime()-this.getMillisecondsInXHours(1)<e.getTime()?v||y||S:y||S:E?y||S:A?f||S:Ye.getFullYear()===a?b||S:w||S,L){let g=L.innerHTML;g=g.replace("[deltaHours]",p),g=g.replace("[deltaMinutes]",m),g=g.replace("[monthFull]",i),g=g.replace("[monthNumber]",e.getMonth()+1),g=g.replace("[monthWithLeadingZero]",o),g=g.replace("[month]",t),g=g.replace("[day]",s),g=g.replace("[dayWithLeadingZero]",n),g=g.replace("[year]",a),g=g.replace("[militaryHour]",r),g=g.replace("[hour]",l),g=g.replace("[minute]",d<10?`0${d}`:d),g=g.replace("[ampm]",c),g=g.replace("[AMPM]",h),g=g.replace("[timezone]",u),1===p&&(g=g.replace("hours","hour")),1===m&&(g=g.replace("mins","min")),this.querySelector("[data-date]").innerHTML=g}else this.parentElement.parentElement.setAttribute("data-bsptimestamp-nodate",!0),this.parentElement.removeChild(this)}}getMillisecondsInXHours(e){return 36e5*e}get tresholdForRecentTplInHours(){return this.hasAttribute("data-recent-thresholdinhours")?this.getAttribute("data-recent-thresholdinhours"):2}get timeZone(){let e="";try{e=/.*\s(.+)/.exec((new Date).toLocaleDateString(navigator.language,{timeZoneName:"short"}))[1]}catch(t){e=(new Date).toTimeString().match(new RegExp("[A-Z](?!.*[(])","g")).join("")}return e}get timestamp(){let e=this.getAttribute("data-timestamp");return e=e?parseInt(e):this.getAttribute("data-timestamp-iso"),e}}class Je extends window.HTMLElement{connectedCallback(){const e=this.getAttribute("data-toggle"),t=this.querySelectorAll('[data-toggle-trigger="'+e+'"]'),i=this;this.handleToggle=function(e){e.preventDefault();const t=this.getAttribute("data-toggle-trigger"),s="data-toggle-in";t&&(i.getAttribute(s)===t?(document.body.removeAttribute(s),i.removeAttribute(s,t)):(document.body.setAttribute(s,t),i.setAttribute(s,t)))},t.forEach((e=>e.addEventListener("click",this.handleToggle,!0)))}disconnectedCallback(){this.querySelectorAll("[data-toggle-trigger]").forEach((e=>e.removeEventListener("click",this.handleToggle,!0)))}}class Ze{constructor(){let e="::-moz-focus-inner{border:0 !important;}:focus{outline: none !important;";const t=document.createElement("STYLE");window.unfocus=function(){document.getElementsByTagName("HEAD")[0].appendChild(t),document.addEventListener("mousedown",(function(){t.innerHTML=e+"}"})),document.addEventListener("keydown",(function(){t.innerHTML=""}))},window.unfocus.style=function(t){e+=t},window.unfocus()}}class Qe{constructor(){this.storyAdsList=[],document.querySelectorAll(".Link-InPage").forEach((e=>{const t=this;e.addEventListener("click",(function(e){const i=this.href;let s=null;if(i){const n=new URL(i);s=n.hash?n.hash.replace("#",""):null,s&&window.location.pathname===n.pathname&&(e.preventDefault(),t.scrollToMiddle(s))}}))}));const e=location.pathname.includes("/live");window.location.hash&&!e&&setTimeout((()=>{this.scrollToMiddle(window.location.hash.replace("#",""))}),1e3)}scrollToMiddle(e){const t=document.getElementById(e),i=document.getElementById("Page-header-trending-zephr");if(!t)return;const s=document.querySelector(".tbl-read-more-btn");s&&(s.click(),this.storyAdsList=document.querySelectorAll(".SovrnAd.Advertisement[data-delayAdInsertion]"),this.showAllAds());const n=t.offsetTop-(i&&i.offsetHeight?i.offsetHeight:0);setTimeout((()=>{window.scrollTo({top:n,behavior:"smooth"})}),100)}showAllAds(){for(let e=0;e<this.storyAdsList.length;e++){const t=this.storyAdsList[e].closest("[data-class]")?.getAttribute("data-class");this.storyAdsList[e].classList.add(t)}window.properBuildSlots&&window.properBuildSlots()}}class Ke{constructor(){document.querySelectorAll(".SovrnAd[data-module]").forEach((e=>{e&&e.previousElementSibling&&e.previousElementSibling.hasAttribute("data-module")&&e.previousElementSibling.setAttribute("module-before-ad",""),e&&e.nextElementSibling&&e.nextElementSibling.hasAttribute("data-module")&&e.nextElementSibling.setAttribute("module-after-ad","")}))}}class et extends window.HTMLElement{get clipped(){return this.hasAttribute("data-clipped")}set clipped(e){e?this.setAttribute("data-clipped",""):this.removeAttribute("data-clipped")}set overflowing(e){e?this.setAttribute("overflowing",""):this.removeAttribute("overflowing")}get overflowing(){return this.getAttribute("overflowing")}get playlistItemsContainer(){return this.querySelector("[data-playlist-items]")}get fragmentUri(){return this.getAttribute("fragment-uri")}get fragmentParams(){return this.getAttribute("fragment-params")}connectedCallback(){this.isInitialPlayerLoaded=!1,this.playlistItems=[...this.querySelectorAll(".VideoPlaylistItem")],this.addEventListener(d.ended,this),this.addEventListener("scroll",this,!0),this.bindClickEvents(),this.setScrollState(),this.loadPlaylistItem(this.playlistItems[0])}handleEvent(e){if(e.type===d.ready&&(this.isInitialPlayerLoaded?e.target.play():this.isInitialPlayerLoaded=!0),e.type===d.ended){const e=this.playlistItems.findIndex((e=>null!==e.getAttribute("is-current")&&e));e<this.playlistItems.length-1&&this.loadPlaylistItem(this.playlistItems[e+1])}"scroll"===e.type&&this.setScrollState()}bindClickEvents(){const e=this.querySelector('[data-click="toggleExpand"]');e&&e.addEventListener("click",(()=>{this.clipped=!1})),this.querySelectorAll(".VideoPlaylistItem").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),null===e.getAttribute("is-current")&&this.loadPlaylistItem(e)}))})),this.querySelectorAll("button[data-scroll-backward]").forEach((e=>{e.addEventListener("click",(()=>{e.matches("[disabled]")||this.playlistItemsContainer.scrollBy({top:-.67*this.playlistItemsContainer.clientHeight,left:-.67*this.playlistItemsContainer.clientWidth,behavior:"smooth"})}))})),this.querySelectorAll("button[data-scroll-forward]").forEach((e=>{e.addEventListener("click",(()=>{e.matches("[disabled]")||this.playlistItemsContainer.scrollBy({top:.67*this.playlistItemsContainer.clientHeight,left:.67*this.playlistItemsContainer.clientWidth,behavior:"smooth"})}))}))}setScrollState(){const e=this.playlistItemsContainer,t=Math.max(e.scrollLeft,e.scrollTop),i=Math.max(e.scrollWidth-e.scrollLeft-e.clientWidth,e.scrollHeight-e.scrollTop-e.clientHeight);this.querySelectorAll("button[data-scroll-backward]").forEach((e=>{e.disabled=0===t})),this.querySelectorAll("button[data-scroll-forward]").forEach((e=>{e.disabled=0===i}))}getVideoUri(e){const t=new window.URLSearchParams(this.fragmentParams);return t.append("_contentId",e),`${this.fragmentUri}?${t}`}loadPlaylistItem(e){this.addEventListener(d.ready,this);const t=e.querySelector("template").innerHTML;this.querySelector("[data-video-playlist-module-player]").innerHTML=t,this.setState(this.playlistItems.indexOf(e))}setState(e){this.playlistItems.forEach(((t,i)=>{t.removeAttribute("is-current"),e===i&&t.setAttribute("is-current","")}))}}class tt extends window.HTMLElement{connectedCallback(){this.elPlayPreview=this.querySelector("[data-playpreview]"),this.elPlayPreviewTpl=this.elPlayPreview.querySelector("template"),this.isPreviewing=!1,this.setBinds()}setBinds(){this.addEventListener("click",(()=>{})),this.addEventListener("mouseenter",this.startPreview.bind(this)),this.addEventListener("mouseleave",this.endPreview.bind(this))}startPreview(){const e="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;this.isPreviewing||e||(this.elPlayPreview.innerHTML=this.elPlayPreviewTpl.innerHTML,this.setAttribute("data-preview","on"),this.isPreviewing=!0)}endPreview(){this.isPreviewing&&(this.isPreviewing=!1,this.setAttribute("data-preview","off"),setTimeout((()=>{this.elPlayPreview.innerHTML=""}),100))}}class it extends h{async connectedCallback(){super.connectedCallback();const{default:e}=await n.e(333).then(n.bind(n,343));this._player=new e(this.querySelector("iframe")),this._player.ready().then((()=>{this.onReady()})),this._player.on("playing",(()=>{this.onPlay()})),this._player.on("ended",(()=>{this.onEnded()})),this._player.on("pause",(()=>{this.onPause()}))}play(){try{this._player.play()}catch(e){console.error(e)}}}class st extends h{async connectedCallback(){super.connectedCallback(),await this.loadYouTubeVideoPlayerAPI(),this._player=new window.YT.Player(this.querySelector("iframe"),{events:{onReady:()=>this.onReady(),onStateChange:e=>this.onStateChange(e)}}),this.playYoutubeOnLeadPromo()}playYoutubeOnLeadPromo(){const e=document.querySelector('[data-gtm-modulestyle="Video Playlist Module - Basic"]');if(e){const t=this.getAttribute("data-video-id");if((e.querySelector("[data-video-id]")?e.querySelector("[data-video-id]").getAttribute("data-video-id"):null)!==t)return;const i=e.querySelector(".PageListStandardE-leadPromo-info");i.setAttribute("data-promo-info-video-id",t),i.addEventListener("click",(()=>{i.getAttribute("data-promo-info-video-id")===t&&(this._player.getPlayerState()===window.YT.PlayerState.PLAYING?this.pause():this.play())}))}else console.error("Element not found!")}loadYouTubeVideoPlayerAPI(){return new Promise((e=>{if(window.YouTubeAPIReady)return e();{const e=document.createElement("script"),t=document.getElementsByTagName("script")[0],i=()=>{window.YouTubeAPIReady=!0,window.dispatchEvent(new window.Event("YouTubeApiReady"))};e.src="https://www.youtube.com/iframe_api",t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=i}window.addEventListener("YouTubeApiReady",e)}))}onStateChange(e){const t=e.data;d.youTubePlayer=this._player,e.currentPlayer="Youtube",t===window.YT.PlayerState.ENDED&&this.onEnded(),t===window.YT.PlayerState.PLAYING&&this.onPlay(e),t===window.YT.PlayerState.PAUSED&&this.onPause()}play(){try{this._player.playVideo()}catch(e){console.error(e)}}pause(){try{this._player.pauseVideo()}catch(e){console.error(e)}}}let nt=!1;class ot extends window.HTMLElement{constructor(){super(...arguments),q(this,"truncateText",((e,t)=>{if(e.length<=t)return e;let i=e.substr(0,t),s=i.lastIndexOf(" ");return-1===s?i:i.substr(0,s)+"..."}))}connectedCallback(){if(this.currentCustomHeadline=this.getAttribute("custom-headline"),"h2"===this.currentCustomHeadline?this.currentCustomHeadline="h1":"h3"===this.currentCustomHeadline&&(this.currentCustomHeadline="h2"),0===this.currentCustomHeadline.indexOf("h")&&document){let e=!1,t=this.parentNode.closest(".PageListStandardE, .PageListStandardB, .PageListStandarD, .PageListStandardH, .PageListCarouselA, .Page-oneColumn, .Page-twoColumn")?.querySelector(this.currentCustomHeadline);t?(e=!0,"h1"===this.currentCustomHeadline&&(nt=!0)):e=!1;let i=this.children[0];if("true"===this.getAttribute("trim-title")){let e=this.getElementsByClassName("PagePromoContentIcons-text");e[0].innerText=this.truncateText(e[0].innerText,90)}let s=i.parentNode.parentNode;if(!e&&(i.className.includes("-header")||s.className.includes("lead"))&&(!1===nt&&"h1"===this.currentCustomHeadline||"h1"!==this.currentCustomHeadline)){!1===nt&&"h1"===this.currentCustomHeadline&&(nt=!0);let e=document.createElement(this.currentCustomHeadline);e.innerHTML=i.innerHTML;for(let t=0;t<i.attributes.length;t++){let s=i.attributes[t];e.setAttribute(s.name,s.value)}i.parentNode.replaceChild(e,i)}}}}class at extends window.HTMLElement{constructor(){super()}connectedCallback(){const e=this.getAttribute("data-round-status");this.screenWidth=screen.width,this.finalsContainer=this.querySelector(".Bracket-finalsContainer"),this.prevBtn=null;const t=this.querySelector(".Bracket-container");t.style.position="relative",t.style.left="-4px",t.style.top="0px",this.screenWidth<=1023?(this.addEventListener("click",(e=>{const t=e.target;if("BUTTON"===t.tagName){const e=t.getAttribute("data-attribute");this.prevBtn&&(this.prevBtn.style.backgroundColor="#fff",this.prevBtn.style.color="#010001"),t.style.backgroundColor="#d94839",t.style.color="#fff",this.prevBtn=t,this.scrollToElement(e)}})),this.finalsContainer.style.display="none",this.findCurrentRound(e)):this.finalsContainer.style.display="grid"}changeButtonColor(e){const t=this.querySelector(`#column${e}`);this.prevBtn&&(this.prevBtn.style.backgroundColor="#fff",this.prevBtn.style.color="#010001"),t.style.backgroundColor="#d94839",t.style.color="#fff",this.prevBtn=t}findCurrentRound(e){try{const t=JSON.parse(e),i=Object.values(t).every((e=>"closed"===e)),s=Object.values(t).every((e=>"scheduled"===e)),n=Object.values(t).some((e=>"in_progress"===e));i?this.handleRound("National Championship"):s?this.handleRound("First Four"):n?this.handleRound(n):console.log("No rounds are in found.")}catch(e){console.error("Error parsing round status:",e)}}handleRound(e){const t=this.getRoundNumber(e);this.scrollToElement(t),this.changeButtonColor(t),this.scrollToElementSmooth(t)}getRoundNumber(e){return{"First Four":"0","First Round":"1","Second Round":"2","Sweet 16":"3","ELITE Eight":"4","Final Four":"5","National Championship":"6"}[e]||"1"}scrollToElementSmooth(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";const i=this.querySelector(`#column${e}`);i?i.scrollIntoView({behavior:t,block:"end",inline:"nearest"}):console.error(`Element with ID "${e}" not found.`)}addScrollToBracket(e,t,i,s,n,o,a,r){const l=this.querySelectorAll(".Bracket-container"),d=this.querySelectorAll(".region.left"),c=this.querySelector(".order-3"),h=this.querySelectorAll(".region.alignTextRight-0-2-313");i?l.forEach((i=>{i.style.transition="left .25s ease-out",i.style.position="relative",i.style.left=`-${e}px`,i.style.top=`-${t}px`})):setTimeout((()=>{l.forEach((i=>{i.style.transition="left .25s ease-out",i.style.position="relative",i.style.left=`-${e}px`,i.style.top=`-${t}px`})),s&&n&&d.forEach((e=>{e.style.position="relative",e.style.left=`${s}px`,e.style.top=`${n}px`})),o&&a&&h.forEach((e=>{e.style.position="relative",e.style.left=`${o}px`,e.style.top=`${a}px`})),r&&(c.style.position="relative",c.style.left=`-${r}px`)}),500)}scrollToElement(e){this.finalsContainer.style.display="none";const t=this.querySelectorAll(".Bracket-container"),i=this.querySelector(".Bracket-finalsContainer div:first-child .Game-final-four");switch(e){case"0":this.addScrollToBracket(0,0,!1,1,1,1,1,1),t.forEach((e=>{e.classList.remove("Mobile-view","sweet-16","elite8")}));break;case"1":this.addScrollToBracket(215,12,!1,1,5,1,5,205),t.forEach((e=>{e.classList.remove("Mobile-view","sweet-16","elite8")}));break;case"2":this.addScrollToBracket(430,80,!1,220,75,220,75,205),t.forEach((e=>{e.classList.add("Mobile-view"),e.classList.remove("sweet-16")}));break;case"3":this.addScrollToBracket(650,120,!1,440,120,440,120,205),t.forEach((e=>{e.classList.add("Mobile-view","sweet-16"),e.classList.remove("elite8")}));break;case"4":this.addScrollToBracket(870,180,!1,660,172,660,38,205),t.forEach((e=>{e.classList.add("Mobile-view","sweet-16","elite8")})),this.screenWidth<=480&&(this.finalsContainer.style.transition="left .25s ease-out",i.style.marginBottom="220px",this.finalsContainer.style.display="grid",this.finalsContainer.style.position="absolute",this.finalsContainer.style.top="115px",this.finalsContainer.style.left="226px");break;case"5":this.addScrollToBracket(1090,190,!1,0,0,0,0,205),t.forEach((e=>{e.classList.remove("Mobile-view","sweet-16","elite8")})),i.style.marginBottom="15px",this.finalsContainer.style.zIndex="999",this.finalsContainer.style.position="relative",this.finalsContainer.style.transition="left .25s ease-out",this.finalsContainer.style.display="grid",this.finalsContainer.style.left="-215px",this.finalsContainer.style.top="-1800px";break;case"6":this.addScrollToBracket(1090,190,!1,0,0,0,0,205),this.finalsContainer.style.transition="left .25s ease-out",this.finalsContainer.style.display="grid",this.finalsContainer.style.top="-1820px",this.finalsContainer.style.left="-475px",this.finalsContainer.style.width="30rem",t.forEach((e=>{e.classList.remove("Mobile-view","sweet-16","elite8")}))}}}const rt="background: Red;color: white; padding: 4px;";class lt extends window.HTMLElement{constructor(){super(),q(this,"handleOrientationChange",(()=>{const{deviceType:e,orientation:t}=this.detectDeviceType();console.log("%cDevice Type:",rt,e),console.log("%cOrientation:",rt,t),console.log("%cOrientation Changed:",rt,t)})),this.detectDeviceType()}detectDeviceType(){const e=navigator.userAgent.toLowerCase();let t="desktop";const i=/ipad/.test(e)||navigator.maxTouchPoints>2&&"macOS"===navigator?.userAgentData?.platform||/Macintosh/i.test(e)&&navigator.maxTouchPoints>2,s=/android/.test(e)&&!/mobile/.test(e),n=/samsung.*tablet/.test(e)||/galaxy.*tablet/.test(e)||/sm-t/.test(e),o=/windows nt/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,a=/(kindle|playbook|silk|tablet|gt-p|sm-t|surface|nexus(?!.*mobile)|shield tablet)/.test(e),r=window.innerWidth,l=window.innerHeight;i||s||n||o||a||r>=600&&r<=1366?t="tablet":(/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/.test(e)||/android.*mobile/.test(e)||r<600)&&(t="mobile");let d="portrait";return d=window.screen.orientation?window.screen.orientation.type.includes("landscape")?"landscape":"portrait":r>l?"landscape":"portrait",this.handlePageAsideVisibility(t,d),{deviceType:t,orientation:d}}handlePageAsideVisibility(e,t){const i=document.documentElement;"portrait"===t&&"tablet"===e?i.setAttribute("data-orientation","portrait"):i.removeAttribute("data-orientation")}connectedCallback(){window.screen.orientation&&window.screen.orientation.addEventListener("change",this.handleOrientationChange),window.addEventListener("resize",this.handleOrientationChange),this.taboolaEvent(),this.autoLoadAds();const e=screen.width;this.sovrnAds=this.querySelectorAll(".SovrnAd.Advertisement[data-delayAdInsertion]"),e>767?this.showAllAds():this.showFirstAd(),this.parselyItemsUrl=[],this.parselyFeature(),window.vfQ=window.vfQ||[],window.vfQ.push((()=>{this.checkZephrLogin()})),window.vfQ.push((()=>{window.vf.$prepublish((function(e,t){if("authentication"===e&&"required"===t)return window.vf.$publish("tray","close"),window.location.href=`/login?target=${window.location.pathname}`,!1;for(var i=arguments.length,s=new Array(i>2?i-2:0),n=2;n<i;n++)s[n-2]=arguments[n];return{channel:e,event:t,args:s}}))}))}showAllAds(){for(let e=0;e<this.sovrnAds.length;e++){const t=this.sovrnAds[e].closest("[data-class]")?.getAttribute("data-class");this.sovrnAds[e].classList.add(t)}window.properBuildSlots&&window.properBuildSlots()}showFirstAd(){if(this.sovrnAds&&this.sovrnAds.length){const e=this.sovrnAds[0].closest("[data-class]")?.getAttribute("data-class");this.sovrnAds[0].classList.add(e),window.properBuildSlots&&window.properBuildSlots()}}taboolaEvent(){window._taboola=window._taboola||[],window._taboola.push({listenTo:"readmore.click",handler:()=>{this.showAllAds()}})}autoLoadAds(){setTimeout((()=>{this.querySelector(".tbl-read-more-btn")||this.showAllAds()}),1e4)}async parselyFeature(){let e=5;const t=this.querySelectorAll("[data-parsely-title]");if(!t?.length)return;let i=!1;for(let e=0;e<t.length;e++){const s=t[e].getAttribute("data-parsely-enabled");if(s&&"true"===s){i=!0;break}}if(i){try{const e=`/parsely-api-endpoint?article_url=${window.location.origin}${window.location.pathname}`,i=await this.fetchRelatedContent(e);if(!i?.length)throw new Error("Network response was ok but response is empty");t.forEach(((e,t)=>{this.displayRelatedContent(i,e,t)}))}catch(t){if(t?.message?.toLowerCase()?.includes("disabled"))return void console.warn("Parsely feature is disabled. Stopping retry loop.");console.error("Error fetching related content:",t),e=1}setTimeout((()=>{this.parselyFeature()}),60*e*1e3)}}async fetchRelatedContent(e){try{const t=await fetch(e),i=await t.json();if(!t.ok)throw i&&i.error?new Error(i.error):new Error(`Network response was not ok: ${t.statusText}`);return i}catch(e){throw console.error("Error fetching related content:",e),e}}displayRelatedContent(e,t,i){const s=/\/article/,n=/\/defaultshareimage/,o=t?.querySelector(".PageList-header-title"),a=t?.getAttribute("data-parsely-title"),r=t?.querySelectorAll(".PageListStandardB .PageList-items-item"),l=t?.querySelector(".PageListStandardB .PageList-items");let d=[],c=[];if((e||[]).some((e=>{const t=`${window.location.origin}/${e.articleUrl}`;if(s.test(t)&&e.imageUrl&&!n.test(e.imageUrl)&&!this.parselyItemsUrl.includes(t)){const i=document.createElement("div");i.classList.add("PageList-items-item"),c.push(e),this.parselyItemsUrl.push(t);let s=this.hubPeekPromo();if(s=s.replace(/{{title}}/g,e.title),s=s.replace(/{{thumbnailUrl}}/g,e.imageUrl),s=s.replace(/{{url}}/g,this.removeURLParams(t)),i.innerHTML=s,d.push(i),3===d.length)return!0}})),console.log(`%cParsly: Filtered [${i+1}]`,rt,c),console.log(`%cParsly: All Hubpeeks [${i+1}]`,rt,this.parselyItemsUrl),d.length&&a)if(o)o.textContent=a;else{const e=document.createElement("div");e.classList.add("PageList-header"),e.setAttribute("data-prompt","visible"),e.innerHTML=this.hubPeekTitle().replace(/{{title}}/g,a);const i=t?.querySelector(".PageList-header-alternativedivider");i&&i.parentNode.replaceChild(e,i)}for(;d.length<3;)d.push(r[d.length%r.length]);l.replaceChildren(),d.forEach((e=>{l.appendChild(e)}))}removeURLParams(e){const t=new URL(e);return t.search="",t.toString()}hubPeekPromo(){return'<div class="PagePromo" data-gtm-region="{{title}}" data-gtm-topic="No Value" data-align-top="" data-mobile-alt-layout="true" data-gtm-region-item="">\n              <div class="PagePromo-media" data-animate="fromBottom">\n                <a class="Link" aria-label="{{title}}" href="{{url}}">\n                  <picture>\n                      <source media="(min-width: 600px)" srcset="{{thumbnailUrl}}">\n                      <source type="image/webp" srcset="{{thumbnailUrl}}">\n                      <img class="Image crop-medium-3x2" alt="{{title}}" src="{{thumbnailUrl}}">\n                  </picture>\n                </a>\n              </div>\n              <div class="PagePromo-content" data-animate="fromBottom">\n                <div class="PagePromo-title">\n                    <a class="Link " href="{{url}}"><span class="PagePromoContentIcons-text">{{title}}</span></a>\n                </div>\n              </div>\n          </div>'}hubPeekTitle(){return'<bsp-custom-headline custom-headline="div">\n                <div class="PageList-header-title">\n                    {{title}}\n                </div>\n            </bsp-custom-headline>'}async checkZephrLogin(){try{200===(await window.fetch("/blaize/account")).status?window.vf.session.login.cookie():window.vf&&window.vf.session.logout()}catch(e){return console.error("Error getting profile",e)}}}function dt(){return new Promise(((e,t)=>{const i=indexedDB.open("apiCacheDB",1);i.onupgradeneeded=e=>{e.target.result.createObjectStore("responses",{keyPath:"url"})},i.onsuccess=t=>{e(t.target.result)},i.onerror=e=>{t("IndexedDB error: "+e.target.errorCode)}}))}function ct(e,t){return new Promise(((i,s)=>{const n=e.transaction(["responses"],"readonly").objectStore("responses").get(t);n.onsuccess=()=>{i(n.result)},n.onerror=()=>{s("Error getting cached response")}}))}function ht(e,t,i){e.transaction(["responses"],"readwrite").objectStore("responses").put({url:t,response:i,timestamp:Date.now()})}const ut="Newsletter-Banner-";class pt extends window.HTMLElement{async connectedCallback(){this.hiddenFieldId=this.generateIdString(),this.addInputAtStart(),document.documentElement.setAttribute("is-newsletter-page",""),this.isLoggedIn=!1,this.storageKey="newsletterItems",this.cacheDuration=9e5,this.exclusiveItems=[],this.selectedItems=[],this.selectedItemsTitle=[],this.privacyPolicy=document.querySelector("[data-privacy-policy]"),this.emailArea=document.getElementById(`${ut}email`),this.submitBtn=document.getElementById(`${ut}submitBtn`),this.closeBtn=document.getElementById(`${ut}closeBtn`),this.newsLetterText="Newsletter",this.db=await dt(),document.querySelectorAll("[data-checkbox-id]").forEach((e=>{e.addEventListener("change",(()=>{const t=e.id,i=e.getAttribute("data-title");if(e.checked)e.nextElementSibling.innerHTML="SELECTED",this.selectedItems.push(t),this.selectedItemsTitle.push(i);else{e.nextElementSibling.innerHTML="SELECT";const i=this.selectedItems.indexOf(t);this.selectedItems.splice(i,1),this.selectedItemsTitle.splice(i,1)}this.selectedItems.length?(document.querySelector("[data-sailthru-banner]").removeAttribute("hidden"),this.newsLetterText=this.selectedItems.length>1?"Newsletters":"Newsletter"):document.querySelector("[data-sailthru-banner]").setAttribute("hidden",""),this.updateSailthruBennerTitle();const s=this.selectedItems.filter((e=>!this.exclusiveItems.includes(e)));if(ht(this.db,this.storageKey,s),this.isLoggedIn){const e=this.selectedItems.filter((e=>this.exclusiveItems.includes(e)));ht(this.db,`${this.storageKey}Exclusive`,e)}}))})),this.exclusiveNLEvent(),this.submitSailthru(),this.closeSailthruForm(),this.disableEnableExclusive(!0),this.checkLogin(),this.init()}init(){}async preSelectedItems(){let e=new URLSearchParams(window.location.search).get("id")||"";e.length&&(e=e.split(","),this.hasCommonItem(e,this.exclusiveItems)&&!this.isLoggedIn&&(ht(this.db,`${this.storageKey}Exclusive`,e),window.location.href="/register?target=newsletters"));const t=await ct(this.db,this.storageKey),i=Date.now();t&&i-t.timestamp<this.cacheDuration&&(e=e.concat(t?.response||[])),e.length&&this.updateSelectedList(e)}updateSelectedList(e){e.forEach((e=>{const t=document.getElementById(e);t.checked=!0,t.nextElementSibling.innerHTML="SELECTED",this.selectedItems.push(e),this.selectedItemsTitle.push(t.getAttribute("data-title"))})),document.querySelector("[data-sailthru-banner]").removeAttribute("hidden"),this.newsLetterText=this.selectedItems.length>1?"Newsletters":"Newsletter",this.updateSailthruBennerTitle()}updateSailthruBennerTitle(){this.bennerHeadline=document.querySelector("[data-sailthru-banner] .Newsletter-Banner-title"),this.bennerHeadline.innerHTML=this.selectedItems.length?`${this.selectedItems.length} ${this.newsLetterText} Selected`:"Select Newsletter"}subscribeNL(e){if(this.hiddenField.value)console.warn("Bot field filled --",this.hiddenField.value),this.showMessage();else if(this.emailArea.value&&this.isEmailValid(this.emailArea.value))if(this.privacyPolicy.checked)if(this.selectedItems.length){let t=this.selectedItems;this.isLoggedIn||(t=this.selectedItems.filter((e=>!this.exclusiveItems.includes(e))));let i="/api/newsletter/signup";const s={emailId:this.emailArea.value,newsLetterListToSubscribe:t};fetch(i,{method:"POST",headers:{"Content-Type":"application/json","X-ReCaptcha-Token":e},body:JSON.stringify(s)}).then((e=>200===e.status?this.success():this.error())).then((e=>{console.log("data",e)})).catch((e=>{console.error("error",e)}))}else console.error("required field are missing");else this.showMessage(),this.privacyPolicy.focus();else this.showMessage(),this.emailArea.focus()}submitSailthru(){this.submitBtn.addEventListener("click",(()=>{this.hideMessage(),window.grecaptcha.execute().then((e=>{e?this.subscribeNL(e):console.error("reCAPTCHA token is missing")}))}))}showMessage(){this.hideError(),document.querySelector("[data-sailthru-banner] .Newsletter-Banner-message").style.display="block"}hideMessage(){document.querySelector("[data-sailthru-banner] .Newsletter-Banner-message").style.display="none"}isEmailValid(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}success(){this.hideMessage(),this.hideError(),this.bennerHeadline.innerHTML=`Thank you for subscribing to ${this.selectedItems.length} ${this.newsLetterText}`,this.submitBtn.style.display="none",this.emailArea.style.fontWeight="bold",this.emailArea.value="SUBMITTED",this.emailArea.setAttribute("readonly",!0),g("newsletter_submitted",{count:this.selectedItems.length,items:this.selectedItemsTitle.join(", ")}),async function(e){try{const e=(await dt()).transaction(["responses"],"readwrite").objectStore("responses"),t=e.openCursor();t.onsuccess=t=>{const i=t.target.result;if(i){const t=i.value;Date.now()-t.timestamp>1e4&&e.delete(i.primaryKey),i.continue()}},t.onerror=e=>{console.error("Error cleaning old entries:",e.target.errorCode)}}catch(e){console.error("Error in cleanOldEntries:",e)}}()}error(){this.hideMessage();let e=document.querySelector("[data-sailthru-banner] .Newsletter-Banner-Error");e.style.display="block",e.style.textDecorationColor="red"}hideError(){document.querySelector("[data-sailthru-banner] .Newsletter-Banner-Error").style.display="none"}closeSailthruForm(){this.closeBtn.addEventListener("click",(()=>{document.querySelector("[data-sailthru-banner]").setAttribute("hidden",!0)}))}disableEnableExclusive(e){document.querySelectorAll(".exclusive").forEach((function(t){t.disabled=e}))}async checkLogin(){try{const e=await window.fetch("/blaize/account"),t=e.status,i=await e.json();if(200===t){this.isLoggedIn=!0,this.emailArea.value=i?.identifiers.email_address,this.privacyPolicy.checked=!0,this.emailArea.setAttribute("readonly",!0),this.disableEnableExclusive(!1),this.updateExclusiveBanner();const e=await ct(this.db,`${this.storageKey}Exclusive`),t=Date.now();e&&t-e.timestamp<this.cacheDuration&&this.updateSelectedList(e?.response)}else this.emailArea.removeAttribute("readonly"),this.disableEnableExclusive(!0);this.preSelectedItems()}catch(e){return this.emailArea.removeAttribute("readonly"),this.disableEnableExclusive(!0),this.preSelectedItems(),console.error("Error getting profile",e)}}exclusiveNLEvent(){document.querySelectorAll("[data-exclusive-id]").forEach((e=>{this.exclusiveItems.push(e.getAttribute("data-exclusive-id")),e.addEventListener("click",(()=>{this.isLoggedIn||(ht(this.db,`${this.storageKey}Exclusive`,[e.getAttribute("data-exclusive-id")]),window.location.href="/register?target=newsletters")}))}))}updateExclusiveBanner(){document.querySelectorAll(".NewsletterItem-register").forEach((e=>{e.style.display="none"}))}hasCommonItem(e,t){const i=new Set(e);return t.some((e=>i.has(e)))}generateIdString(){return Math.random().toString(36).substr(2,10)}addInputAtStart(){let e=document.createElement("input");e.type="text",e.id=this.hiddenFieldId,e.style="position: absolute; left: -9999px; top: -9999px; width: 1px; height: 1px;",e.autocomplete="off",e.tabindex="-1",this.firstChild?this.insertBefore(e,this.firstChild):this.appendChild(e),this.hiddenField=document.getElementById(`${this.hiddenFieldId}`)}}class mt extends window.HTMLElement{constructor(){super(),document.documentElement.setAttribute("is-filter-bar",""),this.handleButtonClick=this.handleButtonClick.bind(this),this.openDrawer=this.openDrawer.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this),this.handleOptionClick=this.handleOptionClick.bind(this),this.getURLParameters=this.getURLParameters.bind(this),this.arrowicon="",this.screenWidth=Math.min(screen.width,window.innerWidth),this.currentFilter=""}connectedCallback(){if(this.cacheElements(),this.handleSearchInput(),this.checkInputValue(),this.getURLParameters(),this.overhangElement=document.querySelector("[data-page-overhang]"),this.hasLeaderBoard=document.querySelector('[data-header-hasleaderboard="true"]'),this.overhangElement){const e=document.querySelector(".filter-text");e&&(this.screenWidth<1023&&this.hasLeaderBoard?e.style.color="#000":e.style.color="#fff")}[{id:"search-button",content:"search-movie-reviews"},{id:"0",content:"filters"},{id:"1",content:"filters"},{id:"2",content:"filters"},{id:"3",content:"filters"},{id:"4",content:"filters"},{id:"5",content:"filters"},{id:"6",content:"filters"}].forEach((e=>{document.getElementById(e.id)?.addEventListener("click",(()=>this.handleButtonClick(e.id,e.content)))}));const e=document.querySelectorAll("button[data-filter-button]"),t=document.querySelectorAll(".directionArrow");e.forEach((e=>{const i=e.getAttribute("data-filter-button");e.addEventListener("click",(()=>{t.forEach((e=>{e.classList.remove("down")})),this.arrowicon=e.querySelector(".directionArrow"),this.arrowicon&&this.arrowicon.classList.add("down"),this.handleButtonClickWithIndex(i)}))})),document.getElementById("close-button")?.addEventListener("click",this.handleCloseClick)}handleCloseClick(e){const t=document.getElementById("drawer"),i=t.getElementsByClassName("modalhead-heading");"called"!==e&&g("searchFilterClosed",{filterName:i[0]?.textContent}),t.style.display="none",this.toggleScrolling(!0),this.arrowicon.classList.toggle("up")}openDrawer(e){const t=document.getElementById(e)?.innerHTML||"";document.getElementById("drawer-content").innerHTML=`${t}<button class="close-button" id="close-button">✕</button>`,document.getElementById("drawer").style.display="block",document.getElementById("close-button").addEventListener("click",this.handleCloseClick),this.addOptionClickListeners()}openDrawerWithIndex(e){const t=document.querySelector(`[data-filter-content="${e}"]`)?.innerHTML||"";document.getElementById("drawer-content").innerHTML=`${t}<button class="close-button" id="close-button">✕</button>`,document.getElementById("drawer").style.display="block",this.toggleScrolling(!1),document.getElementById("close-button").addEventListener("click",this.handleCloseClick),this.addOptionClickListeners();const i=document?.getElementById(`resetM-${e}`);i&&i.addEventListener("click",(()=>{this.removeAllFilters()}))}toggleScrolling(e){this.screenWidth<786&&(document.body.style.overflow=e?"auto":"hidden")}addOptionClickListeners(){document.querySelectorAll(".options .option").forEach((e=>{e.addEventListener("click",this.handleOptionClick)}))}updateURLParameter(e,t){const i=new URL(window.location.href),s=new URLSearchParams(i.search);s.set(e,t),i.search=s.toString(),window.history.replaceState({},"",i),this.getURLParameters(),this.handleSubmitWithOptionsSelected(),this.handleCloseClick("called");const n=window.location.pathname;this.getNewSearch(n).then((e=>{clearTimeout(this.loadingTimeout),this.clearSearchForm(),this.renderSearchResults(e),document.body.dispatchEvent(new CustomEvent("MovieSearch",{detail:{responseMarkup:e}}))}))}removeAllFilters(){const e=new URL(window.location.href);e.search="",window.location.href=e.toString(),this.filterText.textContent="",this.filterContainer.style.visibility="hidden",g("searchMovieReviewResetButtonClicked",{})}handleOptionClick(e){const t=e.currentTarget.querySelector(".option-text");if(this.toggleScrolling(!0),t){const e=t.getAttribute("name"),i=t.getAttribute("paramVal");t.hasAttribute("israting")?g("filterClicked",{filterName:`${i} ${"1"===i?" Star ":" Stars "}`}):g("filterClicked",{filterName:t?.innerText}),this.updateURLParameter(e,i)}}handleButtonClick(e,t){const i=document.getElementById(e).getAttribute("data-heading");document.querySelectorAll(".nav-button").forEach((e=>{e.style.backgroundColor=""})),i!==this.currentFilter&&g("searchFilterOpened",{filterName:i}),this.currentFilter=i,document.getElementById(e).style.backgroundColor="#CCCCCC",this.openDrawer(t,e),"search-movie-reviews"===t&&this.handleFormSubmit()}handleButtonClickWithIndex(e){this.openDrawerWithIndex(e)}handleFormSubmit(){const e=document.querySelector("[data-bsp-search-results-form]");e.addEventListener("submit",(t=>{t.preventDefault(),this.searchInput&&this.searchInput.blur();const i=new URLSearchParams(new FormData(e)).toString(),s=window.location.pathname+"?"+i;g("searchFilterSubmited",{filterValue:i.split("=")[1]}),e.submit(),window.history.replaceState({},document.title,s),this.loadingTimeout=setTimeout((()=>{this.clearSearchForm()}),1e3),this.getNewSearch(s).then((e=>{clearTimeout(this.loadingTimeout),this.clearSearchForm(),this.getURLParameters(),this.renderSearchResults(e)}))}))}handleSubmitWithOptionsSelected(){const e=new URL(window.location.href);this.getNewSearch(e).then((e=>{clearTimeout(this.loadingTimeout),this.clearSearchForm(),this.renderSearchResults(e),document.body.dispatchEvent(new CustomEvent("Search:onMovieSearchUpdate",{detail:{responseMarkup:e}}))}))}getURLParameters(){const e=new URL(window.location.href),t=new URLSearchParams(e.search),i=[];for(const[e,s]of t.entries())i.push({name:e,value:s});if(i.length){this.filterContainer.style.display="flex";let e="";i.forEach(((t,s)=>{e+=this.toSentenceCase(t.value);const n=this.querySelector(`[data-${t.name}]`)?.getAttribute(`data-${t.name}`);if("Run Time"===n){const i=parseInt(t.value),s=` - ${1===i?i+29:i+30} Minutes`;e+=this.toSentenceCase(s)}if("Rating"===n){const i="1"===t.value?" Star ":" Stars ";e+=i}s<i.length-1&&(e+=" / ")})),this.filterText.textContent=e,this.filterContainer.style.visibility="visible"}return i}toSentenceCase(e){return e.replace(/\b\w/g,(e=>e.toUpperCase()))}submitSearch(){let e;"function"==typeof Event?e=new Event("submit",{cancelable:!0}):(e=document.createEvent("Event"),e.initEvent("submit",!0,!0)),this.searchForm.dispatchEvent(e)}getNewSearch(e){return new Promise(((t,i)=>{window.fetch(e,{credentials:"include"}).then((e=>{t(e.text())})).catch((()=>{i(new Error("error"))}))}))}clearSearchForm(){this.searchResults.innerHTML=""}checkInputValue(){this.searchInput&&(0===this.searchInput.value.length?this.searchForm.setAttribute("data-has-value",!1):this.searchForm.setAttribute("data-has-value",!0))}handleSearchInput(){this.searchInput&&this.searchInput.addEventListener("keyup",p(250,(()=>{this.checkInputValue()}))),this.clearButton&&this.clearButton.addEventListener("click",(()=>{this.searchInput.value="",this.searchInput.focus(),this.checkInputValue()}))}renderSearchResults(e){const t=document.createElement("div");t.innerHTML=e;const i=t.querySelector("[data-bsp-search-results-ajax]").innerHTML;i&&(this.searchResults.innerHTML=i),this.dispatchRendered(),this.addOptionClickListeners()}dispatchRendered(){const e=new CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(e)}cacheElements(){this.searchForm=document.querySelector("[data-bsp-search-results-form]"),this.searchInput=this.searchForm.querySelector("[data-bsp-search-results-forminput]"),this.searchResults=document.querySelector("[data-bsp-search-results-ajax]"),this.clearButton=this.searchForm.querySelector(".SearchResultsModule-clearInputButton"),this.resetButton=document?.querySelector(".reset-button"),this.filterText=document?.querySelector(".filter-text"),this.filterContainer=document?.querySelector(".filter-container"),this.filterText.textContent="",this.resetButton?.addEventListener("click",(()=>{this.removeAllFilters()})),this.SearchResultsModuleMain=document?.querySelector(".SearchResultsModule-main")}}class gt extends window.HTMLElement{connectedCallback(){this.index=Math.floor(1e3*Math.random()),this.overlayFigEl=this.querySelector("[data-openOverlay]"),this.overlayFigEl&&this.bindImages()}bindImages(){this.overlayFigEl.querySelector("picture").addEventListener("click",(async()=>{await this.createOverlay(),await this.overlayOpen()}))}createOverlay(){const e=this.querySelector("[data-bsp-figure-overlay-template]"),t=`CarouselOverlay_${this.index}`;if(!document.getElementById(t)){this.elOverlay=document.createElement("div"),this.elOverlay.className="CarouselOverlay",this.elOverlay.id=t,this.elOverlay.innerHTML=e.innerHTML;const i=this.elOverlay.querySelector(".ReadMore");i&&(i.setAttribute("data-more-id",`read-more-${this.index}`),i.setAttribute("data-less-id",`read-less-${this.index}`));const n=this.elOverlay.querySelector(".ReadBtn");n&&n.setAttribute(`read-more-${this.index}`,"");const o=this.elOverlay.querySelector(".ReadLess");o&&o.setAttribute(`read-less-${this.index}`,""),document.body.appendChild(this.elOverlay),this.elOverlay.addEventListener("click",(e=>{s.call(this,e,"[data-bsp-carousel-overlayclose]",(async()=>{this.overlayClose()}))}))}}overlayOpen(){this.elOverlay.setAttribute("data-state","open"),document.documentElement.setAttribute("data-carousel-overlay","open");const e=new window.CustomEvent("Ajax:Rendered",{bubbles:!0});document.body.dispatchEvent(e)}overlayClose(){this.elOverlay.setAttribute("data-state","false"),document.documentElement.removeAttribute("data-carousel-overlay"),this.elOverlay.parentElement.removeChild(this.elOverlay),delete this.elOverlay}}function vt(){window.customElements.define("bsp-accordion",e),window.customElements.define("bsp-audio-player",i),window.customElements.define("bsp-audio-wsync",r),window.customElements.define("bsp-banner",l),window.customElements.define("bsp-brightcove-player",u),window.customElements.define("bsp-carousel",b),window.customElements.define("bsp-carousel-read-more",w),window.customElements.define("bsp-collapse",L),window.customElements.define("bsp-copy-link",C),window.customElements.define("bsp-faq-question",P),window.customElements.define("bsp-form",_),window.customElements.define("bsp-gallery-page-carousel",J),window.customElements.define("bsp-gallery-page",Z),window.customElements.define("bsp-header",_e),window.customElements.define("bsp-header-leaderboard",De),window.customElements.define("bsp-lead-superlead-ui",re),window.customElements.define("bsp-cookie-input",ee),window.customElements.define("bsp-document-referrer-input",te),window.customElements.define("bsp-scroll-shade",ie),window.customElements.define("bsp-html5player",x),window.customElements.define("bsp-jw-player",T),window.customElements.define("bsp-language",I),window.customElements.define("bsp-load-more",X),window.customElements.define("bsp-listcarousel",le),window.customElements.define("bsp-list-loadmore",me),window.customElements.define("bsp-liveblog",N),window.customElements.define("bsp-liveblog-feed",$),window.customElements.define("bsp-liveblog-post",V),window.customElements.define("bsp-liveblog-post-list",j),window.customElements.define("bsp-liveblog-secondary-items",Y),window.customElements.define("bsp-page-actions",oe),window.customElements.define("bsp-page-heading-video",ae),window.customElements.define("bsp-poll-module",Oe),window.customElements.define("bsp-read-more",He),window.customElements.define("bsp-nav",We),window.customElements.define("bsp-nativo-ad",Ve),window.customElements.define("bsp-toggler",Je),window.customElements.define("bsp-search-filters",Ne),window.customElements.define("bsp-search-results-module",Re),window.customElements.define("bsp-search-overlay",$e),window.customElements.define("bsp-stat-list",je),window.customElements.define("bsp-tabs",Ge),window.customElements.define("bsp-timestamp",Xe),window.customElements.define("bsp-video-playlist-module",et),window.customElements.define("bsp-video-card",tt),window.customElements.define("bsp-vimeo-player",it),window.customElements.define("bsp-youtube-player",st),window.customElements.define("bsp-custom-headline",ot),window.customElements.define("bsp-sports-bracket",at),window.customElements.define("bsp-story-page",lt),window.customElements.define("bsp-news-letter",pt),window.customElements.define("bsp-fragment",Q),window.customElements.define("bsp-search-filter-bar",mt),window.customElements.define("bsp-jw-data-store",M),window.customElements.define("bsp-figure",gt),new Ze,new ne,new se,new Pe,new Ke,new Qe}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",vt):vt()}()}();